/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/views/layout/theme/theme.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@shopify/theme-a11y/theme-a11y.js":
/*!********************************************************!*\
  !*** ./node_modules/@shopify/theme-a11y/theme-a11y.js ***!
  \********************************************************/
/*! exports provided: pageLinkFocus, focusHash, bindInPageLinks, focusable, trapFocus, removeTrapFocus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pageLinkFocus\", function() { return pageLinkFocus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"focusHash\", function() { return focusHash; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bindInPageLinks\", function() { return bindInPageLinks; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"focusable\", function() { return focusable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"trapFocus\", function() { return trapFocus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeTrapFocus\", function() { return removeTrapFocus; });\n/**\n * A11y Helpers\n * -----------------------------------------------------------------------------\n * A collection of useful functions that help make your theme more accessible\n */\n\n/**\n * For use when focus shifts to a container rather than a link\n * eg for In-page links, after scroll, focus shifts to content area so that\n * next `tab` is where user expects if focusing a link, just $link.focus();\n */\nfunction pageLinkFocus(element, config) {\n  config = config || {};\n\n  var className = config.className || 'js-focus-hidden';\n  var savedTabIndex = element.tabIndex;\n\n  element.tabIndex = -1;\n  element.dataset.tabIndex = savedTabIndex;\n  element.focus();\n  element.classList.add(className);\n  element.addEventListener('blur', callback);\n\n  function callback(event) {\n    event.target.removeEventListener(event.type, callback);\n\n    element.tabIndex = savedTabIndex;\n    delete element.dataset.tabIndex;\n    element.classList.remove(className);\n  }\n}\n\n/**\n * If there's a hash in the url, focus the appropriate element\n */\n\nfunction focusHash() {\n  var hash = window.location.hash;\n  var element = document.getElementById(hash.slice(1));\n  // is there a hash in the url? is it an element on the page?\n\n  if (hash && element) {\n    pageLinkFocus(element);\n  }\n}\n\n/**\n * When an in-page (url w/hash) link is clicked, focus the appropriate element\n */\nfunction bindInPageLinks() {\n  var links = Array.prototype.slice.call(\n    document.querySelectorAll('a[href^=\"#\"]')\n  );\n\n  return links.filter(function(link) {\n    if (link.hash === '#' || link.hash === '') {\n      return false;\n    }\n\n    var element = document.querySelector(link.hash);\n\n    if (!element) {\n      return false;\n    }\n\n    link.addEventListener('click', function() {\n      pageLinkFocus(element);\n    });\n\n    return true;\n  });\n}\n\nfunction focusable(container) {\n  var elements = Array.from(\n    container.querySelectorAll(\n      '[tabindex],' +\n        '[draggable],' +\n        'a[href],' +\n        'area,' +\n        'button:enabled,' +\n        'input:not([type=hidden]):enabled,' +\n        'object,' +\n        'select:enabled,' +\n        'textarea:enabled'\n    )\n  );\n\n  // Filter out elements that are not visible.\n  // Copied from jQuery https://github.com/jquery/jquery/blob/2d4f53416e5f74fa98e0c1d66b6f3c285a12f0ce/src/css/hiddenVisibleSelectors.js\n  return elements.filter(function(element) {\n    return !!(\n      element.offsetWidth ||\n      element.offsetHeight ||\n      element.getClientRects().length\n    );\n  });\n}\n\n/**\n * Traps the focus in a particular container\n *\n * @param {Element} container - Container DOM element to trap focus inside of\n * @param {Element} elementToFocus - Element to be focused on first\n */\n\nvar trapFocusHandlers = {};\n\nfunction trapFocus(container, elementToFocus) {\n  elementToFocus = elementToFocus || container;\n\n  var elements = focusable(container);\n  var first = elements[0];\n  var last = elements[elements.length - 1];\n\n  removeTrapFocus();\n\n  trapFocusHandlers.focusin = function(event) {\n    if (container !== event.target && !container.contains(event.target)) {\n      first.focus();\n    }\n\n    if (\n      event.target !== container &&\n      event.target !== last &&\n      event.target !== first\n    )\n      return;\n    document.addEventListener('keydown', trapFocusHandlers.keydown);\n  };\n\n  trapFocusHandlers.focusout = function() {\n    document.removeEventListener('keydown', trapFocusHandlers.keydown);\n  };\n\n  trapFocusHandlers.keydown = function(event) {\n    if (event.keyCode !== 9) return; // If not TAB key\n\n    // On the last focusable element and tab forward, focus the first element.\n    if (event.target === last && !event.shiftKey) {\n      event.preventDefault();\n      first.focus();\n    }\n\n    //  On the first focusable element and tab backward, focus the last element.\n    if (\n      (event.target === container || event.target === first) &&\n      event.shiftKey\n    ) {\n      event.preventDefault();\n      last.focus();\n    }\n  };\n\n  document.addEventListener('focusout', trapFocusHandlers.focusout);\n  document.addEventListener('focusin', trapFocusHandlers.focusin);\n\n  pageLinkFocus(elementToFocus);\n}\n\n/**\n * Removes the trap of focus from the page\n */\nfunction removeTrapFocus() {\n  document.removeEventListener('focusin', trapFocusHandlers.focusin);\n  document.removeEventListener('focusout', trapFocusHandlers.focusout);\n  document.removeEventListener('keydown', trapFocusHandlers.keydown);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHNob3BpZnkvdGhlbWUtYTExeS90aGVtZS1hMTF5LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BzaG9waWZ5L3RoZW1lLWExMXkvdGhlbWUtYTExeS5qcz9mZTg0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQTExeSBIZWxwZXJzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQSBjb2xsZWN0aW9uIG9mIHVzZWZ1bCBmdW5jdGlvbnMgdGhhdCBoZWxwIG1ha2UgeW91ciB0aGVtZSBtb3JlIGFjY2Vzc2libGVcbiAqL1xuXG4vKipcbiAqIEZvciB1c2Ugd2hlbiBmb2N1cyBzaGlmdHMgdG8gYSBjb250YWluZXIgcmF0aGVyIHRoYW4gYSBsaW5rXG4gKiBlZyBmb3IgSW4tcGFnZSBsaW5rcywgYWZ0ZXIgc2Nyb2xsLCBmb2N1cyBzaGlmdHMgdG8gY29udGVudCBhcmVhIHNvIHRoYXRcbiAqIG5leHQgYHRhYmAgaXMgd2hlcmUgdXNlciBleHBlY3RzIGlmIGZvY3VzaW5nIGEgbGluaywganVzdCAkbGluay5mb2N1cygpO1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFnZUxpbmtGb2N1cyhlbGVtZW50LCBjb25maWcpIHtcbiAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuXG4gIHZhciBjbGFzc05hbWUgPSBjb25maWcuY2xhc3NOYW1lIHx8ICdqcy1mb2N1cy1oaWRkZW4nO1xuICB2YXIgc2F2ZWRUYWJJbmRleCA9IGVsZW1lbnQudGFiSW5kZXg7XG5cbiAgZWxlbWVudC50YWJJbmRleCA9IC0xO1xuICBlbGVtZW50LmRhdGFzZXQudGFiSW5kZXggPSBzYXZlZFRhYkluZGV4O1xuICBlbGVtZW50LmZvY3VzKCk7XG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBjYWxsYmFjayk7XG5cbiAgZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcbiAgICBldmVudC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudC50eXBlLCBjYWxsYmFjayk7XG5cbiAgICBlbGVtZW50LnRhYkluZGV4ID0gc2F2ZWRUYWJJbmRleDtcbiAgICBkZWxldGUgZWxlbWVudC5kYXRhc2V0LnRhYkluZGV4O1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICB9XG59XG5cbi8qKlxuICogSWYgdGhlcmUncyBhIGhhc2ggaW4gdGhlIHVybCwgZm9jdXMgdGhlIGFwcHJvcHJpYXRlIGVsZW1lbnRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXNIYXNoKCkge1xuICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2guc2xpY2UoMSkpO1xuICAvLyBpcyB0aGVyZSBhIGhhc2ggaW4gdGhlIHVybD8gaXMgaXQgYW4gZWxlbWVudCBvbiB0aGUgcGFnZT9cblxuICBpZiAoaGFzaCAmJiBlbGVtZW50KSB7XG4gICAgcGFnZUxpbmtGb2N1cyhlbGVtZW50KTtcbiAgfVxufVxuXG4vKipcbiAqIFdoZW4gYW4gaW4tcGFnZSAodXJsIHcvaGFzaCkgbGluayBpcyBjbGlja2VkLCBmb2N1cyB0aGUgYXBwcm9wcmlhdGUgZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZEluUGFnZUxpbmtzKCkge1xuICB2YXIgbGlua3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhW2hyZWZePVwiI1wiXScpXG4gICk7XG5cbiAgcmV0dXJuIGxpbmtzLmZpbHRlcihmdW5jdGlvbihsaW5rKSB7XG4gICAgaWYgKGxpbmsuaGFzaCA9PT0gJyMnIHx8IGxpbmsuaGFzaCA9PT0gJycpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobGluay5oYXNoKTtcblxuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIHBhZ2VMaW5rRm9jdXMoZWxlbWVudCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb2N1c2FibGUoY29udGFpbmVyKSB7XG4gIHZhciBlbGVtZW50cyA9IEFycmF5LmZyb20oXG4gICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAnW3RhYmluZGV4XSwnICtcbiAgICAgICAgJ1tkcmFnZ2FibGVdLCcgK1xuICAgICAgICAnYVtocmVmXSwnICtcbiAgICAgICAgJ2FyZWEsJyArXG4gICAgICAgICdidXR0b246ZW5hYmxlZCwnICtcbiAgICAgICAgJ2lucHV0Om5vdChbdHlwZT1oaWRkZW5dKTplbmFibGVkLCcgK1xuICAgICAgICAnb2JqZWN0LCcgK1xuICAgICAgICAnc2VsZWN0OmVuYWJsZWQsJyArXG4gICAgICAgICd0ZXh0YXJlYTplbmFibGVkJ1xuICAgIClcbiAgKTtcblxuICAvLyBGaWx0ZXIgb3V0IGVsZW1lbnRzIHRoYXQgYXJlIG5vdCB2aXNpYmxlLlxuICAvLyBDb3BpZWQgZnJvbSBqUXVlcnkgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvYmxvYi8yZDRmNTM0MTZlNWY3NGZhOThlMGMxZDY2YjZmM2MyODVhMTJmMGNlL3NyYy9jc3MvaGlkZGVuVmlzaWJsZVNlbGVjdG9ycy5qc1xuICByZXR1cm4gZWxlbWVudHMuZmlsdGVyKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gISEoXG4gICAgICBlbGVtZW50Lm9mZnNldFdpZHRoIHx8XG4gICAgICBlbGVtZW50Lm9mZnNldEhlaWdodCB8fFxuICAgICAgZWxlbWVudC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aFxuICAgICk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRyYXBzIHRoZSBmb2N1cyBpbiBhIHBhcnRpY3VsYXIgY29udGFpbmVyXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBjb250YWluZXIgLSBDb250YWluZXIgRE9NIGVsZW1lbnQgdG8gdHJhcCBmb2N1cyBpbnNpZGUgb2ZcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFRvRm9jdXMgLSBFbGVtZW50IHRvIGJlIGZvY3VzZWQgb24gZmlyc3RcbiAqL1xuXG52YXIgdHJhcEZvY3VzSGFuZGxlcnMgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRyYXBGb2N1cyhjb250YWluZXIsIGVsZW1lbnRUb0ZvY3VzKSB7XG4gIGVsZW1lbnRUb0ZvY3VzID0gZWxlbWVudFRvRm9jdXMgfHwgY29udGFpbmVyO1xuXG4gIHZhciBlbGVtZW50cyA9IGZvY3VzYWJsZShjb250YWluZXIpO1xuICB2YXIgZmlyc3QgPSBlbGVtZW50c1swXTtcbiAgdmFyIGxhc3QgPSBlbGVtZW50c1tlbGVtZW50cy5sZW5ndGggLSAxXTtcblxuICByZW1vdmVUcmFwRm9jdXMoKTtcblxuICB0cmFwRm9jdXNIYW5kbGVycy5mb2N1c2luID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoY29udGFpbmVyICE9PSBldmVudC50YXJnZXQgJiYgIWNvbnRhaW5lci5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICBmaXJzdC5mb2N1cygpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGV2ZW50LnRhcmdldCAhPT0gY29udGFpbmVyICYmXG4gICAgICBldmVudC50YXJnZXQgIT09IGxhc3QgJiZcbiAgICAgIGV2ZW50LnRhcmdldCAhPT0gZmlyc3RcbiAgICApXG4gICAgICByZXR1cm47XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1c0hhbmRsZXJzLmtleWRvd24pO1xuICB9O1xuXG4gIHRyYXBGb2N1c0hhbmRsZXJzLmZvY3Vzb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1c0hhbmRsZXJzLmtleWRvd24pO1xuICB9O1xuXG4gIHRyYXBGb2N1c0hhbmRsZXJzLmtleWRvd24gPSBmdW5jdGlvbihldmVudCkge1xuICAgIGlmIChldmVudC5rZXlDb2RlICE9PSA5KSByZXR1cm47IC8vIElmIG5vdCBUQUIga2V5XG5cbiAgICAvLyBPbiB0aGUgbGFzdCBmb2N1c2FibGUgZWxlbWVudCBhbmQgdGFiIGZvcndhcmQsIGZvY3VzIHRoZSBmaXJzdCBlbGVtZW50LlxuICAgIGlmIChldmVudC50YXJnZXQgPT09IGxhc3QgJiYgIWV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZmlyc3QuZm9jdXMoKTtcbiAgICB9XG5cbiAgICAvLyAgT24gdGhlIGZpcnN0IGZvY3VzYWJsZSBlbGVtZW50IGFuZCB0YWIgYmFja3dhcmQsIGZvY3VzIHRoZSBsYXN0IGVsZW1lbnQuXG4gICAgaWYgKFxuICAgICAgKGV2ZW50LnRhcmdldCA9PT0gY29udGFpbmVyIHx8IGV2ZW50LnRhcmdldCA9PT0gZmlyc3QpICYmXG4gICAgICBldmVudC5zaGlmdEtleVxuICAgICkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxhc3QuZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0cmFwRm9jdXNIYW5kbGVycy5mb2N1c291dCk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0cmFwRm9jdXNIYW5kbGVycy5mb2N1c2luKTtcblxuICBwYWdlTGlua0ZvY3VzKGVsZW1lbnRUb0ZvY3VzKTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSB0cmFwIG9mIGZvY3VzIGZyb20gdGhlIHBhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVRyYXBGb2N1cygpIHtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRyYXBGb2N1c0hhbmRsZXJzLmZvY3VzaW4pO1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRyYXBGb2N1c0hhbmRsZXJzLmZvY3Vzb3V0KTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1c0hhbmRsZXJzLmtleWRvd24pO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@shopify/theme-a11y/theme-a11y.js\n");

/***/ }),

/***/ "./node_modules/@shopify/theme-currency/currency.js":
/*!**********************************************************!*\
  !*** ./node_modules/@shopify/theme-currency/currency.js ***!
  \**********************************************************/
/*! exports provided: formatMoney */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatMoney\", function() { return formatMoney; });\n/**\n * Currency Helpers\n * -----------------------------------------------------------------------------\n * A collection of useful functions that help with currency formatting\n *\n * Current contents\n * - formatMoney - Takes an amount in cents and returns it as a formatted dollar value.\n *\n */\n\nconst moneyFormat = '${{amount}}';\n\n/**\n * Format money values based on your shop currency settings\n * @param  {Number|string} cents - value in cents or dollar amount e.g. 300 cents\n * or 3.00 dollars\n * @param  {String} format - shop money_format setting\n * @return {String} value - formatted value\n */\nfunction formatMoney(cents, format) {\n  if (typeof cents === 'string') {\n    cents = cents.replace('.', '');\n  }\n  let value = '';\n  const placeholderRegex = /\\{\\{\\s*(\\w+)\\s*\\}\\}/;\n  const formatString = format || moneyFormat;\n\n  function formatWithDelimiters(\n    number,\n    precision = 2,\n    thousands = ',',\n    decimal = '.'\n  ) {\n    if (isNaN(number) || number == null) {\n      return 0;\n    }\n\n    number = (number / 100.0).toFixed(precision);\n\n    const parts = number.split('.');\n    const dollarsAmount = parts[0].replace(\n      /(\\d)(?=(\\d\\d\\d)+(?!\\d))/g,\n      `$1${thousands}`\n    );\n    const centsAmount = parts[1] ? decimal + parts[1] : '';\n\n    return dollarsAmount + centsAmount;\n  }\n\n  switch (formatString.match(placeholderRegex)[1]) {\n    case 'amount':\n      value = formatWithDelimiters(cents, 2);\n      break;\n    case 'amount_no_decimals':\n      value = formatWithDelimiters(cents, 0);\n      break;\n    case 'amount_with_comma_separator':\n      value = formatWithDelimiters(cents, 2, '.', ',');\n      break;\n    case 'amount_no_decimals_with_comma_separator':\n      value = formatWithDelimiters(cents, 0, '.', ',');\n      break;\n  }\n\n  return formatString.replace(placeholderRegex, value);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHNob3BpZnkvdGhlbWUtY3VycmVuY3kvY3VycmVuY3kuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHNob3BpZnkvdGhlbWUtY3VycmVuY3kvY3VycmVuY3kuanM/ZDI4YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEN1cnJlbmN5IEhlbHBlcnNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBIGNvbGxlY3Rpb24gb2YgdXNlZnVsIGZ1bmN0aW9ucyB0aGF0IGhlbHAgd2l0aCBjdXJyZW5jeSBmb3JtYXR0aW5nXG4gKlxuICogQ3VycmVudCBjb250ZW50c1xuICogLSBmb3JtYXRNb25leSAtIFRha2VzIGFuIGFtb3VudCBpbiBjZW50cyBhbmQgcmV0dXJucyBpdCBhcyBhIGZvcm1hdHRlZCBkb2xsYXIgdmFsdWUuXG4gKlxuICovXG5cbmNvbnN0IG1vbmV5Rm9ybWF0ID0gJyR7e2Ftb3VudH19JztcblxuLyoqXG4gKiBGb3JtYXQgbW9uZXkgdmFsdWVzIGJhc2VkIG9uIHlvdXIgc2hvcCBjdXJyZW5jeSBzZXR0aW5nc1xuICogQHBhcmFtICB7TnVtYmVyfHN0cmluZ30gY2VudHMgLSB2YWx1ZSBpbiBjZW50cyBvciBkb2xsYXIgYW1vdW50IGUuZy4gMzAwIGNlbnRzXG4gKiBvciAzLjAwIGRvbGxhcnNcbiAqIEBwYXJhbSAge1N0cmluZ30gZm9ybWF0IC0gc2hvcCBtb25leV9mb3JtYXQgc2V0dGluZ1xuICogQHJldHVybiB7U3RyaW5nfSB2YWx1ZSAtIGZvcm1hdHRlZCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0TW9uZXkoY2VudHMsIGZvcm1hdCkge1xuICBpZiAodHlwZW9mIGNlbnRzID09PSAnc3RyaW5nJykge1xuICAgIGNlbnRzID0gY2VudHMucmVwbGFjZSgnLicsICcnKTtcbiAgfVxuICBsZXQgdmFsdWUgPSAnJztcbiAgY29uc3QgcGxhY2Vob2xkZXJSZWdleCA9IC9cXHtcXHtcXHMqKFxcdyspXFxzKlxcfVxcfS87XG4gIGNvbnN0IGZvcm1hdFN0cmluZyA9IGZvcm1hdCB8fCBtb25leUZvcm1hdDtcblxuICBmdW5jdGlvbiBmb3JtYXRXaXRoRGVsaW1pdGVycyhcbiAgICBudW1iZXIsXG4gICAgcHJlY2lzaW9uID0gMixcbiAgICB0aG91c2FuZHMgPSAnLCcsXG4gICAgZGVjaW1hbCA9ICcuJ1xuICApIHtcbiAgICBpZiAoaXNOYU4obnVtYmVyKSB8fCBudW1iZXIgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgbnVtYmVyID0gKG51bWJlciAvIDEwMC4wKS50b0ZpeGVkKHByZWNpc2lvbik7XG5cbiAgICBjb25zdCBwYXJ0cyA9IG51bWJlci5zcGxpdCgnLicpO1xuICAgIGNvbnN0IGRvbGxhcnNBbW91bnQgPSBwYXJ0c1swXS5yZXBsYWNlKFxuICAgICAgLyhcXGQpKD89KFxcZFxcZFxcZCkrKD8hXFxkKSkvZyxcbiAgICAgIGAkMSR7dGhvdXNhbmRzfWBcbiAgICApO1xuICAgIGNvbnN0IGNlbnRzQW1vdW50ID0gcGFydHNbMV0gPyBkZWNpbWFsICsgcGFydHNbMV0gOiAnJztcblxuICAgIHJldHVybiBkb2xsYXJzQW1vdW50ICsgY2VudHNBbW91bnQ7XG4gIH1cblxuICBzd2l0Y2ggKGZvcm1hdFN0cmluZy5tYXRjaChwbGFjZWhvbGRlclJlZ2V4KVsxXSkge1xuICAgIGNhc2UgJ2Ftb3VudCc6XG4gICAgICB2YWx1ZSA9IGZvcm1hdFdpdGhEZWxpbWl0ZXJzKGNlbnRzLCAyKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Ftb3VudF9ub19kZWNpbWFscyc6XG4gICAgICB2YWx1ZSA9IGZvcm1hdFdpdGhEZWxpbWl0ZXJzKGNlbnRzLCAwKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Ftb3VudF93aXRoX2NvbW1hX3NlcGFyYXRvcic6XG4gICAgICB2YWx1ZSA9IGZvcm1hdFdpdGhEZWxpbWl0ZXJzKGNlbnRzLCAyLCAnLicsICcsJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdhbW91bnRfbm9fZGVjaW1hbHNfd2l0aF9jb21tYV9zZXBhcmF0b3InOlxuICAgICAgdmFsdWUgPSBmb3JtYXRXaXRoRGVsaW1pdGVycyhjZW50cywgMCwgJy4nLCAnLCcpO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gZm9ybWF0U3RyaW5nLnJlcGxhY2UocGxhY2Vob2xkZXJSZWdleCwgdmFsdWUpO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@shopify/theme-currency/currency.js\n");

/***/ }),

/***/ "./node_modules/focus-within-polyfill/dist/focus-within-polyfill.js":
/*!**************************************************************************!*\
  !*** ./node_modules/focus-within-polyfill/dist/focus-within-polyfill.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("(function(){(function(){function e(a){for(var b=[a];a=a.parentNode||a.host||a.defaultView;)b.push(a);return b}function f(a){return function(b){var c=\"undefined\"!==typeof b.getAttribute?b.getAttribute(\"class\")||\"\":void 0;\"undefined\"!==typeof c&&-1===c.indexOf(a)&&b.setAttribute(\"class\",c.concat(\" \",a).trim())}}function g(a){return function(b){var c=\"undefined\"!==typeof b.getAttribute?b.getAttribute(\"class\")||\"\":void 0;if(c){var d=c.indexOf(a);0<=d&&(0===d||0<=h.indexOf(c.charAt(d-1)))&&\n(c=c.replace(a,\"\").trim(),\"\"===c?b.removeAttribute(\"class\"):b.setAttribute(\"class\",c))}}}function k(){var a=function(a){function c(){b=!1;\"blur\"===a.type&&Array.prototype.slice.call(e(a.target)).forEach(g(\"focus-within\"));\"focus\"===a.type&&Array.prototype.slice.call(e(a.target)).forEach(f(\"focus-within\"))}if(!b){window.requestAnimationFrame(c);var b=!0}};document.addEventListener(\"focus\",a,!0);document.addEventListener(\"blur\",a,!0);f(\"js-focus-within\")(document.body);return!0}var h=[\"\\n\",\"\\t\",\" \",\n\"\\r\"];try{return\"undefined\"!==typeof window&&!document.querySelector(\":focus-within\")}catch(a){return k()}})()})();\n//# sourceMappingURL=focus-within-polyfill.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZm9jdXMtd2l0aGluLXBvbHlmaWxsL2Rpc3QvZm9jdXMtd2l0aGluLXBvbHlmaWxsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZvY3VzLXdpdGhpbi1wb2x5ZmlsbC9kaXN0L2ZvY3VzLXdpdGhpbi1wb2x5ZmlsbC5qcz85YzkxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JzsoZnVuY3Rpb24oKXsoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj1bYV07YT1hLnBhcmVudE5vZGV8fGEuaG9zdHx8YS5kZWZhdWx0VmlldzspYi5wdXNoKGEpO3JldHVybiBifWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgYi5nZXRBdHRyaWJ1dGU/Yi5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIjp2b2lkIDA7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjJiYtMT09PWMuaW5kZXhPZihhKSYmYi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGMuY29uY2F0KFwiIFwiLGEpLnRyaW0oKSl9fWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgYi5nZXRBdHRyaWJ1dGU/Yi5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIjp2b2lkIDA7aWYoYyl7dmFyIGQ9Yy5pbmRleE9mKGEpOzA8PWQmJigwPT09ZHx8MDw9aC5pbmRleE9mKGMuY2hhckF0KGQtMSkpKSYmXG4oYz1jLnJlcGxhY2UoYSxcIlwiKS50cmltKCksXCJcIj09PWM/Yi5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKTpiLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsYykpfX19ZnVuY3Rpb24gaygpe3ZhciBhPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoKXtiPSExO1wiYmx1clwiPT09YS50eXBlJiZBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKGEudGFyZ2V0KSkuZm9yRWFjaChnKFwiZm9jdXMtd2l0aGluXCIpKTtcImZvY3VzXCI9PT1hLnR5cGUmJkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUoYS50YXJnZXQpKS5mb3JFYWNoKGYoXCJmb2N1cy13aXRoaW5cIikpfWlmKCFiKXt3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGMpO3ZhciBiPSEwfX07ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsYSwhMCk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIixhLCEwKTtmKFwianMtZm9jdXMtd2l0aGluXCIpKGRvY3VtZW50LmJvZHkpO3JldHVybiEwfXZhciBoPVtcIlxcblwiLFwiXFx0XCIsXCIgXCIsXG5cIlxcclwiXTt0cnl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJiFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiOmZvY3VzLXdpdGhpblwiKX1jYXRjaChhKXtyZXR1cm4gaygpfX0pKCl9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9jdXMtd2l0aGluLXBvbHlmaWxsLmpzLm1hcFxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/focus-within-polyfill/dist/focus-within-polyfill.js\n");

/***/ }),

/***/ "./src/scripts/cart/cart-api.js":
/*!**************************************!*\
  !*** ./src/scripts/cart/cart-api.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/*\n  Listen for Cart Updates with the 'cartAPI' Event Listener\n  ====================================================================\n  window.addEventListener('cartAPI', ({ detail: { cartData } }) => {\n    console.log(cartData)\n  })\n  ====================================================================\n*/\nvar cartAPI = new ( /*#__PURE__*/function () {\n  function CartAPI() {\n    _classCallCheck(this, CartAPI);\n\n    this.cartData = {};\n    this.cart();\n  }\n\n  _createClass(CartAPI, [{\n    key: \"getCartData\",\n    value: function getCartData() {\n      return this.cartData;\n    }\n  }, {\n    key: \"cart\",\n    value: function () {\n      var _cart = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.cartFetch();\n\n              case 2:\n                this.cartData = _context.sent;\n                window.dispatchEvent(new CustomEvent('cartAPI', {\n                  // eslint-disable-line\n                  detail: {\n                    cartData: this.cartData\n                  }\n                }));\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function cart() {\n        return _cart.apply(this, arguments);\n      }\n\n      return cart;\n    }()\n  }, {\n    key: \"cartAdd\",\n    value: function () {\n      var _cartAdd = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var data,\n            pullCart,\n            cartRes,\n            _args2 = arguments;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : null;\n                pullCart = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : true;\n\n                if (data) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 4:\n                _context2.next = 6;\n                return this.cartFetch('add', data);\n\n              case 6:\n                cartRes = _context2.sent;\n\n                if (pullCart) {\n                  this.cart();\n                }\n\n                return _context2.abrupt(\"return\", cartRes);\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function cartAdd() {\n        return _cartAdd.apply(this, arguments);\n      }\n\n      return cartAdd;\n    }()\n  }, {\n    key: \"cartChange\",\n    value: function () {\n      var _cartChange = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var data,\n            pullCart,\n            cartRes,\n            _args3 = arguments;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                data = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : null;\n                pullCart = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : true;\n\n                if (data) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 4:\n                _context3.next = 6;\n                return this.cartFetch('change', data);\n\n              case 6:\n                cartRes = _context3.sent;\n\n                if (pullCart) {\n                  this.cart();\n                }\n\n                return _context3.abrupt(\"return\", cartRes);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function cartChange() {\n        return _cartChange.apply(this, arguments);\n      }\n\n      return cartChange;\n    }()\n  }, {\n    key: \"cartUpdate\",\n    value: function () {\n      var _cartUpdate = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var data,\n            pullCart,\n            cartRes,\n            _args4 = arguments;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                data = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : null;\n                pullCart = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : true;\n\n                if (data) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 4:\n                _context4.next = 6;\n                return this.cartFetch('update', data);\n\n              case 6:\n                cartRes = _context4.sent;\n\n                if (pullCart) {\n                  this.cart();\n                }\n\n                return _context4.abrupt(\"return\", cartRes);\n\n              case 9:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function cartUpdate() {\n        return _cartUpdate.apply(this, arguments);\n      }\n\n      return cartUpdate;\n    }()\n  }, {\n    key: \"cartClear\",\n    value: function () {\n      var _cartClear = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n        var data,\n            pullCart,\n            cartRes,\n            _args5 = arguments;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                data = _args5.length > 0 && _args5[0] !== undefined ? _args5[0] : null;\n                pullCart = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : true;\n\n                if (data) {\n                  _context5.next = 4;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 4:\n                _context5.next = 6;\n                return this.cartFetch('clear', data);\n\n              case 6:\n                cartRes = _context5.sent;\n\n                if (pullCart) {\n                  this.cart();\n                }\n\n                return _context5.abrupt(\"return\", cartRes);\n\n              case 9:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function cartClear() {\n        return _cartClear.apply(this, arguments);\n      }\n\n      return cartClear;\n    }()\n  }, {\n    key: \"cartSwap\",\n    value: function () {\n      var _cartSwap = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n        var data,\n            pullCart,\n            itemsToRemove,\n            itemsToUpdate,\n            itemsToAdd,\n            cartRes,\n            _args6 = arguments;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                data = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : null;\n                pullCart = _args6.length > 1 && _args6[1] !== undefined ? _args6[1] : true;\n\n                if (data) {\n                  _context6.next = 4;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\");\n\n              case 4:\n                itemsToRemove = data.map(function (item) {\n                  return item.oldItemKey;\n                });\n                itemsToUpdate = {\n                  updates: itemsToRemove.reduce(function (prev, cur) {\n                    prev[cur] = 0;\n                    return prev;\n                  }, {})\n                };\n                _context6.next = 8;\n                return this.cartUpdate(itemsToUpdate, false);\n\n              case 8:\n                itemsToAdd = {\n                  items: data.map(function (item) {\n                    return item.newItem;\n                  })\n                };\n                _context6.next = 11;\n                return this.cartAdd(itemsToAdd, false);\n\n              case 11:\n                cartRes = _context6.sent;\n\n                if (pullCart) {\n                  this.cart();\n                }\n\n                return _context6.abrupt(\"return\", cartRes);\n\n              case 14:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function cartSwap() {\n        return _cartSwap.apply(this, arguments);\n      }\n\n      return cartSwap;\n    }()\n  }, {\n    key: \"cartFetch\",\n    value: function () {\n      var _cartFetch = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n        var action,\n            data,\n            willPost,\n            url,\n            req,\n            _args7 = arguments;\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                action = _args7.length > 0 && _args7[0] !== undefined ? _args7[0] : null;\n                data = _args7.length > 1 && _args7[1] !== undefined ? _args7[1] : null;\n                willPost = data !== null && (action === 'add' || action === 'update' || action === 'change' || action === 'clear');\n                url = \"/cart\".concat(willPost ? \"/\".concat(action) : '', \".js\");\n                req = {\n                  method: willPost ? 'POST' : 'GET',\n                  credentials: 'same-origin',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'X-Requested-With': 'xmlhttprequest'\n                  }\n                };\n\n                if (willPost && action !== 'clear') {\n                  req.body = JSON.stringify(data);\n                }\n\n                _context7.next = 8;\n                return fetch(url, req).then(function (response) {\n                  return response.json();\n                }).then(function (result) {\n                  if (result.status) {\n                    throw new Error(result.description);\n                  }\n\n                  return result;\n                })[\"catch\"](function (error) {\n                  console.error(error);\n                  return error;\n                });\n\n              case 8:\n                return _context7.abrupt(\"return\", _context7.sent);\n\n              case 9:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function cartFetch() {\n        return _cartFetch.apply(this, arguments);\n      }\n\n      return cartFetch;\n    }()\n  }]);\n\n  return CartAPI;\n}())();\n/* harmony default export */ __webpack_exports__[\"default\"] = (cartAPI);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jYXJ0L2NhcnQtYXBpLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY2FydC9jYXJ0LWFwaS5qcz85ODAyIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuLypcbiAgTGlzdGVuIGZvciBDYXJ0IFVwZGF0ZXMgd2l0aCB0aGUgJ2NhcnRBUEknIEV2ZW50IExpc3RlbmVyXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjYXJ0QVBJJywgKHsgZGV0YWlsOiB7IGNhcnREYXRhIH0gfSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGNhcnREYXRhKVxuICB9KVxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cbnZhciBjYXJ0QVBJID0gbmV3ICggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2FydEFQSSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FydEFQSSk7XG5cbiAgICB0aGlzLmNhcnREYXRhID0ge307XG4gICAgdGhpcy5jYXJ0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2FydEFQSSwgW3tcbiAgICBrZXk6IFwiZ2V0Q2FydERhdGFcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2FydERhdGEoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYXJ0RGF0YTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2FydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2NhcnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYXJ0RmV0Y2goKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgdGhpcy5jYXJ0RGF0YSA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjYXJ0QVBJJywge1xuICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgIGNhcnREYXRhOiB0aGlzLmNhcnREYXRhXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gY2FydCgpIHtcbiAgICAgICAgcmV0dXJuIF9jYXJ0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYXJ0O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImNhcnRBZGRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9jYXJ0QWRkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgICAgdmFyIGRhdGEsXG4gICAgICAgICAgICBwdWxsQ2FydCxcbiAgICAgICAgICAgIGNhcnRSZXMsXG4gICAgICAgICAgICBfYXJnczIgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9hcmdzMi5sZW5ndGggPiAwICYmIF9hcmdzMlswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyWzBdIDogbnVsbDtcbiAgICAgICAgICAgICAgICBwdWxsQ2FydCA9IF9hcmdzMi5sZW5ndGggPiAxICYmIF9hcmdzMlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyWzFdIDogdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhcnRGZXRjaCgnYWRkJywgZGF0YSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIGNhcnRSZXMgPSBfY29udGV4dDIuc2VudDtcblxuICAgICAgICAgICAgICAgIGlmIChwdWxsQ2FydCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5jYXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgY2FydFJlcyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNhcnRBZGQoKSB7XG4gICAgICAgIHJldHVybiBfY2FydEFkZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2FydEFkZDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJjYXJ0Q2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY2FydENoYW5nZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7XG4gICAgICAgIHZhciBkYXRhLFxuICAgICAgICAgICAgcHVsbENhcnQsXG4gICAgICAgICAgICBjYXJ0UmVzLFxuICAgICAgICAgICAgX2FyZ3MzID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfYXJnczMubGVuZ3RoID4gMCAmJiBfYXJnczNbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzM1swXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgcHVsbENhcnQgPSBfYXJnczMubGVuZ3RoID4gMSAmJiBfYXJnczNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzM1sxXSA6IHRydWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYXJ0RmV0Y2goJ2NoYW5nZScsIGRhdGEpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICBjYXJ0UmVzID0gX2NvbnRleHQzLnNlbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAocHVsbENhcnQpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2FydCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIGNhcnRSZXMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBjYXJ0Q2hhbmdlKCkge1xuICAgICAgICByZXR1cm4gX2NhcnRDaGFuZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNhcnRDaGFuZ2U7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiY2FydFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2NhcnRVcGRhdGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkge1xuICAgICAgICB2YXIgZGF0YSxcbiAgICAgICAgICAgIHB1bGxDYXJ0LFxuICAgICAgICAgICAgY2FydFJlcyxcbiAgICAgICAgICAgIF9hcmdzNCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2FyZ3M0Lmxlbmd0aCA+IDAgJiYgX2FyZ3M0WzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczRbMF0gOiBudWxsO1xuICAgICAgICAgICAgICAgIHB1bGxDYXJ0ID0gX2FyZ3M0Lmxlbmd0aCA+IDEgJiYgX2FyZ3M0WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczRbMV0gOiB0cnVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FydEZldGNoKCd1cGRhdGUnLCBkYXRhKTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgY2FydFJlcyA9IF9jb250ZXh0NC5zZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKHB1bGxDYXJ0KSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmNhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdChcInJldHVyblwiLCBjYXJ0UmVzKTtcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gY2FydFVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9jYXJ0VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYXJ0VXBkYXRlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImNhcnRDbGVhclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2NhcnRDbGVhciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7XG4gICAgICAgIHZhciBkYXRhLFxuICAgICAgICAgICAgcHVsbENhcnQsXG4gICAgICAgICAgICBjYXJ0UmVzLFxuICAgICAgICAgICAgX2FyZ3M1ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfYXJnczUubGVuZ3RoID4gMCAmJiBfYXJnczVbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNVswXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgcHVsbENhcnQgPSBfYXJnczUubGVuZ3RoID4gMSAmJiBfYXJnczVbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNVsxXSA6IHRydWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYXJ0RmV0Y2goJ2NsZWFyJywgZGF0YSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIGNhcnRSZXMgPSBfY29udGV4dDUuc2VudDtcblxuICAgICAgICAgICAgICAgIGlmIChwdWxsQ2FydCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5jYXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgY2FydFJlcyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNhcnRDbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIF9jYXJ0Q2xlYXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNhcnRDbGVhcjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJjYXJ0U3dhcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2NhcnRTd2FwID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHtcbiAgICAgICAgdmFyIGRhdGEsXG4gICAgICAgICAgICBwdWxsQ2FydCxcbiAgICAgICAgICAgIGl0ZW1zVG9SZW1vdmUsXG4gICAgICAgICAgICBpdGVtc1RvVXBkYXRlLFxuICAgICAgICAgICAgaXRlbXNUb0FkZCxcbiAgICAgICAgICAgIGNhcnRSZXMsXG4gICAgICAgICAgICBfYXJnczYgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9hcmdzNi5sZW5ndGggPiAwICYmIF9hcmdzNlswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M2WzBdIDogbnVsbDtcbiAgICAgICAgICAgICAgICBwdWxsQ2FydCA9IF9hcmdzNi5sZW5ndGggPiAxICYmIF9hcmdzNlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M2WzFdIDogdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaXRlbXNUb1JlbW92ZSA9IGRhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5vbGRJdGVtS2V5O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGl0ZW1zVG9VcGRhdGUgPSB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVzOiBpdGVtc1RvUmVtb3ZlLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZbY3VyXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgfSwge30pXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FydFVwZGF0ZShpdGVtc1RvVXBkYXRlLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIGl0ZW1zVG9BZGQgPSB7XG4gICAgICAgICAgICAgICAgICBpdGVtczogZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubmV3SXRlbTtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDExO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhcnRBZGQoaXRlbXNUb0FkZCwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgY2FydFJlcyA9IF9jb250ZXh0Ni5zZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKHB1bGxDYXJ0KSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmNhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdChcInJldHVyblwiLCBjYXJ0UmVzKTtcblxuICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNhcnRTd2FwKCkge1xuICAgICAgICByZXR1cm4gX2NhcnRTd2FwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYXJ0U3dhcDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJjYXJ0RmV0Y2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9jYXJ0RmV0Y2ggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkge1xuICAgICAgICB2YXIgYWN0aW9uLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHdpbGxQb3N0LFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgX2FyZ3M3ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0Nykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGFjdGlvbiA9IF9hcmdzNy5sZW5ndGggPiAwICYmIF9hcmdzN1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M3WzBdIDogbnVsbDtcbiAgICAgICAgICAgICAgICBkYXRhID0gX2FyZ3M3Lmxlbmd0aCA+IDEgJiYgX2FyZ3M3WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczdbMV0gOiBudWxsO1xuICAgICAgICAgICAgICAgIHdpbGxQb3N0ID0gZGF0YSAhPT0gbnVsbCAmJiAoYWN0aW9uID09PSAnYWRkJyB8fCBhY3Rpb24gPT09ICd1cGRhdGUnIHx8IGFjdGlvbiA9PT0gJ2NoYW5nZScgfHwgYWN0aW9uID09PSAnY2xlYXInKTtcbiAgICAgICAgICAgICAgICB1cmwgPSBcIi9jYXJ0XCIuY29uY2F0KHdpbGxQb3N0ID8gXCIvXCIuY29uY2F0KGFjdGlvbikgOiAnJywgXCIuanNcIik7XG4gICAgICAgICAgICAgICAgcmVxID0ge1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiB3aWxsUG9zdCA/ICdQT1NUJyA6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ3htbGh0dHByZXF1ZXN0J1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAod2lsbFBvc3QgJiYgYWN0aW9uICE9PSAnY2xlYXInKSB7XG4gICAgICAgICAgICAgICAgICByZXEuYm9keSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gODtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2godXJsLCByZXEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDcuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNhcnRGZXRjaCgpIHtcbiAgICAgICAgcmV0dXJuIF9jYXJ0RmV0Y2guYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNhcnRGZXRjaDtcbiAgICB9KClcbiAgfV0pO1xuXG4gIHJldHVybiBDYXJ0QVBJO1xufSgpKSgpO1xuZXhwb3J0IGRlZmF1bHQgY2FydEFQSTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/cart/cart-api.js\n");

/***/ }),

/***/ "./src/scripts/cart/components/atc-form.js":
/*!*************************************************!*\
  !*** ./src/scripts/cart/components/atc-form.js ***!
  \*************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scripts_cart_cart_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @scripts/cart/cart-api */ \"./src/scripts/cart/cart-api.js\");\n/* harmony import */ var _scripts_storefront_queries_queryVariantsById__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @scripts/storefront/queries/queryVariantsById */ \"./src/scripts/storefront/queries/queryVariantsById.js\");\n/* harmony import */ var _scripts_storefront_storefront__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @scripts/storefront/storefront */ \"./src/scripts/storefront/storefront.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n(function () {\n  if (typeof window.customElements.get('atc-form') !== 'undefined') {\n    return;\n  }\n\n  window.customElements.define('atc-form', /*#__PURE__*/function (_HTMLElement) {\n    _inherits(AddToCartForm, _HTMLElement);\n\n    var _super = _createSuper(AddToCartForm);\n\n    // eslint-disable-line\n    function AddToCartForm() {\n      var _this;\n\n      _classCallCheck(this, AddToCartForm);\n\n      _this = _super.call(this);\n      _this.form = _this.querySelector('form');\n      _this.storefrontInfo = null;\n\n      if (!_this.form) {\n        return _possibleConstructorReturn(_this);\n      }\n\n      _this.initFrom();\n\n      return _this;\n    }\n\n    _createClass(AddToCartForm, [{\n      key: \"initFrom\",\n      value: function initFrom() {\n        var _this2 = this;\n\n        this.form.addEventListener('submit', function (event) {\n          event.preventDefault();\n\n          _this2.addToItemCart();\n        });\n      }\n    }, {\n      key: \"addToItemCart\",\n      value: function () {\n        var _addToItemCart = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          var _this$storefrontInfo;\n\n          var formData, atcData, isBundleATC, isSoftBundleATC, maxQuantity, propertiesObject, itemsToAdd, bundleID, bundleItems;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  formData = new FormData(this.form); // eslint-disable-line\n\n                  atcData = Object.fromEntries(formData);\n                  isBundleATC = typeof atcData.bundle_products !== 'undefined' && atcData.bundle_products !== null && atcData.bundle_products.length !== 0;\n                  isSoftBundleATC = typeof atcData.soft_bundle_products !== 'undefined' && atcData.soft_bundle_products !== null && atcData.soft_bundle_products.length !== 0;\n\n                  if (!((typeof atcData.id === 'undefined' || !atcData.id) && !isSoftBundleATC)) {\n                    _context.next = 6;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\");\n\n                case 6:\n                  _context.next = 8;\n                  return this.getStorefrontInfo(atcData);\n\n                case 8:\n                  this.storefrontInfo = _context.sent;\n                  maxQuantity = (_this$storefrontInfo = this.storefrontInfo) === null || _this$storefrontInfo === void 0 ? void 0 : _this$storefrontInfo.map(function (info) {\n                    return info.quantity_availiable;\n                  }).filter(function (qty) {\n                    return qty !== null;\n                  }).sort(function (a, b) {\n                    return b.quantity_availiable - a.quantity_availiable;\n                  })[0];\n                  propertiesObject = Object.keys(atcData).filter(function (key) {\n                    return key.includes('properties');\n                  }).reduce(function (prev, cur, index) {\n                    var name = cur.replace(/properties|\\[|\\]/g, '');\n\n                    if (name.length === 0 || !atcData[cur] || atcData[cur].length === 0) {\n                      return prev;\n                    }\n\n                    prev[name] = atcData[cur];\n                    return prev;\n                  }, {\n                    _inventory_quantity: maxQuantity || null\n                  });\n\n                  if (atcData.id) {\n                    propertiesObject._selling_plan_options = this.getSellingPlan(atcData.id, atcData.selling_plan);\n                  }\n\n                  itemsToAdd = isSoftBundleATC ? {\n                    items: []\n                  } : {\n                    items: [{\n                      id: atcData.id,\n                      quantity: typeof atcData.quantity === 'undefined' ? 1 : atcData.quantity,\n                      selling_plan: typeof atcData.selling_plan === 'undefined' ? null : atcData.selling_plan,\n                      properties: propertiesObject\n                    }]\n                  };\n\n                  if (isBundleATC || isSoftBundleATC) {\n                    bundleID = \"bundle_\".concat(new Date().getTime());\n                    bundleItems = this.checkBundleItems(atcData, bundleID, propertiesObject, isSoftBundleATC);\n                    bundleItems.forEach(function (item) {\n                      return itemsToAdd.items.push(item);\n                    });\n\n                    if (bundleItems.length !== 0 && isBundleATC) {\n                      itemsToAdd.items[0].properties._parent_bundle_product = bundleID;\n                      itemsToAdd.items[0].properties._parent_bundle_children = atcData.bundle_products;\n                    }\n                  }\n\n                  if (!(itemsToAdd.items.length === 0)) {\n                    _context.next = 16;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\");\n\n                case 16:\n                  _scripts_cart_cart_api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].cartAdd(itemsToAdd);\n\n                case 17:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function addToItemCart() {\n          return _addToItemCart.apply(this, arguments);\n        }\n\n        return addToItemCart;\n      }()\n    }, {\n      key: \"checkBundleItems\",\n      value: function checkBundleItems(atcData, bundleID, propertiesObject, isSoftBundleATC) {\n        var _this3 = this;\n\n        var bundleList = (isSoftBundleATC ? atcData.soft_bundle_products : atcData.bundle_products).replace(/ /g, '').split(',');\n\n        if (bundleList.length === 0) {\n          return [];\n        }\n\n        var bundleItems = bundleList.map(function (productID, index) {\n          var childProperties = Object.assign({}, propertiesObject);\n          childProperties._child_unique_id = \"bundle_child_\".concat(new Date().getTime(), \"--\").concat(index);\n          childProperties._selling_plan_options = _this3.getSellingPlan(productID, atcData.selling_plan);\n\n          if (isSoftBundleATC) {\n            childProperties._child_soft_bundle = bundleID;\n          } else {\n            childProperties._child_bundle_product = bundleID;\n          }\n\n          return {\n            id: productID,\n            quantity: typeof atcData.quantity === 'undefined' ? 1 : atcData.quantity,\n            selling_plan: typeof atcData.selling_plan === 'undefined' ? null : _this3.getSellingPlan(productID, atcData.selling_plan, true),\n            properties: childProperties\n          };\n        });\n        return bundleItems;\n      }\n    }, {\n      key: \"getSellingPlan\",\n      value: function getSellingPlan(id, sellingPlanID) {\n        var returnPlanID = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n        if (!id || !this.storefrontInfo) {\n          return null;\n        }\n\n        var variantSellingPlans = this.storefrontInfo.find(function (option) {\n          return option.variant_id === id;\n        });\n\n        if (typeof variantSellingPlans === 'undefined') {\n          return null;\n        }\n\n        if (!returnPlanID) {\n          return JSON.stringify(variantSellingPlans.selling_plan_options).replace(/\"/g, '`');\n        }\n\n        if (typeof sellingPlanID === 'undefined' || !sellingPlanID) {\n          return null;\n        }\n\n        var activePlan = this.storefrontInfo.flatMap(function (options) {\n          return options.selling_plan_options;\n        }).find(function (option) {\n          return parseInt(option.sellingPlan.id.split('SellingPlan/')[1], 10) === parseInt(sellingPlanID, 10);\n        });\n\n        if (typeof activePlan === 'undefined') {\n          return null;\n        }\n\n        var selectedPlan = variantSellingPlans.selling_plan_options.find(function (option) {\n          return option.sellingPlan.name === activePlan.sellingPlan.name;\n        });\n\n        if (typeof selectedPlan === 'undefined') {\n          return null;\n        }\n\n        return selectedPlan.sellingPlan.id.split('SellingPlan/')[1];\n      }\n    }, {\n      key: \"getStorefrontInfo\",\n      value: function () {\n        var _getStorefrontInfo = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(atcData) {\n          var variantArray, queryResponse;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  variantArray = [atcData.id, atcData.bundle_products, atcData.soft_bundle_products].filter(function (bundleDatatype) {\n                    return typeof bundleDatatype !== 'undefined' && bundleDatatype !== null;\n                  }).flatMap(function (bundleDatatype) {\n                    return bundleDatatype.replace(/ /g, '').split(',');\n                  });\n                  _context2.next = 3;\n                  return _scripts_storefront_storefront__WEBPACK_IMPORTED_MODULE_2__[\"default\"].fetch(Object(_scripts_storefront_queries_queryVariantsById__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_toConsumableArray(new Set(variantArray))));\n\n                case 3:\n                  queryResponse = _context2.sent;\n                  return _context2.abrupt(\"return\", queryResponse === null ? null : queryResponse.nodes.map(function (node) {\n                    return {\n                      variant_id: node.id.split('ProductVariant/')[1],\n                      quantity_availiable: node.quantityAvailable || null,\n                      selling_plan_options: node.sellingPlanAllocations.edges.map(function (edge) {\n                        return edge.node;\n                      }) || null\n                    };\n                  }));\n\n                case 5:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        function getStorefrontInfo(_x) {\n          return _getStorefrontInfo.apply(this, arguments);\n        }\n\n        return getStorefrontInfo;\n      }()\n    }]);\n\n    return AddToCartForm;\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jYXJ0L2NvbXBvbmVudHMvYXRjLWZvcm0uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jYXJ0L2NvbXBvbmVudHMvYXRjLWZvcm0uanM/OWRiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHsgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDsgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHsgaWYgKENsYXNzID09PSBudWxsIHx8ICFfaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzczsgaWYgKHR5cGVvZiBDbGFzcyAhPT0gXCJmdW5jdGlvblwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikgeyBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTsgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7IH0gZnVuY3Rpb24gV3JhcHBlcigpIHsgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTsgfSBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBXcmFwcGVyLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyByZXR1cm4gX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIENsYXNzKTsgfTsgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyBpZiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7IF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDsgfSBlbHNlIHsgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyB2YXIgYSA9IFtudWxsXTsgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpOyB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7IHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpOyBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTsgcmV0dXJuIGluc3RhbmNlOyB9OyB9IHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7IHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5pbXBvcnQgY2FydEFQSSBmcm9tICdAc2NyaXB0cy9jYXJ0L2NhcnQtYXBpJztcbmltcG9ydCBxdWVyeVZhcmlhbnRzQnlJZCBmcm9tICdAc2NyaXB0cy9zdG9yZWZyb250L3F1ZXJpZXMvcXVlcnlWYXJpYW50c0J5SWQnO1xuaW1wb3J0IHN0b3JlZnJvbnQgZnJvbSAnQHNjcmlwdHMvc3RvcmVmcm9udC9zdG9yZWZyb250JztcblxuKGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZ2V0KCdhdGMtZm9ybScpICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2F0Yy1mb3JtJywgLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSFRNTEVsZW1lbnQpIHtcbiAgICBfaW5oZXJpdHMoQWRkVG9DYXJ0Rm9ybSwgX0hUTUxFbGVtZW50KTtcblxuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQWRkVG9DYXJ0Rm9ybSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24gQWRkVG9DYXJ0Rm9ybSgpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFkZFRvQ2FydEZvcm0pO1xuXG4gICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgX3RoaXMuZm9ybSA9IF90aGlzLnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTtcbiAgICAgIF90aGlzLnN0b3JlZnJvbnRJbmZvID0gbnVsbDtcblxuICAgICAgaWYgKCFfdGhpcy5mb3JtKSB7XG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcyk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmluaXRGcm9tKCk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQWRkVG9DYXJ0Rm9ybSwgW3tcbiAgICAgIGtleTogXCJpbml0RnJvbVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRGcm9tKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIF90aGlzMi5hZGRUb0l0ZW1DYXJ0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJhZGRUb0l0ZW1DYXJ0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2FkZFRvSXRlbUNhcnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgICAgdmFyIF90aGlzJHN0b3JlZnJvbnRJbmZvO1xuXG4gICAgICAgICAgdmFyIGZvcm1EYXRhLCBhdGNEYXRhLCBpc0J1bmRsZUFUQywgaXNTb2Z0QnVuZGxlQVRDLCBtYXhRdWFudGl0eSwgcHJvcGVydGllc09iamVjdCwgaXRlbXNUb0FkZCwgYnVuZGxlSUQsIGJ1bmRsZUl0ZW1zO1xuICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuZm9ybSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgICAgICAgICAgICAgICAgYXRjRGF0YSA9IE9iamVjdC5mcm9tRW50cmllcyhmb3JtRGF0YSk7XG4gICAgICAgICAgICAgICAgICBpc0J1bmRsZUFUQyA9IHR5cGVvZiBhdGNEYXRhLmJ1bmRsZV9wcm9kdWN0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgYXRjRGF0YS5idW5kbGVfcHJvZHVjdHMgIT09IG51bGwgJiYgYXRjRGF0YS5idW5kbGVfcHJvZHVjdHMubGVuZ3RoICE9PSAwO1xuICAgICAgICAgICAgICAgICAgaXNTb2Z0QnVuZGxlQVRDID0gdHlwZW9mIGF0Y0RhdGEuc29mdF9idW5kbGVfcHJvZHVjdHMgIT09ICd1bmRlZmluZWQnICYmIGF0Y0RhdGEuc29mdF9idW5kbGVfcHJvZHVjdHMgIT09IG51bGwgJiYgYXRjRGF0YS5zb2Z0X2J1bmRsZV9wcm9kdWN0cy5sZW5ndGggIT09IDA7XG5cbiAgICAgICAgICAgICAgICAgIGlmICghKCh0eXBlb2YgYXRjRGF0YS5pZCA9PT0gJ3VuZGVmaW5lZCcgfHwgIWF0Y0RhdGEuaWQpICYmICFpc1NvZnRCdW5kbGVBVEMpKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RvcmVmcm9udEluZm8oYXRjRGF0YSk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlZnJvbnRJbmZvID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICAgIG1heFF1YW50aXR5ID0gKF90aGlzJHN0b3JlZnJvbnRJbmZvID0gdGhpcy5zdG9yZWZyb250SW5mbykgPT09IG51bGwgfHwgX3RoaXMkc3RvcmVmcm9udEluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHN0b3JlZnJvbnRJbmZvLm1hcChmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5mby5xdWFudGl0eV9hdmFpbGlhYmxlO1xuICAgICAgICAgICAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChxdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHF0eSAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIucXVhbnRpdHlfYXZhaWxpYWJsZSAtIGEucXVhbnRpdHlfYXZhaWxpYWJsZTtcbiAgICAgICAgICAgICAgICAgIH0pWzBdO1xuICAgICAgICAgICAgICAgICAgcHJvcGVydGllc09iamVjdCA9IE9iamVjdC5rZXlzKGF0Y0RhdGEpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkuaW5jbHVkZXMoJ3Byb3BlcnRpZXMnKTtcbiAgICAgICAgICAgICAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGN1ci5yZXBsYWNlKC9wcm9wZXJ0aWVzfFxcW3xcXF0vZywgJycpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLmxlbmd0aCA9PT0gMCB8fCAhYXRjRGF0YVtjdXJdIHx8IGF0Y0RhdGFbY3VyXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByZXZbbmFtZV0gPSBhdGNEYXRhW2N1cl07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBfaW52ZW50b3J5X3F1YW50aXR5OiBtYXhRdWFudGl0eSB8fCBudWxsXG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgaWYgKGF0Y0RhdGEuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc09iamVjdC5fc2VsbGluZ19wbGFuX29wdGlvbnMgPSB0aGlzLmdldFNlbGxpbmdQbGFuKGF0Y0RhdGEuaWQsIGF0Y0RhdGEuc2VsbGluZ19wbGFuKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaXRlbXNUb0FkZCA9IGlzU29mdEJ1bmRsZUFUQyA/IHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFtdXG4gICAgICAgICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgICAgICBpdGVtczogW3tcbiAgICAgICAgICAgICAgICAgICAgICBpZDogYXRjRGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogdHlwZW9mIGF0Y0RhdGEucXVhbnRpdHkgPT09ICd1bmRlZmluZWQnID8gMSA6IGF0Y0RhdGEucXVhbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgc2VsbGluZ19wbGFuOiB0eXBlb2YgYXRjRGF0YS5zZWxsaW5nX3BsYW4gPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IGF0Y0RhdGEuc2VsbGluZ19wbGFuLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHByb3BlcnRpZXNPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgIGlmIChpc0J1bmRsZUFUQyB8fCBpc1NvZnRCdW5kbGVBVEMpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVuZGxlSUQgPSBcImJ1bmRsZV9cIi5jb25jYXQobmV3IERhdGUoKS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICBidW5kbGVJdGVtcyA9IHRoaXMuY2hlY2tCdW5kbGVJdGVtcyhhdGNEYXRhLCBidW5kbGVJRCwgcHJvcGVydGllc09iamVjdCwgaXNTb2Z0QnVuZGxlQVRDKTtcbiAgICAgICAgICAgICAgICAgICAgYnVuZGxlSXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtc1RvQWRkLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChidW5kbGVJdGVtcy5sZW5ndGggIT09IDAgJiYgaXNCdW5kbGVBVEMpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtc1RvQWRkLml0ZW1zWzBdLnByb3BlcnRpZXMuX3BhcmVudF9idW5kbGVfcHJvZHVjdCA9IGJ1bmRsZUlEO1xuICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zVG9BZGQuaXRlbXNbMF0ucHJvcGVydGllcy5fcGFyZW50X2J1bmRsZV9jaGlsZHJlbiA9IGF0Y0RhdGEuYnVuZGxlX3Byb2R1Y3RzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmICghKGl0ZW1zVG9BZGQuaXRlbXMubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICAgIGNhcnRBUEkuY2FydEFkZChpdGVtc1RvQWRkKTtcblxuICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkVG9JdGVtQ2FydCgpIHtcbiAgICAgICAgICByZXR1cm4gX2FkZFRvSXRlbUNhcnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhZGRUb0l0ZW1DYXJ0O1xuICAgICAgfSgpXG4gICAgfSwge1xuICAgICAga2V5OiBcImNoZWNrQnVuZGxlSXRlbXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0J1bmRsZUl0ZW1zKGF0Y0RhdGEsIGJ1bmRsZUlELCBwcm9wZXJ0aWVzT2JqZWN0LCBpc1NvZnRCdW5kbGVBVEMpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGJ1bmRsZUxpc3QgPSAoaXNTb2Z0QnVuZGxlQVRDID8gYXRjRGF0YS5zb2Z0X2J1bmRsZV9wcm9kdWN0cyA6IGF0Y0RhdGEuYnVuZGxlX3Byb2R1Y3RzKS5yZXBsYWNlKC8gL2csICcnKS5zcGxpdCgnLCcpO1xuXG4gICAgICAgIGlmIChidW5kbGVMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBidW5kbGVJdGVtcyA9IGJ1bmRsZUxpc3QubWFwKGZ1bmN0aW9uIChwcm9kdWN0SUQsIGluZGV4KSB7XG4gICAgICAgICAgdmFyIGNoaWxkUHJvcGVydGllcyA9IE9iamVjdC5hc3NpZ24oe30sIHByb3BlcnRpZXNPYmplY3QpO1xuICAgICAgICAgIGNoaWxkUHJvcGVydGllcy5fY2hpbGRfdW5pcXVlX2lkID0gXCJidW5kbGVfY2hpbGRfXCIuY29uY2F0KG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBcIi0tXCIpLmNvbmNhdChpbmRleCk7XG4gICAgICAgICAgY2hpbGRQcm9wZXJ0aWVzLl9zZWxsaW5nX3BsYW5fb3B0aW9ucyA9IF90aGlzMy5nZXRTZWxsaW5nUGxhbihwcm9kdWN0SUQsIGF0Y0RhdGEuc2VsbGluZ19wbGFuKTtcblxuICAgICAgICAgIGlmIChpc1NvZnRCdW5kbGVBVEMpIHtcbiAgICAgICAgICAgIGNoaWxkUHJvcGVydGllcy5fY2hpbGRfc29mdF9idW5kbGUgPSBidW5kbGVJRDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hpbGRQcm9wZXJ0aWVzLl9jaGlsZF9idW5kbGVfcHJvZHVjdCA9IGJ1bmRsZUlEO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogcHJvZHVjdElELFxuICAgICAgICAgICAgcXVhbnRpdHk6IHR5cGVvZiBhdGNEYXRhLnF1YW50aXR5ID09PSAndW5kZWZpbmVkJyA/IDEgOiBhdGNEYXRhLnF1YW50aXR5LFxuICAgICAgICAgICAgc2VsbGluZ19wbGFuOiB0eXBlb2YgYXRjRGF0YS5zZWxsaW5nX3BsYW4gPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IF90aGlzMy5nZXRTZWxsaW5nUGxhbihwcm9kdWN0SUQsIGF0Y0RhdGEuc2VsbGluZ19wbGFuLCB0cnVlKSxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IGNoaWxkUHJvcGVydGllc1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYnVuZGxlSXRlbXM7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImdldFNlbGxpbmdQbGFuXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VsbGluZ1BsYW4oaWQsIHNlbGxpbmdQbGFuSUQpIHtcbiAgICAgICAgdmFyIHJldHVyblBsYW5JRCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgICAgICAgaWYgKCFpZCB8fCAhdGhpcy5zdG9yZWZyb250SW5mbykge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZhcmlhbnRTZWxsaW5nUGxhbnMgPSB0aGlzLnN0b3JlZnJvbnRJbmZvLmZpbmQoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgIHJldHVybiBvcHRpb24udmFyaWFudF9pZCA9PT0gaWQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdmFyaWFudFNlbGxpbmdQbGFucyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmV0dXJuUGxhbklEKSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhcmlhbnRTZWxsaW5nUGxhbnMuc2VsbGluZ19wbGFuX29wdGlvbnMpLnJlcGxhY2UoL1wiL2csICdgJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHNlbGxpbmdQbGFuSUQgPT09ICd1bmRlZmluZWQnIHx8ICFzZWxsaW5nUGxhbklEKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aXZlUGxhbiA9IHRoaXMuc3RvcmVmcm9udEluZm8uZmxhdE1hcChmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgIHJldHVybiBvcHRpb25zLnNlbGxpbmdfcGxhbl9vcHRpb25zO1xuICAgICAgICB9KS5maW5kKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VJbnQob3B0aW9uLnNlbGxpbmdQbGFuLmlkLnNwbGl0KCdTZWxsaW5nUGxhbi8nKVsxXSwgMTApID09PSBwYXJzZUludChzZWxsaW5nUGxhbklELCAxMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0eXBlb2YgYWN0aXZlUGxhbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxlY3RlZFBsYW4gPSB2YXJpYW50U2VsbGluZ1BsYW5zLnNlbGxpbmdfcGxhbl9vcHRpb25zLmZpbmQoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgIHJldHVybiBvcHRpb24uc2VsbGluZ1BsYW4ubmFtZSA9PT0gYWN0aXZlUGxhbi5zZWxsaW5nUGxhbi5uYW1lO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodHlwZW9mIHNlbGVjdGVkUGxhbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFBsYW4uc2VsbGluZ1BsYW4uaWQuc3BsaXQoJ1NlbGxpbmdQbGFuLycpWzFdO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRTdG9yZWZyb250SW5mb1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9nZXRTdG9yZWZyb250SW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoYXRjRGF0YSkge1xuICAgICAgICAgIHZhciB2YXJpYW50QXJyYXksIHF1ZXJ5UmVzcG9uc2U7XG4gICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgIHZhcmlhbnRBcnJheSA9IFthdGNEYXRhLmlkLCBhdGNEYXRhLmJ1bmRsZV9wcm9kdWN0cywgYXRjRGF0YS5zb2Z0X2J1bmRsZV9wcm9kdWN0c10uZmlsdGVyKGZ1bmN0aW9uIChidW5kbGVEYXRhdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGJ1bmRsZURhdGF0eXBlICE9PSAndW5kZWZpbmVkJyAmJiBidW5kbGVEYXRhdHlwZSAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIH0pLmZsYXRNYXAoZnVuY3Rpb24gKGJ1bmRsZURhdGF0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBidW5kbGVEYXRhdHlwZS5yZXBsYWNlKC8gL2csICcnKS5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmVmcm9udC5mZXRjaChxdWVyeVZhcmlhbnRzQnlJZChfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldCh2YXJpYW50QXJyYXkpKSkpO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgcXVlcnlSZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgcXVlcnlSZXNwb25zZSA9PT0gbnVsbCA/IG51bGwgOiBxdWVyeVJlc3BvbnNlLm5vZGVzLm1hcChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnRfaWQ6IG5vZGUuaWQuc3BsaXQoJ1Byb2R1Y3RWYXJpYW50LycpWzFdLFxuICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5X2F2YWlsaWFibGU6IG5vZGUucXVhbnRpdHlBdmFpbGFibGUgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICBzZWxsaW5nX3BsYW5fb3B0aW9uczogbm9kZS5zZWxsaW5nUGxhbkFsbG9jYXRpb25zLmVkZ2VzLm1hcChmdW5jdGlvbiAoZWRnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVkZ2Uubm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICB9KSB8fCBudWxsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBfY2FsbGVlMik7XG4gICAgICAgIH0pKTtcblxuICAgICAgICBmdW5jdGlvbiBnZXRTdG9yZWZyb250SW5mbyhfeCkge1xuICAgICAgICAgIHJldHVybiBfZ2V0U3RvcmVmcm9udEluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRTdG9yZWZyb250SW5mbztcbiAgICAgIH0oKVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBZGRUb0NhcnRGb3JtO1xuICB9KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihIVE1MRWxlbWVudCkpKTtcbn0pKCk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/cart/components/atc-form.js\n");

/***/ }),

/***/ "./src/scripts/cart/components/cart-condition-display.js":
/*!***************************************************************!*\
  !*** ./src/scripts/cart/components/cart-condition-display.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n(function () {\n  if (typeof window.customElements.get('hide-if-cart-empty') !== 'undefined' || typeof window.customElements.get('show-if-cart-empty') !== 'undefined' || typeof window.customElements.get('show-if-cart-over') !== 'undefined') {\n    return;\n  }\n\n  window.customElements.define('hide-if-cart-empty', /*#__PURE__*/function (_HTMLElement) {\n    _inherits(HideIfCartEmpty, _HTMLElement);\n\n    var _super = _createSuper(HideIfCartEmpty);\n\n    // eslint-disable-line\n    function HideIfCartEmpty() {\n      var _this;\n\n      _classCallCheck(this, HideIfCartEmpty);\n\n      _this = _super.call(this);\n      window.addEventListener('cartAPI', function (_ref) {\n        var cartData = _ref.detail.cartData;\n\n        _this.classList.toggle('hide', cartData.item_count === 0);\n      });\n      return _this;\n    }\n\n    return _createClass(HideIfCartEmpty);\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n  window.customElements.define('show-if-cart-empty', /*#__PURE__*/function (_HTMLElement2) {\n    _inherits(ShowIfCartEmpty, _HTMLElement2);\n\n    var _super2 = _createSuper(ShowIfCartEmpty);\n\n    // eslint-disable-line\n    function ShowIfCartEmpty() {\n      var _this2;\n\n      _classCallCheck(this, ShowIfCartEmpty);\n\n      _this2 = _super2.call(this);\n      window.addEventListener('cartAPI', function (_ref2) {\n        var cartData = _ref2.detail.cartData;\n\n        _this2.classList.toggle('hide', cartData.item_count !== 0);\n      });\n      return _this2;\n    }\n\n    return _createClass(ShowIfCartEmpty);\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n  window.customElements.define('show-if-cart-over', /*#__PURE__*/function (_HTMLElement3) {\n    _inherits(ShowIfCartOver, _HTMLElement3);\n\n    var _super3 = _createSuper(ShowIfCartOver);\n\n    // eslint-disable-line\n    function ShowIfCartOver() {\n      var _this3;\n\n      _classCallCheck(this, ShowIfCartOver);\n\n      _this3 = _super3.call(this);\n      window.addEventListener('cartAPI', function (_ref3) {\n        var cartData = _ref3.detail.cartData;\n\n        _this3.classList.toggle('hide', cartData.total_price < parseInt(_this3.getAttribute('data-threshold'), 10) * 100);\n      });\n      return _this3;\n    }\n\n    return _createClass(ShowIfCartOver);\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n  window.customElements.define('show-if-cart-discounts', /*#__PURE__*/function (_HTMLElement4) {\n    _inherits(ShowIfCartDiscounts, _HTMLElement4);\n\n    var _super4 = _createSuper(ShowIfCartDiscounts);\n\n    // eslint-disable-line\n    function ShowIfCartDiscounts() {\n      var _this4;\n\n      _classCallCheck(this, ShowIfCartDiscounts);\n\n      _this4 = _super4.call(this);\n      window.addEventListener('cartAPI', function (_ref4) {\n        var cartData = _ref4.detail.cartData;\n\n        _this4.classList.toggle('hide', cartData.total_discount !== null && cartData.total_discount === 0);\n      });\n      return _this4;\n    }\n\n    return _createClass(ShowIfCartDiscounts);\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jYXJ0L2NvbXBvbmVudHMvY2FydC1jb25kaXRpb24tZGlzcGxheS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2NhcnQvY29tcG9uZW50cy9jYXJ0LWNvbmRpdGlvbi1kaXNwbGF5LmpzPzNiZjAiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkOyBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzOyBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7IGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpOyBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTsgfSBmdW5jdGlvbiBXcmFwcGVyKCkgeyByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpOyB9OyByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0OyB9IGVsc2UgeyBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IHZhciBhID0gW251bGxdOyBhLnB1c2guYXBwbHkoYSwgYXJncyk7IHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTsgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7IGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpOyByZXR1cm4gaW5zdGFuY2U7IH07IH0gcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHsgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbihmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93LmN1c3RvbUVsZW1lbnRzLmdldCgnaGlkZS1pZi1jYXJ0LWVtcHR5JykgIT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZ2V0KCdzaG93LWlmLWNhcnQtZW1wdHknKSAhPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQoJ3Nob3ctaWYtY2FydC1vdmVyJykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnaGlkZS1pZi1jYXJ0LWVtcHR5JywgLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSFRNTEVsZW1lbnQpIHtcbiAgICBfaW5oZXJpdHMoSGlkZUlmQ2FydEVtcHR5LCBfSFRNTEVsZW1lbnQpO1xuXG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihIaWRlSWZDYXJ0RW1wdHkpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZ1bmN0aW9uIEhpZGVJZkNhcnRFbXB0eSgpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhpZGVJZkNhcnRFbXB0eSk7XG5cbiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2FydEFQSScsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBjYXJ0RGF0YSA9IF9yZWYuZGV0YWlsLmNhcnREYXRhO1xuXG4gICAgICAgIF90aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGUnLCBjYXJ0RGF0YS5pdGVtX2NvdW50ID09PSAwKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBfY3JlYXRlQ2xhc3MoSGlkZUlmQ2FydEVtcHR5KTtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKSk7XG4gIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3Nob3ctaWYtY2FydC1lbXB0eScsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50Mikge1xuICAgIF9pbmhlcml0cyhTaG93SWZDYXJ0RW1wdHksIF9IVE1MRWxlbWVudDIpO1xuXG4gICAgdmFyIF9zdXBlcjIgPSBfY3JlYXRlU3VwZXIoU2hvd0lmQ2FydEVtcHR5KTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmdW5jdGlvbiBTaG93SWZDYXJ0RW1wdHkoKSB7XG4gICAgICB2YXIgX3RoaXMyO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2hvd0lmQ2FydEVtcHR5KTtcblxuICAgICAgX3RoaXMyID0gX3N1cGVyMi5jYWxsKHRoaXMpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NhcnRBUEknLCBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgdmFyIGNhcnREYXRhID0gX3JlZjIuZGV0YWlsLmNhcnREYXRhO1xuXG4gICAgICAgIF90aGlzMi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlJywgY2FydERhdGEuaXRlbV9jb3VudCAhPT0gMCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBfdGhpczI7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jcmVhdGVDbGFzcyhTaG93SWZDYXJ0RW1wdHkpO1xuICB9KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihIVE1MRWxlbWVudCkpKTtcbiAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2hvdy1pZi1jYXJ0LW92ZXInLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9IVE1MRWxlbWVudDMpIHtcbiAgICBfaW5oZXJpdHMoU2hvd0lmQ2FydE92ZXIsIF9IVE1MRWxlbWVudDMpO1xuXG4gICAgdmFyIF9zdXBlcjMgPSBfY3JlYXRlU3VwZXIoU2hvd0lmQ2FydE92ZXIpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZ1bmN0aW9uIFNob3dJZkNhcnRPdmVyKCkge1xuICAgICAgdmFyIF90aGlzMztcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNob3dJZkNhcnRPdmVyKTtcblxuICAgICAgX3RoaXMzID0gX3N1cGVyMy5jYWxsKHRoaXMpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NhcnRBUEknLCBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgdmFyIGNhcnREYXRhID0gX3JlZjMuZGV0YWlsLmNhcnREYXRhO1xuXG4gICAgICAgIF90aGlzMy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlJywgY2FydERhdGEudG90YWxfcHJpY2UgPCBwYXJzZUludChfdGhpczMuZ2V0QXR0cmlidXRlKCdkYXRhLXRocmVzaG9sZCcpLCAxMCkgKiAxMDApO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gX3RoaXMzO1xuICAgIH1cblxuICAgIHJldHVybiBfY3JlYXRlQ2xhc3MoU2hvd0lmQ2FydE92ZXIpO1xuICB9KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihIVE1MRWxlbWVudCkpKTtcbiAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2hvdy1pZi1jYXJ0LWRpc2NvdW50cycsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50NCkge1xuICAgIF9pbmhlcml0cyhTaG93SWZDYXJ0RGlzY291bnRzLCBfSFRNTEVsZW1lbnQ0KTtcblxuICAgIHZhciBfc3VwZXI0ID0gX2NyZWF0ZVN1cGVyKFNob3dJZkNhcnREaXNjb3VudHMpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZ1bmN0aW9uIFNob3dJZkNhcnREaXNjb3VudHMoKSB7XG4gICAgICB2YXIgX3RoaXM0O1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2hvd0lmQ2FydERpc2NvdW50cyk7XG5cbiAgICAgIF90aGlzNCA9IF9zdXBlcjQuY2FsbCh0aGlzKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjYXJ0QVBJJywgZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgICAgIHZhciBjYXJ0RGF0YSA9IF9yZWY0LmRldGFpbC5jYXJ0RGF0YTtcblxuICAgICAgICBfdGhpczQuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZScsIGNhcnREYXRhLnRvdGFsX2Rpc2NvdW50ICE9PSBudWxsICYmIGNhcnREYXRhLnRvdGFsX2Rpc2NvdW50ID09PSAwKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzNDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2NyZWF0ZUNsYXNzKFNob3dJZkNhcnREaXNjb3VudHMpO1xuICB9KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihIVE1MRWxlbWVudCkpKTtcbn0pKCk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/cart/components/cart-condition-display.js\n");

/***/ }),

/***/ "./src/scripts/cart/components/cart-info.js":
/*!**************************************************!*\
  !*** ./src/scripts/cart/components/cart-info.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n(function () {\n  if (typeof window.customElements.get('cart-count') !== 'undefined' || typeof window.customElements.get('cart-total') !== 'undefined' || typeof window.customElements.get('cart-original-total') !== 'undefined' || typeof window.customElements.get('cart-discounts') !== 'undefined') {\n    return;\n  }\n\n  window.customElements.define('cart-count', /*#__PURE__*/function (_HTMLElement) {\n    _inherits(CartCount, _HTMLElement);\n\n    var _super = _createSuper(CartCount);\n\n    // eslint-disable-line\n    function CartCount() {\n      var _this;\n\n      _classCallCheck(this, CartCount);\n\n      _this = _super.call(this);\n      window.addEventListener('cartAPI', function (_ref) {\n        var cartData = _ref.detail.cartData;\n\n        if (cartData.item_count === 0) {\n          _this.innerHTML = cartData.item_count;\n          return 0;\n        }\n\n        var childBundleItemsCount = cartData.items.filter(function (item) {\n          var _item$properties;\n\n          return typeof ((_item$properties = item.properties) === null || _item$properties === void 0 ? void 0 : _item$properties._child_bundle_product) !== 'undefined';\n        }).reduce(function (pres, cur) {\n          return pres + cur.quantity;\n        }, 0);\n        var softBundlesList = [];\n        var childSoftBundleItemsCount = cartData.items.filter(function (item) {\n          var _item$properties2;\n\n          return typeof ((_item$properties2 = item.properties) === null || _item$properties2 === void 0 ? void 0 : _item$properties2._child_soft_bundle) !== 'undefined';\n        }).reduce(function (pres, cur) {\n          if (!softBundlesList.includes(cur.properties._child_soft_bundle)) {\n            softBundlesList.push(cur.properties._child_soft_bundle);\n            return pres;\n          }\n\n          return pres + cur.quantity;\n        }, 0);\n        _this.innerHTML = cartData.item_count - childBundleItemsCount - childSoftBundleItemsCount;\n      });\n      return _this;\n    }\n\n    return _createClass(CartCount);\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n  window.customElements.define('cart-total', /*#__PURE__*/function (_HTMLElement2) {\n    _inherits(CartTotal, _HTMLElement2);\n\n    var _super2 = _createSuper(CartTotal);\n\n    // eslint-disable-line\n    function CartTotal() {\n      var _this2;\n\n      _classCallCheck(this, CartTotal);\n\n      _this2 = _super2.call(this);\n      window.addEventListener('cartAPI', function (_ref2) {\n        var cartData = _ref2.detail.cartData;\n        _this2.innerHTML = Shopify.formatMoney(cartData.total_price);\n      });\n      return _this2;\n    }\n\n    return _createClass(CartTotal);\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n  window.customElements.define('cart-discounts', /*#__PURE__*/function (_HTMLElement3) {\n    _inherits(CartDiscounts, _HTMLElement3);\n\n    var _super3 = _createSuper(CartDiscounts);\n\n    // eslint-disable-line\n    function CartDiscounts() {\n      var _this3;\n\n      _classCallCheck(this, CartDiscounts);\n\n      _this3 = _super3.call(this);\n      window.addEventListener('cartAPI', function (_ref3) {\n        var cartData = _ref3.detail.cartData;\n        _this3.innerHTML = Shopify.formatMoney(cartData.total_discount);\n      });\n      return _this3;\n    }\n\n    return _createClass(CartDiscounts);\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jYXJ0L2NvbXBvbmVudHMvY2FydC1pbmZvLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY2FydC9jb21wb25lbnRzL2NhcnQtaW5mby5qcz84NzZlIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9LCBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHsgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDsgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHsgaWYgKENsYXNzID09PSBudWxsIHx8ICFfaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzczsgaWYgKHR5cGVvZiBDbGFzcyAhPT0gXCJmdW5jdGlvblwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikgeyBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTsgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7IH0gZnVuY3Rpb24gV3JhcHBlcigpIHsgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTsgfSBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBXcmFwcGVyLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyByZXR1cm4gX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIENsYXNzKTsgfTsgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyBpZiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7IF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDsgfSBlbHNlIHsgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyB2YXIgYSA9IFtudWxsXTsgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpOyB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7IHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpOyBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTsgcmV0dXJuIGluc3RhbmNlOyB9OyB9IHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7IHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG4oZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQoJ2NhcnQtY291bnQnKSAhPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQoJ2NhcnQtdG90YWwnKSAhPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQoJ2NhcnQtb3JpZ2luYWwtdG90YWwnKSAhPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQoJ2NhcnQtZGlzY291bnRzJykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY2FydC1jb3VudCcsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7XG4gICAgX2luaGVyaXRzKENhcnRDb3VudCwgX0hUTUxFbGVtZW50KTtcblxuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ2FydENvdW50KTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmdW5jdGlvbiBDYXJ0Q291bnQoKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYXJ0Q291bnQpO1xuXG4gICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NhcnRBUEknLCBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgY2FydERhdGEgPSBfcmVmLmRldGFpbC5jYXJ0RGF0YTtcblxuICAgICAgICBpZiAoY2FydERhdGEuaXRlbV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIF90aGlzLmlubmVySFRNTCA9IGNhcnREYXRhLml0ZW1fY291bnQ7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hpbGRCdW5kbGVJdGVtc0NvdW50ID0gY2FydERhdGEuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgdmFyIF9pdGVtJHByb3BlcnRpZXM7XG5cbiAgICAgICAgICByZXR1cm4gdHlwZW9mICgoX2l0ZW0kcHJvcGVydGllcyA9IGl0ZW0ucHJvcGVydGllcykgPT09IG51bGwgfHwgX2l0ZW0kcHJvcGVydGllcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvcGVydGllcy5fY2hpbGRfYnVuZGxlX3Byb2R1Y3QpICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChwcmVzLCBjdXIpIHtcbiAgICAgICAgICByZXR1cm4gcHJlcyArIGN1ci5xdWFudGl0eTtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIHZhciBzb2Z0QnVuZGxlc0xpc3QgPSBbXTtcbiAgICAgICAgdmFyIGNoaWxkU29mdEJ1bmRsZUl0ZW1zQ291bnQgPSBjYXJ0RGF0YS5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICB2YXIgX2l0ZW0kcHJvcGVydGllczI7XG5cbiAgICAgICAgICByZXR1cm4gdHlwZW9mICgoX2l0ZW0kcHJvcGVydGllczIgPSBpdGVtLnByb3BlcnRpZXMpID09PSBudWxsIHx8IF9pdGVtJHByb3BlcnRpZXMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9wZXJ0aWVzMi5fY2hpbGRfc29mdF9idW5kbGUpICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChwcmVzLCBjdXIpIHtcbiAgICAgICAgICBpZiAoIXNvZnRCdW5kbGVzTGlzdC5pbmNsdWRlcyhjdXIucHJvcGVydGllcy5fY2hpbGRfc29mdF9idW5kbGUpKSB7XG4gICAgICAgICAgICBzb2Z0QnVuZGxlc0xpc3QucHVzaChjdXIucHJvcGVydGllcy5fY2hpbGRfc29mdF9idW5kbGUpO1xuICAgICAgICAgICAgcmV0dXJuIHByZXM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHByZXMgKyBjdXIucXVhbnRpdHk7XG4gICAgICAgIH0sIDApO1xuICAgICAgICBfdGhpcy5pbm5lckhUTUwgPSBjYXJ0RGF0YS5pdGVtX2NvdW50IC0gY2hpbGRCdW5kbGVJdGVtc0NvdW50IC0gY2hpbGRTb2Z0QnVuZGxlSXRlbXNDb3VudDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBfY3JlYXRlQ2xhc3MoQ2FydENvdW50KTtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKSk7XG4gIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2NhcnQtdG90YWwnLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9IVE1MRWxlbWVudDIpIHtcbiAgICBfaW5oZXJpdHMoQ2FydFRvdGFsLCBfSFRNTEVsZW1lbnQyKTtcblxuICAgIHZhciBfc3VwZXIyID0gX2NyZWF0ZVN1cGVyKENhcnRUb3RhbCk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24gQ2FydFRvdGFsKCkge1xuICAgICAgdmFyIF90aGlzMjtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhcnRUb3RhbCk7XG5cbiAgICAgIF90aGlzMiA9IF9zdXBlcjIuY2FsbCh0aGlzKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjYXJ0QVBJJywgZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgIHZhciBjYXJ0RGF0YSA9IF9yZWYyLmRldGFpbC5jYXJ0RGF0YTtcbiAgICAgICAgX3RoaXMyLmlubmVySFRNTCA9IFNob3BpZnkuZm9ybWF0TW9uZXkoY2FydERhdGEudG90YWxfcHJpY2UpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gX3RoaXMyO1xuICAgIH1cblxuICAgIHJldHVybiBfY3JlYXRlQ2xhc3MoQ2FydFRvdGFsKTtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKSk7XG4gIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2NhcnQtZGlzY291bnRzJywgLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSFRNTEVsZW1lbnQzKSB7XG4gICAgX2luaGVyaXRzKENhcnREaXNjb3VudHMsIF9IVE1MRWxlbWVudDMpO1xuXG4gICAgdmFyIF9zdXBlcjMgPSBfY3JlYXRlU3VwZXIoQ2FydERpc2NvdW50cyk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24gQ2FydERpc2NvdW50cygpIHtcbiAgICAgIHZhciBfdGhpczM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYXJ0RGlzY291bnRzKTtcblxuICAgICAgX3RoaXMzID0gX3N1cGVyMy5jYWxsKHRoaXMpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NhcnRBUEknLCBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgdmFyIGNhcnREYXRhID0gX3JlZjMuZGV0YWlsLmNhcnREYXRhO1xuICAgICAgICBfdGhpczMuaW5uZXJIVE1MID0gU2hvcGlmeS5mb3JtYXRNb25leShjYXJ0RGF0YS50b3RhbF9kaXNjb3VudCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBfdGhpczM7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jcmVhdGVDbGFzcyhDYXJ0RGlzY291bnRzKTtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKSk7XG59KSgpOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/cart/components/cart-info.js\n");

/***/ }),

/***/ "./src/scripts/cart/components/cart-items.js":
/*!***************************************************!*\
  !*** ./src/scripts/cart/components/cart-items.js ***!
  \***************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scripts_cart_cart_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @scripts/cart/cart-api */ \"./src/scripts/cart/cart-api.js\");\n/* harmony import */ var _scripts_cart_templates_cart_items_templates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @scripts/cart/templates/cart-items-templates */ \"./src/scripts/cart/templates/cart-items-templates.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n(function () {\n  if (typeof window.customElements.get('cart-items') !== 'undefined' || typeof window.customElements.get('cart-item') !== 'undefined') {\n    return;\n  }\n\n  window.customElements.define('cart-items', /*#__PURE__*/function (_HTMLElement) {\n    _inherits(CollectionItemList, _HTMLElement);\n\n    var _super = _createSuper(CollectionItemList);\n\n    // eslint-disable-line\n    function CollectionItemList() {\n      var _this;\n\n      _classCallCheck(this, CollectionItemList);\n\n      _this = _super.call(this);\n      _this.parser = new DOMParser(); // eslint-disable-line\n\n      window.addEventListener('cartAPI', function (_ref) {\n        var cartData = _ref.detail.cartData;\n\n        _this.buildList(cartData);\n      });\n      return _this;\n    }\n\n    _createClass(CollectionItemList, [{\n      key: \"buildList\",\n      value: function buildList(cartData) {\n        var _this2 = this;\n\n        if (!cartData.items || cartData.items.length === 0) {\n          return;\n        }\n\n        var newItems = cartData.items.filter(function (item) {\n          return _this2.querySelector(\"[data-cart-item][data-key=\\\"\".concat(item.key, \"\\\"]\")) === null;\n        });\n        var softBundlesAdded = [];\n        newItems.forEach(function (item) {\n          var _item$properties, _item$properties2, _item$properties3;\n\n          var childBundleProducts = checkBundleChildren(item, cartData);\n          var isBundleChildProduct = typeof ((_item$properties = item.properties) === null || _item$properties === void 0 ? void 0 : _item$properties._child_bundle_product) !== 'undefined';\n          var isSoftBundleProduct = typeof ((_item$properties2 = item.properties) === null || _item$properties2 === void 0 ? void 0 : _item$properties2._child_soft_bundle) !== 'undefined';\n\n          if (isBundleChildProduct) {\n            return;\n          }\n\n          var elmLit = isSoftBundleProduct && softBundlesAdded.includes((_item$properties3 = item.properties) === null || _item$properties3 === void 0 ? void 0 : _item$properties3._child_soft_bundle) ? Object(_scripts_cart_templates_cart_items_templates__WEBPACK_IMPORTED_MODULE_1__[\"cartItemTemplateEmpty\"])(item, childBundleProducts) : Object(_scripts_cart_templates_cart_items_templates__WEBPACK_IMPORTED_MODULE_1__[\"cartItemTemplate\"])(item, childBundleProducts, isSoftBundleProduct);\n\n          var doc = _this2.parser.parseFromString(elmLit, 'text/html');\n\n          var elm = doc.querySelector('cart-item');\n\n          if (!elm) {\n            return;\n          }\n\n          _this2.prepend(elm);\n\n          if (isSoftBundleProduct) {\n            var _item$properties4;\n\n            softBundlesAdded.push((_item$properties4 = item.properties) === null || _item$properties4 === void 0 ? void 0 : _item$properties4._child_soft_bundle);\n          }\n        });\n      }\n    }]);\n\n    return CollectionItemList;\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n  window.customElements.define('cart-item', /*#__PURE__*/function (_HTMLElement2) {\n    _inherits(CollectionItem, _HTMLElement2);\n\n    var _super2 = _createSuper(CollectionItem);\n\n    // eslint-disable-line\n    function CollectionItem() {\n      var _this3;\n\n      _classCallCheck(this, CollectionItem);\n\n      _this3 = _super2.call(this);\n      _this3.key = _this3.getAttribute('data-key');\n      _this3.id = parseInt(_this3.getAttribute('data-id'), 10);\n      _this3.itemData = {};\n      _this3.bundleChildren = [];\n      _this3.isSoftBundle = _this3.hasAttribute('data-cart-item-soft-bundle');\n\n      _this3.setItemData(_scripts_cart_cart_api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCartData());\n\n      _this3.initQuantitySelector();\n\n      _this3.initSellingPlanSelect();\n\n      _this3.initRemoveButton();\n\n      window.addEventListener('cartAPI', function (_ref2) {\n        var cartData = _ref2.detail.cartData;\n\n        _this3.setItemData(cartData);\n      });\n      return _this3;\n    }\n\n    _createClass(CollectionItem, [{\n      key: \"setItemData\",\n      value: function setItemData(cartData) {\n        var _this4 = this;\n\n        this.itemData = cartData.items.find(function (item) {\n          return item.key === _this4.key;\n        });\n\n        if (typeof this.itemData === 'undefined' || !this.itemData) {\n          this.remove();\n        } else {\n          this.bundleChildren = checkBundleChildren(this.itemData, cartData);\n          this.updateCartItem();\n        }\n      }\n    }, {\n      key: \"initQuantitySelector\",\n      value: function initQuantitySelector() {\n        var _this5 = this;\n\n        var quantitySelector = this.querySelector('[data-quantity-input]');\n\n        if (!quantitySelector) {\n          return;\n        }\n\n        var changeTimeout = null;\n        quantitySelector.addEventListener('change', function () {\n          if (changeTimeout !== null) {\n            clearTimeout(changeTimeout);\n          }\n\n          changeTimeout = setTimeout(function () {\n            _this5.quantityChange(quantitySelector.value);\n          }, 250);\n        });\n      }\n    }, {\n      key: \"initSellingPlanSelect\",\n      value: function initSellingPlanSelect() {\n        var _this6 = this;\n\n        var sellingPlanSelect = this.querySelector('[data-selling-plan-select]');\n\n        if (!sellingPlanSelect) {\n          return;\n        }\n\n        sellingPlanSelect.addEventListener('change', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!(!_this6.bundleChildren || _this6.bundleChildren.length === 0)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  _context.next = 3;\n                  return _scripts_cart_cart_api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].cartChange({\n                    id: _this6.key,\n                    selling_plan: sellingPlanSelect.value\n                  });\n\n                case 3:\n                  _context.next = 6;\n                  break;\n\n                case 5:\n                  _this6.swapBundleSellingPlans(sellingPlanSelect);\n\n                case 6:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        })));\n      }\n    }, {\n      key: \"swapBundleSellingPlans\",\n      value: function swapBundleSellingPlans(sellingPlanSelect) {\n        var itemsToSwap = this.isSoftBundle ? [] : [{\n          oldItemKey: this.key,\n          newItem: {\n            id: this.itemData.id,\n            quantity: this.itemData.quantity,\n            selling_plan: sellingPlanSelect.value || null,\n            properties: this.itemData.properties\n          }\n        }];\n        var sellingPlanName = sellingPlanSelect.options[sellingPlanSelect.selectedIndex].text;\n        this.bundleChildren.forEach(function (childItem) {\n          try {\n            var _childItem$properties;\n\n            var chosenPlan = JSON.parse((_childItem$properties = childItem.properties) === null || _childItem$properties === void 0 ? void 0 : _childItem$properties._selling_plan_options.replace(/`/g, '\"')).find(function (option) {\n              return option.sellingPlan.name === sellingPlanName;\n            });\n            var chosenPlanID = typeof chosenPlan === 'undefined' ? null : chosenPlan.sellingPlan.id.split('SellingPlan/')[1];\n            itemsToSwap.push({\n              oldItemKey: childItem.key,\n              newItem: {\n                id: childItem.id,\n                quantity: childItem.quantity,\n                selling_plan: chosenPlanID,\n                properties: childItem.properties\n              }\n            });\n          } catch (err) {\n            console.error(err);\n            return null;\n          }\n        });\n        _scripts_cart_cart_api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].cartSwap(itemsToSwap);\n      }\n    }, {\n      key: \"initRemoveButton\",\n      value: function initRemoveButton() {\n        var _this7 = this;\n\n        var removeButton = this.querySelector('[data-remove-cart-item]');\n\n        if (!removeButton) {\n          return;\n        }\n\n        removeButton.addEventListener('click', function () {\n          _this7.quantityChange(0);\n\n          _this7.classList.add('removed');\n\n          setTimeout(function () {\n            _this7.remove();\n          }, 350);\n        });\n      }\n    }, {\n      key: \"quantityChange\",\n      value: function () {\n        var _quantityChange = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(newQuantity) {\n          var itemsToUpdate;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  newQuantity = parseInt(newQuantity, 10);\n\n                  if (!(!this.bundleChildren || this.bundleChildren.length === 0)) {\n                    _context2.next = 5;\n                    break;\n                  }\n\n                  _context2.next = 4;\n                  return _scripts_cart_cart_api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].cartChange({\n                    id: this.key,\n                    quantity: newQuantity\n                  });\n\n                case 4:\n                  return _context2.abrupt(\"return\");\n\n                case 5:\n                  itemsToUpdate = {\n                    updates: {}\n                  };\n                  itemsToUpdate.updates[this.key] = newQuantity;\n                  this.bundleChildren.forEach(function (childItem) {\n                    itemsToUpdate.updates[childItem.key] = newQuantity;\n                  });\n                  _scripts_cart_cart_api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].cartUpdate(itemsToUpdate);\n\n                case 9:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function quantityChange(_x) {\n          return _quantityChange.apply(this, arguments);\n        }\n\n        return quantityChange;\n      }()\n    }, {\n      key: \"updateCartItem\",\n      value: function updateCartItem() {\n        var priceDisplay = this.querySelector('[data-price]');\n\n        if (priceDisplay !== null) {\n          priceDisplay.innerHTML = this.isSoftBundle ? Object(_scripts_cart_templates_cart_items_templates__WEBPACK_IMPORTED_MODULE_1__[\"bundleChildrenPrice\"])(this.itemData, this.bundleChildren) : Object(_scripts_cart_templates_cart_items_templates__WEBPACK_IMPORTED_MODULE_1__[\"cartItemPrice\"])(this.itemData.final_line_price, this.itemData.original_line_price);\n        }\n\n        var quantitySelector = this.querySelector('[data-quantity-input]');\n\n        if (quantitySelector !== null) {\n          quantitySelector.value = this.itemData.quantity;\n        }\n\n        var bundleChildrenHolder = this.querySelector('[data-bundle-childen]');\n\n        if (bundleChildrenHolder !== null) {\n          var isOpen = bundleChildrenHolder.querySelector('[data-bundle-details]').hasAttribute('open');\n          bundleChildrenHolder.innerHTML = Object(_scripts_cart_templates_cart_items_templates__WEBPACK_IMPORTED_MODULE_1__[\"bundleChildrenDetails\"])(this.itemData, this.bundleChildren);\n\n          if (isOpen) {\n            bundleChildrenHolder.querySelector('[data-bundle-details]').setAttribute('open', true);\n          }\n        }\n      }\n    }]);\n\n    return CollectionItem;\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n})();\n\nvar checkBundleChildren = function checkBundleChildren(item, cartData) {\n  return cartData.items.filter(function (childItem) {\n    var _item$properties5;\n\n    return typeof item.properties !== 'undefined' && typeof childItem.properties !== 'undefined' && item.properties !== null && childItem.properties !== null && (typeof (item === null || item === void 0 ? void 0 : (_item$properties5 = item.properties) === null || _item$properties5 === void 0 ? void 0 : _item$properties5._parent_bundle_product) !== 'undefined' && typeof childItem.properties._child_bundle_product !== 'undefined' && item.properties._parent_bundle_product === childItem.properties._child_bundle_product || typeof item.properties._child_soft_bundle !== 'undefined' && typeof childItem.properties._child_soft_bundle !== 'undefined' && item.properties._child_soft_bundle === childItem.properties._child_soft_bundle);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jYXJ0L2NvbXBvbmVudHMvY2FydC1pdGVtcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2NhcnQvY29tcG9uZW50cy9jYXJ0LWl0ZW1zLmpzPzhlOTkiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkOyBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzOyBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7IGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpOyBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTsgfSBmdW5jdGlvbiBXcmFwcGVyKCkgeyByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpOyB9OyByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0OyB9IGVsc2UgeyBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IHZhciBhID0gW251bGxdOyBhLnB1c2guYXBwbHkoYSwgYXJncyk7IHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTsgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7IGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpOyByZXR1cm4gaW5zdGFuY2U7IH07IH0gcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHsgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmltcG9ydCBjYXJ0QVBJIGZyb20gJ0BzY3JpcHRzL2NhcnQvY2FydC1hcGknO1xuaW1wb3J0IHsgY2FydEl0ZW1UZW1wbGF0ZSwgY2FydEl0ZW1UZW1wbGF0ZUVtcHR5LCBjYXJ0SXRlbVByaWNlLCBidW5kbGVDaGlsZHJlblByaWNlLCBidW5kbGVDaGlsZHJlbkRldGFpbHMgfSBmcm9tICdAc2NyaXB0cy9jYXJ0L3RlbXBsYXRlcy9jYXJ0LWl0ZW1zLXRlbXBsYXRlcyc7XG5cbihmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93LmN1c3RvbUVsZW1lbnRzLmdldCgnY2FydC1pdGVtcycpICE9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygd2luZG93LmN1c3RvbUVsZW1lbnRzLmdldCgnY2FydC1pdGVtJykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY2FydC1pdGVtcycsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7XG4gICAgX2luaGVyaXRzKENvbGxlY3Rpb25JdGVtTGlzdCwgX0hUTUxFbGVtZW50KTtcblxuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ29sbGVjdGlvbkl0ZW1MaXN0KTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmdW5jdGlvbiBDb2xsZWN0aW9uSXRlbUxpc3QoKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xsZWN0aW9uSXRlbUxpc3QpO1xuXG4gICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgX3RoaXMucGFyc2VyID0gbmV3IERPTVBhcnNlcigpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjYXJ0QVBJJywgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIGNhcnREYXRhID0gX3JlZi5kZXRhaWwuY2FydERhdGE7XG5cbiAgICAgICAgX3RoaXMuYnVpbGRMaXN0KGNhcnREYXRhKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDb2xsZWN0aW9uSXRlbUxpc3QsIFt7XG4gICAgICBrZXk6IFwiYnVpbGRMaXN0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRMaXN0KGNhcnREYXRhKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIGlmICghY2FydERhdGEuaXRlbXMgfHwgY2FydERhdGEuaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5ld0l0ZW1zID0gY2FydERhdGEuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtY2FydC1pdGVtXVtkYXRhLWtleT1cXFwiXCIuY29uY2F0KGl0ZW0ua2V5LCBcIlxcXCJdXCIpKSA9PT0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzb2Z0QnVuZGxlc0FkZGVkID0gW107XG4gICAgICAgIG5ld0l0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICB2YXIgX2l0ZW0kcHJvcGVydGllcywgX2l0ZW0kcHJvcGVydGllczIsIF9pdGVtJHByb3BlcnRpZXMzO1xuXG4gICAgICAgICAgdmFyIGNoaWxkQnVuZGxlUHJvZHVjdHMgPSBjaGVja0J1bmRsZUNoaWxkcmVuKGl0ZW0sIGNhcnREYXRhKTtcbiAgICAgICAgICB2YXIgaXNCdW5kbGVDaGlsZFByb2R1Y3QgPSB0eXBlb2YgKChfaXRlbSRwcm9wZXJ0aWVzID0gaXRlbS5wcm9wZXJ0aWVzKSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9wZXJ0aWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9wZXJ0aWVzLl9jaGlsZF9idW5kbGVfcHJvZHVjdCkgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICAgIHZhciBpc1NvZnRCdW5kbGVQcm9kdWN0ID0gdHlwZW9mICgoX2l0ZW0kcHJvcGVydGllczIgPSBpdGVtLnByb3BlcnRpZXMpID09PSBudWxsIHx8IF9pdGVtJHByb3BlcnRpZXMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9wZXJ0aWVzMi5fY2hpbGRfc29mdF9idW5kbGUpICE9PSAndW5kZWZpbmVkJztcblxuICAgICAgICAgIGlmIChpc0J1bmRsZUNoaWxkUHJvZHVjdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBlbG1MaXQgPSBpc1NvZnRCdW5kbGVQcm9kdWN0ICYmIHNvZnRCdW5kbGVzQWRkZWQuaW5jbHVkZXMoKF9pdGVtJHByb3BlcnRpZXMzID0gaXRlbS5wcm9wZXJ0aWVzKSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9wZXJ0aWVzMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvcGVydGllczMuX2NoaWxkX3NvZnRfYnVuZGxlKSA/IGNhcnRJdGVtVGVtcGxhdGVFbXB0eShpdGVtLCBjaGlsZEJ1bmRsZVByb2R1Y3RzKSA6IGNhcnRJdGVtVGVtcGxhdGUoaXRlbSwgY2hpbGRCdW5kbGVQcm9kdWN0cywgaXNTb2Z0QnVuZGxlUHJvZHVjdCk7XG5cbiAgICAgICAgICB2YXIgZG9jID0gX3RoaXMyLnBhcnNlci5wYXJzZUZyb21TdHJpbmcoZWxtTGl0LCAndGV4dC9odG1sJyk7XG5cbiAgICAgICAgICB2YXIgZWxtID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJ2NhcnQtaXRlbScpO1xuXG4gICAgICAgICAgaWYgKCFlbG0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpczIucHJlcGVuZChlbG0pO1xuXG4gICAgICAgICAgaWYgKGlzU29mdEJ1bmRsZVByb2R1Y3QpIHtcbiAgICAgICAgICAgIHZhciBfaXRlbSRwcm9wZXJ0aWVzNDtcblxuICAgICAgICAgICAgc29mdEJ1bmRsZXNBZGRlZC5wdXNoKChfaXRlbSRwcm9wZXJ0aWVzNCA9IGl0ZW0ucHJvcGVydGllcykgPT09IG51bGwgfHwgX2l0ZW0kcHJvcGVydGllczQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb3BlcnRpZXM0Ll9jaGlsZF9zb2Z0X2J1bmRsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29sbGVjdGlvbkl0ZW1MaXN0O1xuICB9KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihIVE1MRWxlbWVudCkpKTtcbiAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY2FydC1pdGVtJywgLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSFRNTEVsZW1lbnQyKSB7XG4gICAgX2luaGVyaXRzKENvbGxlY3Rpb25JdGVtLCBfSFRNTEVsZW1lbnQyKTtcblxuICAgIHZhciBfc3VwZXIyID0gX2NyZWF0ZVN1cGVyKENvbGxlY3Rpb25JdGVtKTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmdW5jdGlvbiBDb2xsZWN0aW9uSXRlbSgpIHtcbiAgICAgIHZhciBfdGhpczM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xsZWN0aW9uSXRlbSk7XG5cbiAgICAgIF90aGlzMyA9IF9zdXBlcjIuY2FsbCh0aGlzKTtcbiAgICAgIF90aGlzMy5rZXkgPSBfdGhpczMuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xuICAgICAgX3RoaXMzLmlkID0gcGFyc2VJbnQoX3RoaXMzLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpLCAxMCk7XG4gICAgICBfdGhpczMuaXRlbURhdGEgPSB7fTtcbiAgICAgIF90aGlzMy5idW5kbGVDaGlsZHJlbiA9IFtdO1xuICAgICAgX3RoaXMzLmlzU29mdEJ1bmRsZSA9IF90aGlzMy5oYXNBdHRyaWJ1dGUoJ2RhdGEtY2FydC1pdGVtLXNvZnQtYnVuZGxlJyk7XG5cbiAgICAgIF90aGlzMy5zZXRJdGVtRGF0YShjYXJ0QVBJLmdldENhcnREYXRhKCkpO1xuXG4gICAgICBfdGhpczMuaW5pdFF1YW50aXR5U2VsZWN0b3IoKTtcblxuICAgICAgX3RoaXMzLmluaXRTZWxsaW5nUGxhblNlbGVjdCgpO1xuXG4gICAgICBfdGhpczMuaW5pdFJlbW92ZUJ1dHRvbigpO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2FydEFQSScsIGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICB2YXIgY2FydERhdGEgPSBfcmVmMi5kZXRhaWwuY2FydERhdGE7XG5cbiAgICAgICAgX3RoaXMzLnNldEl0ZW1EYXRhKGNhcnREYXRhKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzMztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ29sbGVjdGlvbkl0ZW0sIFt7XG4gICAgICBrZXk6IFwic2V0SXRlbURhdGFcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRJdGVtRGF0YShjYXJ0RGF0YSkge1xuICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICB0aGlzLml0ZW1EYXRhID0gY2FydERhdGEuaXRlbXMuZmluZChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLmtleSA9PT0gX3RoaXM0LmtleTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLml0ZW1EYXRhID09PSAndW5kZWZpbmVkJyB8fCAhdGhpcy5pdGVtRGF0YSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5idW5kbGVDaGlsZHJlbiA9IGNoZWNrQnVuZGxlQ2hpbGRyZW4odGhpcy5pdGVtRGF0YSwgY2FydERhdGEpO1xuICAgICAgICAgIHRoaXMudXBkYXRlQ2FydEl0ZW0oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJpbml0UXVhbnRpdHlTZWxlY3RvclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRRdWFudGl0eVNlbGVjdG9yKCkge1xuICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICB2YXIgcXVhbnRpdHlTZWxlY3RvciA9IHRoaXMucXVlcnlTZWxlY3RvcignW2RhdGEtcXVhbnRpdHktaW5wdXRdJyk7XG5cbiAgICAgICAgaWYgKCFxdWFudGl0eVNlbGVjdG9yKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoYW5nZVRpbWVvdXQgPSBudWxsO1xuICAgICAgICBxdWFudGl0eVNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoY2hhbmdlVGltZW91dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNoYW5nZVRpbWVvdXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNoYW5nZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzNS5xdWFudGl0eUNoYW5nZShxdWFudGl0eVNlbGVjdG9yLnZhbHVlKTtcbiAgICAgICAgICB9LCAyNTApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiaW5pdFNlbGxpbmdQbGFuU2VsZWN0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFNlbGxpbmdQbGFuU2VsZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgICB2YXIgc2VsbGluZ1BsYW5TZWxlY3QgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNlbGxpbmctcGxhbi1zZWxlY3RdJyk7XG5cbiAgICAgICAgaWYgKCFzZWxsaW5nUGxhblNlbGVjdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGxpbmdQbGFuU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgaWYgKCEoIV90aGlzNi5idW5kbGVDaGlsZHJlbiB8fCBfdGhpczYuYnVuZGxlQ2hpbGRyZW4ubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhcnRBUEkuY2FydENoYW5nZSh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczYua2V5LFxuICAgICAgICAgICAgICAgICAgICBzZWxsaW5nX3BsYW46IHNlbGxpbmdQbGFuU2VsZWN0LnZhbHVlXG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICBfdGhpczYuc3dhcEJ1bmRsZVNlbGxpbmdQbGFucyhzZWxsaW5nUGxhblNlbGVjdCk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWUpO1xuICAgICAgICB9KSkpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzd2FwQnVuZGxlU2VsbGluZ1BsYW5zXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc3dhcEJ1bmRsZVNlbGxpbmdQbGFucyhzZWxsaW5nUGxhblNlbGVjdCkge1xuICAgICAgICB2YXIgaXRlbXNUb1N3YXAgPSB0aGlzLmlzU29mdEJ1bmRsZSA/IFtdIDogW3tcbiAgICAgICAgICBvbGRJdGVtS2V5OiB0aGlzLmtleSxcbiAgICAgICAgICBuZXdJdGVtOiB7XG4gICAgICAgICAgICBpZDogdGhpcy5pdGVtRGF0YS5pZCxcbiAgICAgICAgICAgIHF1YW50aXR5OiB0aGlzLml0ZW1EYXRhLnF1YW50aXR5LFxuICAgICAgICAgICAgc2VsbGluZ19wbGFuOiBzZWxsaW5nUGxhblNlbGVjdC52YWx1ZSB8fCBudWxsLFxuICAgICAgICAgICAgcHJvcGVydGllczogdGhpcy5pdGVtRGF0YS5wcm9wZXJ0aWVzXG4gICAgICAgICAgfVxuICAgICAgICB9XTtcbiAgICAgICAgdmFyIHNlbGxpbmdQbGFuTmFtZSA9IHNlbGxpbmdQbGFuU2VsZWN0Lm9wdGlvbnNbc2VsbGluZ1BsYW5TZWxlY3Quc2VsZWN0ZWRJbmRleF0udGV4dDtcbiAgICAgICAgdGhpcy5idW5kbGVDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZEl0ZW0pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIF9jaGlsZEl0ZW0kcHJvcGVydGllcztcblxuICAgICAgICAgICAgdmFyIGNob3NlblBsYW4gPSBKU09OLnBhcnNlKChfY2hpbGRJdGVtJHByb3BlcnRpZXMgPSBjaGlsZEl0ZW0ucHJvcGVydGllcykgPT09IG51bGwgfHwgX2NoaWxkSXRlbSRwcm9wZXJ0aWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2hpbGRJdGVtJHByb3BlcnRpZXMuX3NlbGxpbmdfcGxhbl9vcHRpb25zLnJlcGxhY2UoL2AvZywgJ1wiJykpLmZpbmQoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uLnNlbGxpbmdQbGFuLm5hbWUgPT09IHNlbGxpbmdQbGFuTmFtZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGNob3NlblBsYW5JRCA9IHR5cGVvZiBjaG9zZW5QbGFuID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiBjaG9zZW5QbGFuLnNlbGxpbmdQbGFuLmlkLnNwbGl0KCdTZWxsaW5nUGxhbi8nKVsxXTtcbiAgICAgICAgICAgIGl0ZW1zVG9Td2FwLnB1c2goe1xuICAgICAgICAgICAgICBvbGRJdGVtS2V5OiBjaGlsZEl0ZW0ua2V5LFxuICAgICAgICAgICAgICBuZXdJdGVtOiB7XG4gICAgICAgICAgICAgICAgaWQ6IGNoaWxkSXRlbS5pZCxcbiAgICAgICAgICAgICAgICBxdWFudGl0eTogY2hpbGRJdGVtLnF1YW50aXR5LFxuICAgICAgICAgICAgICAgIHNlbGxpbmdfcGxhbjogY2hvc2VuUGxhbklELFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IGNoaWxkSXRlbS5wcm9wZXJ0aWVzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2FydEFQSS5jYXJ0U3dhcChpdGVtc1RvU3dhcCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImluaXRSZW1vdmVCdXR0b25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0UmVtb3ZlQnV0dG9uKCkge1xuICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgICB2YXIgcmVtb3ZlQnV0dG9uID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1yZW1vdmUtY2FydC1pdGVtXScpO1xuXG4gICAgICAgIGlmICghcmVtb3ZlQnV0dG9uKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzNy5xdWFudGl0eUNoYW5nZSgwKTtcblxuICAgICAgICAgIF90aGlzNy5jbGFzc0xpc3QuYWRkKCdyZW1vdmVkJyk7XG5cbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzNy5yZW1vdmUoKTtcbiAgICAgICAgICB9LCAzNTApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicXVhbnRpdHlDaGFuZ2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcXVhbnRpdHlDaGFuZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKG5ld1F1YW50aXR5KSB7XG4gICAgICAgICAgdmFyIGl0ZW1zVG9VcGRhdGU7XG4gICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgIG5ld1F1YW50aXR5ID0gcGFyc2VJbnQobmV3UXVhbnRpdHksIDEwKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKCEoIXRoaXMuYnVuZGxlQ2hpbGRyZW4gfHwgdGhpcy5idW5kbGVDaGlsZHJlbi5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjYXJ0QVBJLmNhcnRDaGFuZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5rZXksXG4gICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiBuZXdRdWFudGl0eVxuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgIGl0ZW1zVG9VcGRhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZXM6IHt9XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgaXRlbXNUb1VwZGF0ZS51cGRhdGVzW3RoaXMua2V5XSA9IG5ld1F1YW50aXR5O1xuICAgICAgICAgICAgICAgICAgdGhpcy5idW5kbGVDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbXNUb1VwZGF0ZS51cGRhdGVzW2NoaWxkSXRlbS5rZXldID0gbmV3UXVhbnRpdHk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGNhcnRBUEkuY2FydFVwZGF0ZShpdGVtc1RvVXBkYXRlKTtcblxuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTtcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHF1YW50aXR5Q2hhbmdlKF94KSB7XG4gICAgICAgICAgcmV0dXJuIF9xdWFudGl0eUNoYW5nZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHF1YW50aXR5Q2hhbmdlO1xuICAgICAgfSgpXG4gICAgfSwge1xuICAgICAga2V5OiBcInVwZGF0ZUNhcnRJdGVtXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ2FydEl0ZW0oKSB7XG4gICAgICAgIHZhciBwcmljZURpc3BsYXkgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByaWNlXScpO1xuXG4gICAgICAgIGlmIChwcmljZURpc3BsYXkgIT09IG51bGwpIHtcbiAgICAgICAgICBwcmljZURpc3BsYXkuaW5uZXJIVE1MID0gdGhpcy5pc1NvZnRCdW5kbGUgPyBidW5kbGVDaGlsZHJlblByaWNlKHRoaXMuaXRlbURhdGEsIHRoaXMuYnVuZGxlQ2hpbGRyZW4pIDogY2FydEl0ZW1QcmljZSh0aGlzLml0ZW1EYXRhLmZpbmFsX2xpbmVfcHJpY2UsIHRoaXMuaXRlbURhdGEub3JpZ2luYWxfbGluZV9wcmljZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcXVhbnRpdHlTZWxlY3RvciA9IHRoaXMucXVlcnlTZWxlY3RvcignW2RhdGEtcXVhbnRpdHktaW5wdXRdJyk7XG5cbiAgICAgICAgaWYgKHF1YW50aXR5U2VsZWN0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICBxdWFudGl0eVNlbGVjdG9yLnZhbHVlID0gdGhpcy5pdGVtRGF0YS5xdWFudGl0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBidW5kbGVDaGlsZHJlbkhvbGRlciA9IHRoaXMucXVlcnlTZWxlY3RvcignW2RhdGEtYnVuZGxlLWNoaWxkZW5dJyk7XG5cbiAgICAgICAgaWYgKGJ1bmRsZUNoaWxkcmVuSG9sZGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgdmFyIGlzT3BlbiA9IGJ1bmRsZUNoaWxkcmVuSG9sZGVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ1bmRsZS1kZXRhaWxzXScpLmhhc0F0dHJpYnV0ZSgnb3BlbicpO1xuICAgICAgICAgIGJ1bmRsZUNoaWxkcmVuSG9sZGVyLmlubmVySFRNTCA9IGJ1bmRsZUNoaWxkcmVuRGV0YWlscyh0aGlzLml0ZW1EYXRhLCB0aGlzLmJ1bmRsZUNoaWxkcmVuKTtcblxuICAgICAgICAgIGlmIChpc09wZW4pIHtcbiAgICAgICAgICAgIGJ1bmRsZUNoaWxkcmVuSG9sZGVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ1bmRsZS1kZXRhaWxzXScpLnNldEF0dHJpYnV0ZSgnb3BlbicsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb2xsZWN0aW9uSXRlbTtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKSk7XG59KSgpO1xuXG52YXIgY2hlY2tCdW5kbGVDaGlsZHJlbiA9IGZ1bmN0aW9uIGNoZWNrQnVuZGxlQ2hpbGRyZW4oaXRlbSwgY2FydERhdGEpIHtcbiAgcmV0dXJuIGNhcnREYXRhLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAoY2hpbGRJdGVtKSB7XG4gICAgdmFyIF9pdGVtJHByb3BlcnRpZXM1O1xuXG4gICAgcmV0dXJuIHR5cGVvZiBpdGVtLnByb3BlcnRpZXMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjaGlsZEl0ZW0ucHJvcGVydGllcyAhPT0gJ3VuZGVmaW5lZCcgJiYgaXRlbS5wcm9wZXJ0aWVzICE9PSBudWxsICYmIGNoaWxkSXRlbS5wcm9wZXJ0aWVzICE9PSBudWxsICYmICh0eXBlb2YgKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9pdGVtJHByb3BlcnRpZXM1ID0gaXRlbS5wcm9wZXJ0aWVzKSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9wZXJ0aWVzNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvcGVydGllczUuX3BhcmVudF9idW5kbGVfcHJvZHVjdCkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjaGlsZEl0ZW0ucHJvcGVydGllcy5fY2hpbGRfYnVuZGxlX3Byb2R1Y3QgIT09ICd1bmRlZmluZWQnICYmIGl0ZW0ucHJvcGVydGllcy5fcGFyZW50X2J1bmRsZV9wcm9kdWN0ID09PSBjaGlsZEl0ZW0ucHJvcGVydGllcy5fY2hpbGRfYnVuZGxlX3Byb2R1Y3QgfHwgdHlwZW9mIGl0ZW0ucHJvcGVydGllcy5fY2hpbGRfc29mdF9idW5kbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjaGlsZEl0ZW0ucHJvcGVydGllcy5fY2hpbGRfc29mdF9idW5kbGUgIT09ICd1bmRlZmluZWQnICYmIGl0ZW0ucHJvcGVydGllcy5fY2hpbGRfc29mdF9idW5kbGUgPT09IGNoaWxkSXRlbS5wcm9wZXJ0aWVzLl9jaGlsZF9zb2Z0X2J1bmRsZSk7XG4gIH0pO1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/cart/components/cart-items.js\n");

/***/ }),

/***/ "./src/scripts/cart/components/cart-note.js":
/*!**************************************************!*\
  !*** ./src/scripts/cart/components/cart-note.js ***!
  \**************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scripts_cart_cart_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @scripts/cart/cart-api */ \"./src/scripts/cart/cart-api.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n(function () {\n  if (typeof window.customElements.get('cart-note') !== 'undefined') {\n    return;\n  }\n\n  window.customElements.define('cart-note', /*#__PURE__*/function (_HTMLElement) {\n    _inherits(CartNote, _HTMLElement);\n\n    var _super = _createSuper(CartNote);\n\n    // eslint-disable-line\n    function CartNote() {\n      var _this;\n\n      _classCallCheck(this, CartNote);\n\n      _this = _super.call(this);\n      _this.input = _this.querySelector('[data-note-input]');\n\n      _this.initNote();\n\n      return _this;\n    }\n\n    _createClass(CartNote, [{\n      key: \"initNote\",\n      value: function initNote() {\n        var _this2 = this;\n\n        if (!this.input) {\n          return;\n        }\n\n        var saveTimeout = null;\n        this.input.addEventListener('keyup', function () {\n          if (saveTimeout !== null) {\n            clearTimeout(saveTimeout);\n          }\n\n          saveTimeout = setTimeout(function () {\n            _this2.saveNote();\n          }, 500);\n        });\n        this.input.addEventListener('blur', function () {\n          _this2.saveNote();\n        });\n        window.addEventListener('cartAPI', function (_ref) {\n          var cartData = _ref.detail.cartData;\n\n          if (_this2.input.value === cartData.note || _this2.input.value.length !== 0) {\n            return;\n          }\n\n          _this2.input.value = cartData.note === null ? '' : cartData.note;\n        });\n      }\n    }, {\n      key: \"saveNote\",\n      value: function saveNote() {\n        _scripts_cart_cart_api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].cartUpdate({\n          note: this.input.value\n        });\n      }\n    }]);\n\n    return CartNote;\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jYXJ0L2NvbXBvbmVudHMvY2FydC1ub3RlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY2FydC9jb21wb25lbnRzL2NhcnQtbm90ZS5qcz80ODZjIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9LCBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHsgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDsgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHsgaWYgKENsYXNzID09PSBudWxsIHx8ICFfaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzczsgaWYgKHR5cGVvZiBDbGFzcyAhPT0gXCJmdW5jdGlvblwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikgeyBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTsgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7IH0gZnVuY3Rpb24gV3JhcHBlcigpIHsgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTsgfSBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBXcmFwcGVyLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyByZXR1cm4gX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIENsYXNzKTsgfTsgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyBpZiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7IF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDsgfSBlbHNlIHsgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyB2YXIgYSA9IFtudWxsXTsgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpOyB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7IHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpOyBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTsgcmV0dXJuIGluc3RhbmNlOyB9OyB9IHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7IHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5pbXBvcnQgY2FydEFQSSBmcm9tICdAc2NyaXB0cy9jYXJ0L2NhcnQtYXBpJztcblxuKGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZ2V0KCdjYXJ0LW5vdGUnKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjYXJ0LW5vdGUnLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9IVE1MRWxlbWVudCkge1xuICAgIF9pbmhlcml0cyhDYXJ0Tm90ZSwgX0hUTUxFbGVtZW50KTtcblxuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ2FydE5vdGUpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZ1bmN0aW9uIENhcnROb3RlKCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FydE5vdGUpO1xuXG4gICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgX3RoaXMuaW5wdXQgPSBfdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ub3RlLWlucHV0XScpO1xuXG4gICAgICBfdGhpcy5pbml0Tm90ZSgpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENhcnROb3RlLCBbe1xuICAgICAga2V5OiBcImluaXROb3RlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdE5vdGUoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIGlmICghdGhpcy5pbnB1dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzYXZlVGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHNhdmVUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoc2F2ZVRpbWVvdXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNhdmVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczIuc2F2ZU5vdGUoKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5zYXZlTm90ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NhcnRBUEknLCBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICAgIHZhciBjYXJ0RGF0YSA9IF9yZWYuZGV0YWlsLmNhcnREYXRhO1xuXG4gICAgICAgICAgaWYgKF90aGlzMi5pbnB1dC52YWx1ZSA9PT0gY2FydERhdGEubm90ZSB8fCBfdGhpczIuaW5wdXQudmFsdWUubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMyLmlucHV0LnZhbHVlID0gY2FydERhdGEubm90ZSA9PT0gbnVsbCA/ICcnIDogY2FydERhdGEubm90ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNhdmVOb3RlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZU5vdGUoKSB7XG4gICAgICAgIGNhcnRBUEkuY2FydFVwZGF0ZSh7XG4gICAgICAgICAgbm90ZTogdGhpcy5pbnB1dC52YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ2FydE5vdGU7XG4gIH0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEhUTUxFbGVtZW50KSkpO1xufSkoKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/cart/components/cart-note.js\n");

/***/ }),

/***/ "./src/scripts/cart/templates/cart-items-templates.js":
/*!************************************************************!*\
  !*** ./src/scripts/cart/templates/cart-items-templates.js ***!
  \************************************************************/
/*! exports provided: cartItemTemplate, cartItemTemplateEmpty, cartItemPrice, cartItemProperties, bundleChildrenPrice, bundleChildrenDetails, sellingPlanSelect, quantitySelectorTemplate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cartItemTemplate\", function() { return cartItemTemplate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cartItemTemplateEmpty\", function() { return cartItemTemplateEmpty; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cartItemPrice\", function() { return cartItemPrice; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cartItemProperties\", function() { return cartItemProperties; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bundleChildrenPrice\", function() { return bundleChildrenPrice; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bundleChildrenDetails\", function() { return bundleChildrenDetails; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sellingPlanSelect\", function() { return sellingPlanSelect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"quantitySelectorTemplate\", function() { return quantitySelectorTemplate; });\nvar cartItemTemplate = function cartItemTemplate(item, childBundleProducts, isSoftBundleProduct) {\n  var _item$properties, _item$properties2, _item$properties3, _item$properties4, _item$properties5;\n\n  var itemTitle = isSoftBundleProduct && (_item$properties = item.properties) !== null && _item$properties !== void 0 && _item$properties._soft_bundle_title ? (_item$properties2 = item.properties) === null || _item$properties2 === void 0 ? void 0 : _item$properties2._soft_bundle_title : item.product_title;\n  var itemURL = isSoftBundleProduct && (_item$properties3 = item.properties) !== null && _item$properties3 !== void 0 && _item$properties3._soft_bundle_url ? (_item$properties4 = item.properties) === null || _item$properties4 === void 0 ? void 0 : _item$properties4._soft_bundle_url : item.url;\n  return \"\\n    <cart-item class=\\\"cart-item \".concat(isSoftBundleProduct ? 'cart-item--soft-bundle' : '', \"\\\"\\n      data-cart-item\\n      data-key=\\\"\").concat(item.key, \"\\\"\\n      data-id=\\\"\").concat(item.id, \"\\\"\\n      data-product-id=\\\"\").concat(item.product_id, \"\\\"\\n      \").concat(isSoftBundleProduct ? 'data-cart-item-soft-bundle' : '', \"\\n    >\\n      <a href=\\\"\").concat(itemURL, \"\\\" class=\\\"cart-item__image-holder\\\">\\n        \").concat(isSoftBundleProduct && (_item$properties5 = item.properties) !== null && _item$properties5 !== void 0 && _item$properties5._soft_bundle_image ? \"<img src=\\\"\".concat(item.properties._soft_bundle_image, \"\\\" width=\\\"800\\\" height=\\\"800\\\" loading=\\\"lazy\\\" alt=\\\"Image of \").concat(itemTitle, \"\\\">\") : \"<img src=\\\"\".concat(Shopify.Image.getSizedImageUrl(item.image || item.featured_image.url, '800x'), \"\\\" width=\\\"800\\\" height=\\\"800\\\" loading=\\\"lazy\\\" alt=\\\"Image of \").concat(itemTitle, \"\\\">\"), \"\\n      </a>\\n\\n      <div class=\\\"cart-item__info-holder\\\">\\n        <a href=\\\"\").concat(itemURL, \"\\\" class=\\\"cart-item__link\\\">\\n          <h4 class=\\\"cart-item__title heading-5\\\">\").concat(itemTitle, \"</h4>\\n        </a>\\n\\n        \").concat(!item.variant_title || isSoftBundleProduct ? '' : \"<p class=\\\"cart-item__variant-title\\\">\".concat(item.variant_title, \"</p>\"), \"\\n        \").concat(cartItemProperties(item), \"\\n\\n        <div class=\\\"cart-item__quantity-and-price\\\">\\n          <p class=\\\"cart-item__price\\\" data-price>\\n            \").concat(isSoftBundleProduct ? bundleChildrenPrice(item, childBundleProducts) : cartItemPrice(item.final_line_price, item.original_line_price), \"\\n          </p>\\n          \").concat(quantitySelectorTemplate(item), \"\\n        </div>\\n\\n        <button class=\\\"cart-item__remove\\\" data-remove-cart-item aria-label=\\\"Remove \").concat(itemTitle, \" from cart\\\">\\n          \").concat(window.theme.icons.trash, \"\\n        </button>\\n\\n        \").concat(sellingPlanSelect(item), \"\\n\\n        \").concat(childBundleProducts.length === 0 ? '' : \"<div data-bundle-childen>\".concat(bundleChildrenDetails(item, childBundleProducts), \"</div>\"), \"\\n      </div>\\n    </cart-item>\\n  \");\n};\nvar cartItemTemplateEmpty = function cartItemTemplateEmpty(item, childBundleProducts) {\n  return \"\\n    <cart-item class=\\\"cart-item hide\\\"\\n      data-cart-item\\n      data-cart-item-empty\\n      data-key=\\\"\".concat(item.key, \"\\\"\\n      data-id=\\\"\").concat(item.id, \"\\\"\\n      data-product-id=\\\"\").concat(item.product_id, \"\\\"\\n    >\\n    </cart-item>\\n  \");\n};\nvar cartItemPrice = function cartItemPrice(finalLinePrice) {\n  var originalLinePrice = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return originalLinePrice > finalLinePrice ? \"\".concat(Shopify.formatMoney(finalLinePrice), \" <s>\").concat(Shopify.formatMoney(originalLinePrice), \"</s>\") : Shopify.formatMoney(finalLinePrice);\n};\nvar cartItemProperties = function cartItemProperties(item) {\n  if (typeof item.properties === 'undefined' || !item.properties || Object.keys(item.properties).length === 0) {\n    return '';\n  }\n\n  return \"\\n    <ul class=\\\"cart-item__properties p--small\\\">\\n      \".concat(Object.keys(item.properties).map(function (property) {\n    if (property.charAt(0) === '_') {\n      return '';\n    }\n\n    return \"<li>\".concat(property, \": \").concat(item.properties[property], \"</li>\");\n  }).join(''), \"\\n    </ul>\\n  \");\n};\nvar bundleChildrenPrice = function bundleChildrenPrice(item, bundleChildren) {\n  if (bundleChildren.length === 0) {\n    return '$0';\n  }\n\n  var finalBundleChildrenPrice = bundleChildren.reduce(function (prev, cur) {\n    return prev + cur.final_line_price;\n  }, 0);\n  return Shopify.formatMoney(finalBundleChildrenPrice);\n};\nvar bundleChildrenDetails = function bundleChildrenDetails(item, bundleChildren) {\n  if (bundleChildren.length === 0) {\n    return '';\n  }\n\n  return \"\\n    <details class=\\\"cart-item__bundle-children\\\" data-bundle-details>\\n      <summary>\\n        <span>\\n          \".concat(window.theme.icons.plus, \"\\n          \").concat(window.theme.icons.minus, \"\\n          \").concat(window.theme.strings.bundledProducts, \"\\n        </span>\\n\\n        <span>\\n          \").concat(bundleChildrenPrice(item, bundleChildren), \"\\n        </span>\\n      </summary>\\n\\n      <ul>\\n        \").concat(bundleChildren.map(function (childItem) {\n    return \"\\n            <li>\\n              <span>\\n                \".concat(childItem.product_title, \"\\n                \").concat(!childItem.variant_title ? '' : \"<br> <span class=\\\"p--small\\\">\".concat(childItem.variant_title, \"</span>\"), \"\\n              </span>\\n\\n              <span>\\n                \").concat(cartItemPrice(childItem.final_line_price), \"\\n              </span>\\n            </li>\\n          \");\n  }).join(''), \"\\n      </ul>\\n    </detials>\\n  \");\n};\nvar sellingPlanSelect = function sellingPlanSelect(item) {\n  try {\n    var _item$properties6, _item$selling_plan_al, _item$selling_plan_al2;\n\n    var planOptionsString = (_item$properties6 = item.properties) === null || _item$properties6 === void 0 ? void 0 : _item$properties6._selling_plan_options;\n\n    if (typeof planOptionsString === 'undefined' || !planOptionsString) {\n      return '';\n    }\n\n    var planOptions = JSON.parse(planOptionsString.replace(/`/g, '\"'));\n    var sellingPlanCurrent = (_item$selling_plan_al = item.selling_plan_allocation) === null || _item$selling_plan_al === void 0 ? void 0 : (_item$selling_plan_al2 = _item$selling_plan_al.selling_plan) === null || _item$selling_plan_al2 === void 0 ? void 0 : _item$selling_plan_al2.id;\n\n    if (!planOptions || planOptions.length === 0) {\n      return '';\n    }\n\n    return \"\\n      <dropdown-select class=\\\"cart-item__selling-plan-select\\\">\\n        <select data-selling-plan-select>\\n          <option\\n            value\\n            \".concat(!sellingPlanCurrent ? 'selected' : '', \"\\n          >\\n            \").concat(window.theme.strings.sellingPlanSingle, \"\\n          </option>\\n          \").concat(planOptions.map(function (option) {\n      return \"\\n              <option\\n                value=\\\"\".concat(option.sellingPlan.id.split('SellingPlan/')[1], \"\\\"\\n                \").concat(option.sellingPlan.id.split('SellingPlan/')[1] === (sellingPlanCurrent === null || sellingPlanCurrent === void 0 ? void 0 : sellingPlanCurrent.toString()) && sellingPlanCurrent ? 'selected' : '', \"\\n              >\\n                \").concat(option.sellingPlan.name, \"\\n              </option>\\n            \");\n    }).join(''), \"\\n        </select>\\n      </dropdown-select>\\n    \");\n  } catch (err) {\n    console.error(err);\n    return '';\n  }\n};\nvar quantitySelectorTemplate = function quantitySelectorTemplate(item) {\n  var _item$properties7, _item$properties8;\n\n  return \"\\n    <quantity-selector>\\n      <div class=\\\"cart-item__quantity-selector quantity-selector\\\">\\n        <button class=\\\"quantity-selector__btn\\\" type=\\\"button\\\"\\n          data-quantity-button\\n          data-action=\\\"minus\\\"\\n          aria-label=\\\"Minus \".concat(item.title.replace(/\"/g, '&quot;'), \" Quantity\\\"\\n        >\").concat(window.theme.icons.qtyMinus, \"</button>\\n\\n        <input class=\\\"quantity-selector__input\\\" type=\\\"number\\\" name=\\\"quantity\\\"\\n          data-quantity-input\\n          min=\\\"0\\\"\\n          \").concat(typeof ((_item$properties7 = item.properties) === null || _item$properties7 === void 0 ? void 0 : _item$properties7._inventory_quantity) !== 'undefined' && ((_item$properties8 = item.properties) === null || _item$properties8 === void 0 ? void 0 : _item$properties8._inventory_quantity) !== null ? \"max=\\\"\".concat(parseInt(item.properties._inventory_quantity, 10), \"\\\"\") : '', \"\\n          value=\\\"\").concat(item.quantity, \"\\\"\\n          aria-label=\\\"\").concat(item.title.replace(/\"/g, '&quot;'), \" Quantity Input\\\"\\n        >\\n\\n        <button class=\\\"quantity-selector__btn \\\" type=\\\"button\\\"\\n          data-quantity-button\\n          data-action=\\\"plus\\\"\\n          aria-label=\\\"Plus \").concat(item.title.replace(/\"/g, '&quot;'), \" Quantity\\\"\\n        >\").concat(window.theme.icons.qtyPlus, \"</button>\\n      </div>\\n\\n      <span class=\\\"quantity-selector-notice hide\\\"\\n        data-quantity-limit-notice\\n        data-text=\\\"\").concat(window.theme.strings.productLimitReached, \"\\\"\\n      >\").concat(window.theme.strings.productLimitReached, \"</span>\\n    </quantity-selector>\\n  \");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jYXJ0L3RlbXBsYXRlcy9jYXJ0LWl0ZW1zLXRlbXBsYXRlcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2NhcnQvdGVtcGxhdGVzL2NhcnQtaXRlbXMtdGVtcGxhdGVzLmpzP2FlNDAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBjYXJ0SXRlbVRlbXBsYXRlID0gZnVuY3Rpb24gY2FydEl0ZW1UZW1wbGF0ZShpdGVtLCBjaGlsZEJ1bmRsZVByb2R1Y3RzLCBpc1NvZnRCdW5kbGVQcm9kdWN0KSB7XG4gIHZhciBfaXRlbSRwcm9wZXJ0aWVzLCBfaXRlbSRwcm9wZXJ0aWVzMiwgX2l0ZW0kcHJvcGVydGllczMsIF9pdGVtJHByb3BlcnRpZXM0LCBfaXRlbSRwcm9wZXJ0aWVzNTtcblxuICB2YXIgaXRlbVRpdGxlID0gaXNTb2Z0QnVuZGxlUHJvZHVjdCAmJiAoX2l0ZW0kcHJvcGVydGllcyA9IGl0ZW0ucHJvcGVydGllcykgIT09IG51bGwgJiYgX2l0ZW0kcHJvcGVydGllcyAhPT0gdm9pZCAwICYmIF9pdGVtJHByb3BlcnRpZXMuX3NvZnRfYnVuZGxlX3RpdGxlID8gKF9pdGVtJHByb3BlcnRpZXMyID0gaXRlbS5wcm9wZXJ0aWVzKSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9wZXJ0aWVzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvcGVydGllczIuX3NvZnRfYnVuZGxlX3RpdGxlIDogaXRlbS5wcm9kdWN0X3RpdGxlO1xuICB2YXIgaXRlbVVSTCA9IGlzU29mdEJ1bmRsZVByb2R1Y3QgJiYgKF9pdGVtJHByb3BlcnRpZXMzID0gaXRlbS5wcm9wZXJ0aWVzKSAhPT0gbnVsbCAmJiBfaXRlbSRwcm9wZXJ0aWVzMyAhPT0gdm9pZCAwICYmIF9pdGVtJHByb3BlcnRpZXMzLl9zb2Z0X2J1bmRsZV91cmwgPyAoX2l0ZW0kcHJvcGVydGllczQgPSBpdGVtLnByb3BlcnRpZXMpID09PSBudWxsIHx8IF9pdGVtJHByb3BlcnRpZXM0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9wZXJ0aWVzNC5fc29mdF9idW5kbGVfdXJsIDogaXRlbS51cmw7XG4gIHJldHVybiBcIlxcbiAgICA8Y2FydC1pdGVtIGNsYXNzPVxcXCJjYXJ0LWl0ZW0gXCIuY29uY2F0KGlzU29mdEJ1bmRsZVByb2R1Y3QgPyAnY2FydC1pdGVtLS1zb2Z0LWJ1bmRsZScgOiAnJywgXCJcXFwiXFxuICAgICAgZGF0YS1jYXJ0LWl0ZW1cXG4gICAgICBkYXRhLWtleT1cXFwiXCIpLmNvbmNhdChpdGVtLmtleSwgXCJcXFwiXFxuICAgICAgZGF0YS1pZD1cXFwiXCIpLmNvbmNhdChpdGVtLmlkLCBcIlxcXCJcXG4gICAgICBkYXRhLXByb2R1Y3QtaWQ9XFxcIlwiKS5jb25jYXQoaXRlbS5wcm9kdWN0X2lkLCBcIlxcXCJcXG4gICAgICBcIikuY29uY2F0KGlzU29mdEJ1bmRsZVByb2R1Y3QgPyAnZGF0YS1jYXJ0LWl0ZW0tc29mdC1idW5kbGUnIDogJycsIFwiXFxuICAgID5cXG4gICAgICA8YSBocmVmPVxcXCJcIikuY29uY2F0KGl0ZW1VUkwsIFwiXFxcIiBjbGFzcz1cXFwiY2FydC1pdGVtX19pbWFnZS1ob2xkZXJcXFwiPlxcbiAgICAgICAgXCIpLmNvbmNhdChpc1NvZnRCdW5kbGVQcm9kdWN0ICYmIChfaXRlbSRwcm9wZXJ0aWVzNSA9IGl0ZW0ucHJvcGVydGllcykgIT09IG51bGwgJiYgX2l0ZW0kcHJvcGVydGllczUgIT09IHZvaWQgMCAmJiBfaXRlbSRwcm9wZXJ0aWVzNS5fc29mdF9idW5kbGVfaW1hZ2UgPyBcIjxpbWcgc3JjPVxcXCJcIi5jb25jYXQoaXRlbS5wcm9wZXJ0aWVzLl9zb2Z0X2J1bmRsZV9pbWFnZSwgXCJcXFwiIHdpZHRoPVxcXCI4MDBcXFwiIGhlaWdodD1cXFwiODAwXFxcIiBsb2FkaW5nPVxcXCJsYXp5XFxcIiBhbHQ9XFxcIkltYWdlIG9mIFwiKS5jb25jYXQoaXRlbVRpdGxlLCBcIlxcXCI+XCIpIDogXCI8aW1nIHNyYz1cXFwiXCIuY29uY2F0KFNob3BpZnkuSW1hZ2UuZ2V0U2l6ZWRJbWFnZVVybChpdGVtLmltYWdlIHx8IGl0ZW0uZmVhdHVyZWRfaW1hZ2UudXJsLCAnODAweCcpLCBcIlxcXCIgd2lkdGg9XFxcIjgwMFxcXCIgaGVpZ2h0PVxcXCI4MDBcXFwiIGxvYWRpbmc9XFxcImxhenlcXFwiIGFsdD1cXFwiSW1hZ2Ugb2YgXCIpLmNvbmNhdChpdGVtVGl0bGUsIFwiXFxcIj5cIiksIFwiXFxuICAgICAgPC9hPlxcblxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNhcnQtaXRlbV9faW5mby1ob2xkZXJcXFwiPlxcbiAgICAgICAgPGEgaHJlZj1cXFwiXCIpLmNvbmNhdChpdGVtVVJMLCBcIlxcXCIgY2xhc3M9XFxcImNhcnQtaXRlbV9fbGlua1xcXCI+XFxuICAgICAgICAgIDxoNCBjbGFzcz1cXFwiY2FydC1pdGVtX190aXRsZSBoZWFkaW5nLTVcXFwiPlwiKS5jb25jYXQoaXRlbVRpdGxlLCBcIjwvaDQ+XFxuICAgICAgICA8L2E+XFxuXFxuICAgICAgICBcIikuY29uY2F0KCFpdGVtLnZhcmlhbnRfdGl0bGUgfHwgaXNTb2Z0QnVuZGxlUHJvZHVjdCA/ICcnIDogXCI8cCBjbGFzcz1cXFwiY2FydC1pdGVtX192YXJpYW50LXRpdGxlXFxcIj5cIi5jb25jYXQoaXRlbS52YXJpYW50X3RpdGxlLCBcIjwvcD5cIiksIFwiXFxuICAgICAgICBcIikuY29uY2F0KGNhcnRJdGVtUHJvcGVydGllcyhpdGVtKSwgXCJcXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNhcnQtaXRlbV9fcXVhbnRpdHktYW5kLXByaWNlXFxcIj5cXG4gICAgICAgICAgPHAgY2xhc3M9XFxcImNhcnQtaXRlbV9fcHJpY2VcXFwiIGRhdGEtcHJpY2U+XFxuICAgICAgICAgICAgXCIpLmNvbmNhdChpc1NvZnRCdW5kbGVQcm9kdWN0ID8gYnVuZGxlQ2hpbGRyZW5QcmljZShpdGVtLCBjaGlsZEJ1bmRsZVByb2R1Y3RzKSA6IGNhcnRJdGVtUHJpY2UoaXRlbS5maW5hbF9saW5lX3ByaWNlLCBpdGVtLm9yaWdpbmFsX2xpbmVfcHJpY2UpLCBcIlxcbiAgICAgICAgICA8L3A+XFxuICAgICAgICAgIFwiKS5jb25jYXQocXVhbnRpdHlTZWxlY3RvclRlbXBsYXRlKGl0ZW0pLCBcIlxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJjYXJ0LWl0ZW1fX3JlbW92ZVxcXCIgZGF0YS1yZW1vdmUtY2FydC1pdGVtIGFyaWEtbGFiZWw9XFxcIlJlbW92ZSBcIikuY29uY2F0KGl0ZW1UaXRsZSwgXCIgZnJvbSBjYXJ0XFxcIj5cXG4gICAgICAgICAgXCIpLmNvbmNhdCh3aW5kb3cudGhlbWUuaWNvbnMudHJhc2gsIFwiXFxuICAgICAgICA8L2J1dHRvbj5cXG5cXG4gICAgICAgIFwiKS5jb25jYXQoc2VsbGluZ1BsYW5TZWxlY3QoaXRlbSksIFwiXFxuXFxuICAgICAgICBcIikuY29uY2F0KGNoaWxkQnVuZGxlUHJvZHVjdHMubGVuZ3RoID09PSAwID8gJycgOiBcIjxkaXYgZGF0YS1idW5kbGUtY2hpbGRlbj5cIi5jb25jYXQoYnVuZGxlQ2hpbGRyZW5EZXRhaWxzKGl0ZW0sIGNoaWxkQnVuZGxlUHJvZHVjdHMpLCBcIjwvZGl2PlwiKSwgXCJcXG4gICAgICA8L2Rpdj5cXG4gICAgPC9jYXJ0LWl0ZW0+XFxuICBcIik7XG59O1xuZXhwb3J0IHZhciBjYXJ0SXRlbVRlbXBsYXRlRW1wdHkgPSBmdW5jdGlvbiBjYXJ0SXRlbVRlbXBsYXRlRW1wdHkoaXRlbSwgY2hpbGRCdW5kbGVQcm9kdWN0cykge1xuICByZXR1cm4gXCJcXG4gICAgPGNhcnQtaXRlbSBjbGFzcz1cXFwiY2FydC1pdGVtIGhpZGVcXFwiXFxuICAgICAgZGF0YS1jYXJ0LWl0ZW1cXG4gICAgICBkYXRhLWNhcnQtaXRlbS1lbXB0eVxcbiAgICAgIGRhdGEta2V5PVxcXCJcIi5jb25jYXQoaXRlbS5rZXksIFwiXFxcIlxcbiAgICAgIGRhdGEtaWQ9XFxcIlwiKS5jb25jYXQoaXRlbS5pZCwgXCJcXFwiXFxuICAgICAgZGF0YS1wcm9kdWN0LWlkPVxcXCJcIikuY29uY2F0KGl0ZW0ucHJvZHVjdF9pZCwgXCJcXFwiXFxuICAgID5cXG4gICAgPC9jYXJ0LWl0ZW0+XFxuICBcIik7XG59O1xuZXhwb3J0IHZhciBjYXJ0SXRlbVByaWNlID0gZnVuY3Rpb24gY2FydEl0ZW1QcmljZShmaW5hbExpbmVQcmljZSkge1xuICB2YXIgb3JpZ2luYWxMaW5lUHJpY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gIHJldHVybiBvcmlnaW5hbExpbmVQcmljZSA+IGZpbmFsTGluZVByaWNlID8gXCJcIi5jb25jYXQoU2hvcGlmeS5mb3JtYXRNb25leShmaW5hbExpbmVQcmljZSksIFwiIDxzPlwiKS5jb25jYXQoU2hvcGlmeS5mb3JtYXRNb25leShvcmlnaW5hbExpbmVQcmljZSksIFwiPC9zPlwiKSA6IFNob3BpZnkuZm9ybWF0TW9uZXkoZmluYWxMaW5lUHJpY2UpO1xufTtcbmV4cG9ydCB2YXIgY2FydEl0ZW1Qcm9wZXJ0aWVzID0gZnVuY3Rpb24gY2FydEl0ZW1Qcm9wZXJ0aWVzKGl0ZW0pIHtcbiAgaWYgKHR5cGVvZiBpdGVtLnByb3BlcnRpZXMgPT09ICd1bmRlZmluZWQnIHx8ICFpdGVtLnByb3BlcnRpZXMgfHwgT2JqZWN0LmtleXMoaXRlbS5wcm9wZXJ0aWVzKS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICByZXR1cm4gXCJcXG4gICAgPHVsIGNsYXNzPVxcXCJjYXJ0LWl0ZW1fX3Byb3BlcnRpZXMgcC0tc21hbGxcXFwiPlxcbiAgICAgIFwiLmNvbmNhdChPYmplY3Qua2V5cyhpdGVtLnByb3BlcnRpZXMpLm1hcChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICBpZiAocHJvcGVydHkuY2hhckF0KDApID09PSAnXycpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICByZXR1cm4gXCI8bGk+XCIuY29uY2F0KHByb3BlcnR5LCBcIjogXCIpLmNvbmNhdChpdGVtLnByb3BlcnRpZXNbcHJvcGVydHldLCBcIjwvbGk+XCIpO1xuICB9KS5qb2luKCcnKSwgXCJcXG4gICAgPC91bD5cXG4gIFwiKTtcbn07XG5leHBvcnQgdmFyIGJ1bmRsZUNoaWxkcmVuUHJpY2UgPSBmdW5jdGlvbiBidW5kbGVDaGlsZHJlblByaWNlKGl0ZW0sIGJ1bmRsZUNoaWxkcmVuKSB7XG4gIGlmIChidW5kbGVDaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJyQwJztcbiAgfVxuXG4gIHZhciBmaW5hbEJ1bmRsZUNoaWxkcmVuUHJpY2UgPSBidW5kbGVDaGlsZHJlbi5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cikge1xuICAgIHJldHVybiBwcmV2ICsgY3VyLmZpbmFsX2xpbmVfcHJpY2U7XG4gIH0sIDApO1xuICByZXR1cm4gU2hvcGlmeS5mb3JtYXRNb25leShmaW5hbEJ1bmRsZUNoaWxkcmVuUHJpY2UpO1xufTtcbmV4cG9ydCB2YXIgYnVuZGxlQ2hpbGRyZW5EZXRhaWxzID0gZnVuY3Rpb24gYnVuZGxlQ2hpbGRyZW5EZXRhaWxzKGl0ZW0sIGJ1bmRsZUNoaWxkcmVuKSB7XG4gIGlmIChidW5kbGVDaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICByZXR1cm4gXCJcXG4gICAgPGRldGFpbHMgY2xhc3M9XFxcImNhcnQtaXRlbV9fYnVuZGxlLWNoaWxkcmVuXFxcIiBkYXRhLWJ1bmRsZS1kZXRhaWxzPlxcbiAgICAgIDxzdW1tYXJ5PlxcbiAgICAgICAgPHNwYW4+XFxuICAgICAgICAgIFwiLmNvbmNhdCh3aW5kb3cudGhlbWUuaWNvbnMucGx1cywgXCJcXG4gICAgICAgICAgXCIpLmNvbmNhdCh3aW5kb3cudGhlbWUuaWNvbnMubWludXMsIFwiXFxuICAgICAgICAgIFwiKS5jb25jYXQod2luZG93LnRoZW1lLnN0cmluZ3MuYnVuZGxlZFByb2R1Y3RzLCBcIlxcbiAgICAgICAgPC9zcGFuPlxcblxcbiAgICAgICAgPHNwYW4+XFxuICAgICAgICAgIFwiKS5jb25jYXQoYnVuZGxlQ2hpbGRyZW5QcmljZShpdGVtLCBidW5kbGVDaGlsZHJlbiksIFwiXFxuICAgICAgICA8L3NwYW4+XFxuICAgICAgPC9zdW1tYXJ5PlxcblxcbiAgICAgIDx1bD5cXG4gICAgICAgIFwiKS5jb25jYXQoYnVuZGxlQ2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjaGlsZEl0ZW0pIHtcbiAgICByZXR1cm4gXCJcXG4gICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICA8c3Bhbj5cXG4gICAgICAgICAgICAgICAgXCIuY29uY2F0KGNoaWxkSXRlbS5wcm9kdWN0X3RpdGxlLCBcIlxcbiAgICAgICAgICAgICAgICBcIikuY29uY2F0KCFjaGlsZEl0ZW0udmFyaWFudF90aXRsZSA/ICcnIDogXCI8YnI+IDxzcGFuIGNsYXNzPVxcXCJwLS1zbWFsbFxcXCI+XCIuY29uY2F0KGNoaWxkSXRlbS52YXJpYW50X3RpdGxlLCBcIjwvc3Bhbj5cIiksIFwiXFxuICAgICAgICAgICAgICA8L3NwYW4+XFxuXFxuICAgICAgICAgICAgICA8c3Bhbj5cXG4gICAgICAgICAgICAgICAgXCIpLmNvbmNhdChjYXJ0SXRlbVByaWNlKGNoaWxkSXRlbS5maW5hbF9saW5lX3ByaWNlKSwgXCJcXG4gICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICBcIik7XG4gIH0pLmpvaW4oJycpLCBcIlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGV0aWFscz5cXG4gIFwiKTtcbn07XG5leHBvcnQgdmFyIHNlbGxpbmdQbGFuU2VsZWN0ID0gZnVuY3Rpb24gc2VsbGluZ1BsYW5TZWxlY3QoaXRlbSkge1xuICB0cnkge1xuICAgIHZhciBfaXRlbSRwcm9wZXJ0aWVzNiwgX2l0ZW0kc2VsbGluZ19wbGFuX2FsLCBfaXRlbSRzZWxsaW5nX3BsYW5fYWwyO1xuXG4gICAgdmFyIHBsYW5PcHRpb25zU3RyaW5nID0gKF9pdGVtJHByb3BlcnRpZXM2ID0gaXRlbS5wcm9wZXJ0aWVzKSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9wZXJ0aWVzNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvcGVydGllczYuX3NlbGxpbmdfcGxhbl9vcHRpb25zO1xuXG4gICAgaWYgKHR5cGVvZiBwbGFuT3B0aW9uc1N0cmluZyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXBsYW5PcHRpb25zU3RyaW5nKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdmFyIHBsYW5PcHRpb25zID0gSlNPTi5wYXJzZShwbGFuT3B0aW9uc1N0cmluZy5yZXBsYWNlKC9gL2csICdcIicpKTtcbiAgICB2YXIgc2VsbGluZ1BsYW5DdXJyZW50ID0gKF9pdGVtJHNlbGxpbmdfcGxhbl9hbCA9IGl0ZW0uc2VsbGluZ19wbGFuX2FsbG9jYXRpb24pID09PSBudWxsIHx8IF9pdGVtJHNlbGxpbmdfcGxhbl9hbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9pdGVtJHNlbGxpbmdfcGxhbl9hbDIgPSBfaXRlbSRzZWxsaW5nX3BsYW5fYWwuc2VsbGluZ19wbGFuKSA9PT0gbnVsbCB8fCBfaXRlbSRzZWxsaW5nX3BsYW5fYWwyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRzZWxsaW5nX3BsYW5fYWwyLmlkO1xuXG4gICAgaWYgKCFwbGFuT3B0aW9ucyB8fCBwbGFuT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICByZXR1cm4gXCJcXG4gICAgICA8ZHJvcGRvd24tc2VsZWN0IGNsYXNzPVxcXCJjYXJ0LWl0ZW1fX3NlbGxpbmctcGxhbi1zZWxlY3RcXFwiPlxcbiAgICAgICAgPHNlbGVjdCBkYXRhLXNlbGxpbmctcGxhbi1zZWxlY3Q+XFxuICAgICAgICAgIDxvcHRpb25cXG4gICAgICAgICAgICB2YWx1ZVxcbiAgICAgICAgICAgIFwiLmNvbmNhdCghc2VsbGluZ1BsYW5DdXJyZW50ID8gJ3NlbGVjdGVkJyA6ICcnLCBcIlxcbiAgICAgICAgICA+XFxuICAgICAgICAgICAgXCIpLmNvbmNhdCh3aW5kb3cudGhlbWUuc3RyaW5ncy5zZWxsaW5nUGxhblNpbmdsZSwgXCJcXG4gICAgICAgICAgPC9vcHRpb24+XFxuICAgICAgICAgIFwiKS5jb25jYXQocGxhbk9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgPG9wdGlvblxcbiAgICAgICAgICAgICAgICB2YWx1ZT1cXFwiXCIuY29uY2F0KG9wdGlvbi5zZWxsaW5nUGxhbi5pZC5zcGxpdCgnU2VsbGluZ1BsYW4vJylbMV0sIFwiXFxcIlxcbiAgICAgICAgICAgICAgICBcIikuY29uY2F0KG9wdGlvbi5zZWxsaW5nUGxhbi5pZC5zcGxpdCgnU2VsbGluZ1BsYW4vJylbMV0gPT09IChzZWxsaW5nUGxhbkN1cnJlbnQgPT09IG51bGwgfHwgc2VsbGluZ1BsYW5DdXJyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxsaW5nUGxhbkN1cnJlbnQudG9TdHJpbmcoKSkgJiYgc2VsbGluZ1BsYW5DdXJyZW50ID8gJ3NlbGVjdGVkJyA6ICcnLCBcIlxcbiAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICBcIikuY29uY2F0KG9wdGlvbi5zZWxsaW5nUGxhbi5uYW1lLCBcIlxcbiAgICAgICAgICAgICAgPC9vcHRpb24+XFxuICAgICAgICAgICAgXCIpO1xuICAgIH0pLmpvaW4oJycpLCBcIlxcbiAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgPC9kcm9wZG93bi1zZWxlY3Q+XFxuICAgIFwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIHJldHVybiAnJztcbiAgfVxufTtcbmV4cG9ydCB2YXIgcXVhbnRpdHlTZWxlY3RvclRlbXBsYXRlID0gZnVuY3Rpb24gcXVhbnRpdHlTZWxlY3RvclRlbXBsYXRlKGl0ZW0pIHtcbiAgdmFyIF9pdGVtJHByb3BlcnRpZXM3LCBfaXRlbSRwcm9wZXJ0aWVzODtcblxuICByZXR1cm4gXCJcXG4gICAgPHF1YW50aXR5LXNlbGVjdG9yPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNhcnQtaXRlbV9fcXVhbnRpdHktc2VsZWN0b3IgcXVhbnRpdHktc2VsZWN0b3JcXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwicXVhbnRpdHktc2VsZWN0b3JfX2J0blxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIlxcbiAgICAgICAgICBkYXRhLXF1YW50aXR5LWJ1dHRvblxcbiAgICAgICAgICBkYXRhLWFjdGlvbj1cXFwibWludXNcXFwiXFxuICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIk1pbnVzIFwiLmNvbmNhdChpdGVtLnRpdGxlLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKSwgXCIgUXVhbnRpdHlcXFwiXFxuICAgICAgICA+XCIpLmNvbmNhdCh3aW5kb3cudGhlbWUuaWNvbnMucXR5TWludXMsIFwiPC9idXR0b24+XFxuXFxuICAgICAgICA8aW5wdXQgY2xhc3M9XFxcInF1YW50aXR5LXNlbGVjdG9yX19pbnB1dFxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBuYW1lPVxcXCJxdWFudGl0eVxcXCJcXG4gICAgICAgICAgZGF0YS1xdWFudGl0eS1pbnB1dFxcbiAgICAgICAgICBtaW49XFxcIjBcXFwiXFxuICAgICAgICAgIFwiKS5jb25jYXQodHlwZW9mICgoX2l0ZW0kcHJvcGVydGllczcgPSBpdGVtLnByb3BlcnRpZXMpID09PSBudWxsIHx8IF9pdGVtJHByb3BlcnRpZXM3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9wZXJ0aWVzNy5faW52ZW50b3J5X3F1YW50aXR5KSAhPT0gJ3VuZGVmaW5lZCcgJiYgKChfaXRlbSRwcm9wZXJ0aWVzOCA9IGl0ZW0ucHJvcGVydGllcykgPT09IG51bGwgfHwgX2l0ZW0kcHJvcGVydGllczggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb3BlcnRpZXM4Ll9pbnZlbnRvcnlfcXVhbnRpdHkpICE9PSBudWxsID8gXCJtYXg9XFxcIlwiLmNvbmNhdChwYXJzZUludChpdGVtLnByb3BlcnRpZXMuX2ludmVudG9yeV9xdWFudGl0eSwgMTApLCBcIlxcXCJcIikgOiAnJywgXCJcXG4gICAgICAgICAgdmFsdWU9XFxcIlwiKS5jb25jYXQoaXRlbS5xdWFudGl0eSwgXCJcXFwiXFxuICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIlwiKS5jb25jYXQoaXRlbS50aXRsZS5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JyksIFwiIFF1YW50aXR5IElucHV0XFxcIlxcbiAgICAgICAgPlxcblxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwicXVhbnRpdHktc2VsZWN0b3JfX2J0biBcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCJcXG4gICAgICAgICAgZGF0YS1xdWFudGl0eS1idXR0b25cXG4gICAgICAgICAgZGF0YS1hY3Rpb249XFxcInBsdXNcXFwiXFxuICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIlBsdXMgXCIpLmNvbmNhdChpdGVtLnRpdGxlLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKSwgXCIgUXVhbnRpdHlcXFwiXFxuICAgICAgICA+XCIpLmNvbmNhdCh3aW5kb3cudGhlbWUuaWNvbnMucXR5UGx1cywgXCI8L2J1dHRvbj5cXG4gICAgICA8L2Rpdj5cXG5cXG4gICAgICA8c3BhbiBjbGFzcz1cXFwicXVhbnRpdHktc2VsZWN0b3Itbm90aWNlIGhpZGVcXFwiXFxuICAgICAgICBkYXRhLXF1YW50aXR5LWxpbWl0LW5vdGljZVxcbiAgICAgICAgZGF0YS10ZXh0PVxcXCJcIikuY29uY2F0KHdpbmRvdy50aGVtZS5zdHJpbmdzLnByb2R1Y3RMaW1pdFJlYWNoZWQsIFwiXFxcIlxcbiAgICAgID5cIikuY29uY2F0KHdpbmRvdy50aGVtZS5zdHJpbmdzLnByb2R1Y3RMaW1pdFJlYWNoZWQsIFwiPC9zcGFuPlxcbiAgICA8L3F1YW50aXR5LXNlbGVjdG9yPlxcbiAgXCIpO1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/cart/templates/cart-items-templates.js\n");

/***/ }),

/***/ "./src/scripts/components/dropdown-select.js":
/*!***************************************************!*\
  !*** ./src/scripts/components/dropdown-select.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n(function () {\n  if (typeof window.customElements.get('dropdown-select') !== 'undefined') {\n    return;\n  }\n\n  window.customElements.define('dropdown-select', /*#__PURE__*/function (_HTMLElement) {\n    _inherits(DropdownSelect, _HTMLElement);\n\n    var _super = _createSuper(DropdownSelect);\n\n    // eslint-disable-line\n    function DropdownSelect() {\n      var _this;\n\n      _classCallCheck(this, DropdownSelect);\n\n      _this = _super.call(this);\n      _this.select = _this.querySelector('select');\n      _this.toggle = null;\n      _this.prevValue = _this.querySelector('select').value || null;\n      _this.listBox = null;\n      _this.options = [];\n      _this.isOpen = false;\n      _this.searchString = '';\n      _this.stringTimeout = null;\n      _this.lastSearchString = '';\n      _this.lastSearchIndex = null;\n\n      if (!_this.select) {\n        return _possibleConstructorReturn(_this);\n      }\n\n      _this.buildDropdown();\n\n      return _this;\n    }\n\n    _createClass(DropdownSelect, [{\n      key: \"buildDropdown\",\n      value: function buildDropdown() {\n        var _this2 = this;\n\n        this.classList.add('dropdown-select');\n        var stamp = new Date().getTime();\n        this.innerHTML = \"\\n        <div\\n          aria-haspopup=\\\"listbox\\\"\\n          aria-label=\\\"\".concat(this.select.getAttribute('aria-label') || this.select.name, \"\\\"\\n          aria-controls=\\\"listbox__\").concat(stamp, \"\\\"\\n          \").concat(this.getLabelledByAttribute(stamp), \"\\\"\\n          aria-expanded=\\\"false\\\"\\n          role=\\\"button\\\"\\n          tabindex=\\\"0\\\"\\n        ></div>\\n        <ul\\n          role=\\\"listbox\\\"\\n          \").concat(this.getLabelledByAttribute(stamp), \"\\\"\\n          aria-activedescendant=\\\"\").concat(this.select.value, \"\\\"\\n          tabindex=\\\"-1\\\"\\n          aria-hidden=\\\"true\\\"\\n        >\\n          \").concat(Array.from(this.querySelectorAll('option')).map(function (opt, index) {\n          return \"\\n                <li\\n                  data-value=\\\"\".concat(opt.value, \"\\\"\\n                  data-index=\\\"\").concat(index, \"\\\"\\n                  \").concat(opt.disabled ? 'data-disabled' : '', \"\\n                  aria-selected=\\\"\").concat(opt.value === _this2.select.value, \"\\\"\\n                  role=\\\"option\\\"\\n                >\\n                  \").concat(opt.text, \"\\n                </li>\\n              \");\n        }).join(''), \"\\n        </ul>\\n      \");\n        this.options = _toConsumableArray(this.querySelectorAll('[data-value]'));\n        this.options.forEach(function (opt) {\n          return _this2.optionEvents(opt);\n        });\n        this.toggle = this.querySelector('[role=\"button\"]');\n        this.listBox = this.querySelector('[role=\"listbox\"]');\n        this.toggle.append(this.select);\n        this.select.setAttribute('tabindex', -1);\n        this.mainEvents();\n      }\n    }, {\n      key: \"mainEvents\",\n      value: function mainEvents() {\n        var _this3 = this;\n\n        this.select.addEventListener('change', function (event) {\n          _this3.setChosen();\n        });\n        this.toggle.addEventListener('mousedown', function (event) {\n          if (_this3.hasAttribute('open')) {\n            _this3.closeDropdown(event, false);\n          } else {\n            _this3.openDropdown(event);\n          }\n        });\n        window.addEventListener('click', function (event) {\n          if (_this3.contains(event.target) || !_this3.hasAttribute('open')) {\n            return;\n          }\n\n          _this3.closeDropdown(event, true);\n        });\n        window.addEventListener('keydown', function (event) {\n          switch (event.key) {\n            case 'Escape':\n              _this3.closeDropdown(event, true);\n\n              break;\n\n            case 'ArrowUp':\n              if (_this3.hasAttribute('open')) {\n                _this3.shiftOption(event, -1);\n              } else if (_this3.contains(event.target)) {\n                _this3.openDropdown(event);\n\n                _this3.focusOption(event, 'first');\n              }\n\n              break;\n\n            case 'ArrowDown':\n              if (_this3.hasAttribute('open')) {\n                _this3.shiftOption(event, 1);\n              } else if (_this3.contains(event.target)) {\n                _this3.openDropdown(event);\n\n                _this3.focusOption(event, 'last');\n              }\n\n              break;\n\n            case 'Home':\n              if (_this3.hasAttribute('open') && _this3.contains(event.target)) {\n                _this3.focusOption(event, 'first');\n              }\n\n              break;\n\n            case 'End':\n              if (_this3.hasAttribute('open') && _this3.contains(event.target)) {\n                _this3.focusOption(event, 'last');\n              }\n\n              break;\n\n            case 'Enter':\n            case ' ':\n              if (_this3.hasAttribute('open')) {\n                _this3.closeDropdown(event, false);\n              } else if (_this3.contains(document.activeElement)) {\n                _this3.openDropdown(event);\n              }\n\n              break;\n\n            case 'Tab':\n              if (_this3.contains(document.activeElement) && _this3.hasAttribute('open')) {\n                _this3.closeDropdown(event, true);\n              }\n\n              break;\n\n            default:\n              _this3.stringSearch(event.key);\n\n              break;\n          }\n        });\n      }\n    }, {\n      key: \"optionEvents\",\n      value: function optionEvents(option) {\n        var _this4 = this;\n\n        option.addEventListener('click', function (event) {\n          _this4.optionValueChange(option);\n\n          _this4.removeAttribute('open');\n\n          _this4.prevValue = _this4.select.value;\n\n          _this4.select.dispatchEvent(new Event('change', {\n            bubbles: true\n          }));\n        });\n      }\n    }, {\n      key: \"openDropdown\",\n      value: function openDropdown(event) {\n        var _this5 = this;\n\n        event.preventDefault();\n        this.prevValue = this.select.value;\n        this.isOpen = true;\n        this.toggle.setAttribute('aria-expanded', true);\n        this.listBox.setAttribute('aria-hidden', false);\n        this.setAttribute('open', '');\n        setTimeout(function () {\n          return _this5.listBox.focus();\n        }, 0);\n        this.setChosen();\n      }\n    }, {\n      key: \"closeDropdown\",\n      value: function closeDropdown(event) {\n        var prevSet = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if (event.key !== 'Tab') {\n          event.preventDefault();\n          this.toggle.focus();\n        }\n\n        this.toggle.setAttribute('aria-expanded', false);\n        this.listBox.setAttribute('aria-hidden', true);\n        this.removeAttribute('open');\n        this.isOpen = false;\n        this.setChosen();\n\n        if (prevSet) {\n          this.select.value = this.prevValue;\n        } else {\n          this.prevValue = this.select.value;\n          this.select.dispatchEvent(new Event('change', {\n            bubbles: true\n          }));\n        }\n      }\n    }, {\n      key: \"shiftOption\",\n      value: function shiftOption(event, move) {\n        var _this6 = this;\n\n        event.preventDefault();\n\n        var validOptions = _toConsumableArray(this.select.options).filter(function (opt, index) {\n          return !opt.disabled && (move === -1 && index < _this6.select.selectedIndex || move === 1 && index > _this6.select.selectedIndex);\n        });\n\n        if (validOptions.length === 0) {\n          return;\n        }\n\n        var newIndex = move === 1 ? validOptions[0] : validOptions[validOptions.length - 1];\n        this.select.value = this.select.options[_toConsumableArray(this.select.options).indexOf(newIndex)].value;\n        this.setChosen();\n      }\n    }, {\n      key: \"focusOption\",\n      value: function focusOption(event, firstOrLast) {\n        event.preventDefault();\n        this.setAttribute('open', '');\n\n        var validOptions = _toConsumableArray(this.select.options).filter(function (opt) {\n          return !opt.disabled;\n        });\n\n        if (validOptions.length === 0) {\n          return;\n        }\n\n        var newIndex = firstOrLast === 'first' ? validOptions[0] : validOptions[validOptions.length - 1];\n        this.select.value = this.select.options[_toConsumableArray(this.select.options).indexOf(newIndex)].value;\n        this.setChosen();\n      }\n    }, {\n      key: \"optionValueChange\",\n      value: function optionValueChange(option) {\n        this.select.value = option.getAttribute('data-value');\n        this.setChosen();\n      }\n    }, {\n      key: \"setChosen\",\n      value: function setChosen() {\n        var _this7 = this;\n\n        if (this.isOpen === false) {\n          return;\n        }\n\n        this.options.forEach(function (opt) {\n          opt.setAttribute('aria-selected', opt.getAttribute('data-value') === _this7.select.value);\n        });\n        var selOpt = this.options.find(function (opt) {\n          return opt.getAttribute('aria-selected') === 'true';\n        });\n\n        if (typeof selOpt === 'undefined') {\n          return;\n        }\n\n        selOpt.scrollIntoView({\n          block: 'nearest',\n          inline: 'nearest'\n        });\n        this.toggle.setAttribute('aria-label', this.select.options[this.select.selectedIndex].innerText);\n        this.listBox.setAttribute('aria-activedescendant', this.select.value);\n      }\n    }, {\n      key: \"stringSearch\",\n      value: function stringSearch(key) {\n        var _this8 = this;\n\n        if (!(key !== null && key !== void 0 && key.match(/[a-z]|[0-9]/)) || !this.hasAttribute('open')) {\n          return;\n        }\n\n        this.searchString += key;\n\n        if (this.stringTimeout) {\n          clearTimeout(this.stringTimeout);\n        }\n\n        this.stringTimeout = setTimeout(function () {\n          _this8.searchForStringOption(_this8.searchString);\n\n          _this8.searchString = '';\n          _this8.stringTimeout = null;\n        }, 500);\n      }\n    }, {\n      key: \"searchForStringOption\",\n      value: function searchForStringOption(string) {\n        var foundOptions = this.options.filter(function (opt, index) {\n          return opt.innerText.toLowerCase().indexOf(string) === 0 && !opt.hasAttribute('data-disabled');\n        });\n\n        if (foundOptions.length === 0) {\n          return;\n        }\n\n        var foundIndex = this.lastSearchIndex === null || this.lastSearchString !== string || this.lastSearchIndex + 1 >= foundOptions.length ? 0 : this.lastSearchIndex + 1;\n        var foundOption = foundOptions[foundIndex];\n        this.lastSearchIndex = foundIndex;\n        this.lastSearchString = string;\n        this.select.value = this.select.options[this.options.indexOf(foundOption)].value;\n        this.setChosen();\n      }\n    }, {\n      key: \"getLabelledByAttribute\",\n      value: function getLabelledByAttribute(stamp) {\n        var label = document.querySelector(\"[for=\\\"\".concat(this.select.id, \"\\\"\"));\n\n        if (!label) {\n          return '';\n        }\n\n        label.setAttribute('tabindex', -1);\n        label.classList.add('no-click');\n        label.id = \"dropdown-select__\".concat(stamp);\n        return \"aria-labelledby=\\\"\".concat(label.id, \"\\\"\");\n      }\n    }]);\n\n    return DropdownSelect;\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2Ryb3Bkb3duLXNlbGVjdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvZHJvcGRvd24tc2VsZWN0LmpzP2U3OTYiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7IF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7IGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHsgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7IF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpOyB9IGZ1bmN0aW9uIFdyYXBwZXIoKSB7IHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7IH0gV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogV3JhcHBlciwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7IH07IHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTsgfVxuXG5mdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgeyBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7IH0gZWxzZSB7IF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgdmFyIGEgPSBbbnVsbF07IGEucHVzaC5hcHBseShhLCBhcmdzKTsgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsIGEpOyB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTsgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7IHJldHVybiBpbnN0YW5jZTsgfTsgfSByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikgeyByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuKGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZ2V0KCdkcm9wZG93bi1zZWxlY3QnKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdkcm9wZG93bi1zZWxlY3QnLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9IVE1MRWxlbWVudCkge1xuICAgIF9pbmhlcml0cyhEcm9wZG93blNlbGVjdCwgX0hUTUxFbGVtZW50KTtcblxuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoRHJvcGRvd25TZWxlY3QpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZ1bmN0aW9uIERyb3Bkb3duU2VsZWN0KCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRHJvcGRvd25TZWxlY3QpO1xuXG4gICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgX3RoaXMuc2VsZWN0ID0gX3RoaXMucXVlcnlTZWxlY3Rvcignc2VsZWN0Jyk7XG4gICAgICBfdGhpcy50b2dnbGUgPSBudWxsO1xuICAgICAgX3RoaXMucHJldlZhbHVlID0gX3RoaXMucXVlcnlTZWxlY3Rvcignc2VsZWN0JykudmFsdWUgfHwgbnVsbDtcbiAgICAgIF90aGlzLmxpc3RCb3ggPSBudWxsO1xuICAgICAgX3RoaXMub3B0aW9ucyA9IFtdO1xuICAgICAgX3RoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICBfdGhpcy5zZWFyY2hTdHJpbmcgPSAnJztcbiAgICAgIF90aGlzLnN0cmluZ1RpbWVvdXQgPSBudWxsO1xuICAgICAgX3RoaXMubGFzdFNlYXJjaFN0cmluZyA9ICcnO1xuICAgICAgX3RoaXMubGFzdFNlYXJjaEluZGV4ID0gbnVsbDtcblxuICAgICAgaWYgKCFfdGhpcy5zZWxlY3QpIHtcbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuYnVpbGREcm9wZG93bigpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKERyb3Bkb3duU2VsZWN0LCBbe1xuICAgICAga2V5OiBcImJ1aWxkRHJvcGRvd25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZERyb3Bkb3duKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2Ryb3Bkb3duLXNlbGVjdCcpO1xuICAgICAgICB2YXIgc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBcIlxcbiAgICAgICAgPGRpdlxcbiAgICAgICAgICBhcmlhLWhhc3BvcHVwPVxcXCJsaXN0Ym94XFxcIlxcbiAgICAgICAgICBhcmlhLWxhYmVsPVxcXCJcIi5jb25jYXQodGhpcy5zZWxlY3QuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykgfHwgdGhpcy5zZWxlY3QubmFtZSwgXCJcXFwiXFxuICAgICAgICAgIGFyaWEtY29udHJvbHM9XFxcImxpc3Rib3hfX1wiKS5jb25jYXQoc3RhbXAsIFwiXFxcIlxcbiAgICAgICAgICBcIikuY29uY2F0KHRoaXMuZ2V0TGFiZWxsZWRCeUF0dHJpYnV0ZShzdGFtcCksIFwiXFxcIlxcbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVxcXCJmYWxzZVxcXCJcXG4gICAgICAgICAgcm9sZT1cXFwiYnV0dG9uXFxcIlxcbiAgICAgICAgICB0YWJpbmRleD1cXFwiMFxcXCJcXG4gICAgICAgID48L2Rpdj5cXG4gICAgICAgIDx1bFxcbiAgICAgICAgICByb2xlPVxcXCJsaXN0Ym94XFxcIlxcbiAgICAgICAgICBcIikuY29uY2F0KHRoaXMuZ2V0TGFiZWxsZWRCeUF0dHJpYnV0ZShzdGFtcCksIFwiXFxcIlxcbiAgICAgICAgICBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcIlwiKS5jb25jYXQodGhpcy5zZWxlY3QudmFsdWUsIFwiXFxcIlxcbiAgICAgICAgICB0YWJpbmRleD1cXFwiLTFcXFwiXFxuICAgICAgICAgIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIlxcbiAgICAgICAgPlxcbiAgICAgICAgICBcIikuY29uY2F0KEFycmF5LmZyb20odGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdvcHRpb24nKSkubWFwKGZ1bmN0aW9uIChvcHQsIGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgICAgIDxsaVxcbiAgICAgICAgICAgICAgICAgIGRhdGEtdmFsdWU9XFxcIlwiLmNvbmNhdChvcHQudmFsdWUsIFwiXFxcIlxcbiAgICAgICAgICAgICAgICAgIGRhdGEtaW5kZXg9XFxcIlwiKS5jb25jYXQoaW5kZXgsIFwiXFxcIlxcbiAgICAgICAgICAgICAgICAgIFwiKS5jb25jYXQob3B0LmRpc2FibGVkID8gJ2RhdGEtZGlzYWJsZWQnIDogJycsIFwiXFxuICAgICAgICAgICAgICAgICAgYXJpYS1zZWxlY3RlZD1cXFwiXCIpLmNvbmNhdChvcHQudmFsdWUgPT09IF90aGlzMi5zZWxlY3QudmFsdWUsIFwiXFxcIlxcbiAgICAgICAgICAgICAgICAgIHJvbGU9XFxcIm9wdGlvblxcXCJcXG4gICAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICAgIFwiKS5jb25jYXQob3B0LnRleHQsIFwiXFxuICAgICAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgICBcIik7XG4gICAgICAgIH0pLmpvaW4oJycpLCBcIlxcbiAgICAgICAgPC91bD5cXG4gICAgICBcIik7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXZhbHVlXScpKTtcbiAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKG9wdCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIub3B0aW9uRXZlbnRzKG9wdCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRvZ2dsZSA9IHRoaXMucXVlcnlTZWxlY3RvcignW3JvbGU9XCJidXR0b25cIl0nKTtcbiAgICAgICAgdGhpcy5saXN0Qm94ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbcm9sZT1cImxpc3Rib3hcIl0nKTtcbiAgICAgICAgdGhpcy50b2dnbGUuYXBwZW5kKHRoaXMuc2VsZWN0KTtcbiAgICAgICAgdGhpcy5zZWxlY3Quc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIC0xKTtcbiAgICAgICAgdGhpcy5tYWluRXZlbnRzKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm1haW5FdmVudHNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtYWluRXZlbnRzKCkge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICB0aGlzLnNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBfdGhpczMuc2V0Q2hvc2VuKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoX3RoaXMzLmhhc0F0dHJpYnV0ZSgnb3BlbicpKSB7XG4gICAgICAgICAgICBfdGhpczMuY2xvc2VEcm9wZG93bihldmVudCwgZmFsc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpczMub3BlbkRyb3Bkb3duKGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoX3RoaXMzLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHwgIV90aGlzMy5oYXNBdHRyaWJ1dGUoJ29wZW4nKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzMy5jbG9zZURyb3Bkb3duKGV2ZW50LCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ0VzY2FwZSc6XG4gICAgICAgICAgICAgIF90aGlzMy5jbG9zZURyb3Bkb3duKGV2ZW50LCB0cnVlKTtcblxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgICAgIGlmIChfdGhpczMuaGFzQXR0cmlidXRlKCdvcGVuJykpIHtcbiAgICAgICAgICAgICAgICBfdGhpczMuc2hpZnRPcHRpb24oZXZlbnQsIC0xKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczMuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIF90aGlzMy5vcGVuRHJvcGRvd24oZXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMzLmZvY3VzT3B0aW9uKGV2ZW50LCAnZmlyc3QnKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgICAgICBpZiAoX3RoaXMzLmhhc0F0dHJpYnV0ZSgnb3BlbicpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnNoaWZ0T3B0aW9uKGV2ZW50LCAxKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczMuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIF90aGlzMy5vcGVuRHJvcGRvd24oZXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMzLmZvY3VzT3B0aW9uKGV2ZW50LCAnbGFzdCcpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ0hvbWUnOlxuICAgICAgICAgICAgICBpZiAoX3RoaXMzLmhhc0F0dHJpYnV0ZSgnb3BlbicpICYmIF90aGlzMy5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMzLmZvY3VzT3B0aW9uKGV2ZW50LCAnZmlyc3QnKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdFbmQnOlxuICAgICAgICAgICAgICBpZiAoX3RoaXMzLmhhc0F0dHJpYnV0ZSgnb3BlbicpICYmIF90aGlzMy5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMzLmZvY3VzT3B0aW9uKGV2ZW50LCAnbGFzdCcpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICBpZiAoX3RoaXMzLmhhc0F0dHJpYnV0ZSgnb3BlbicpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMzLmNsb3NlRHJvcGRvd24oZXZlbnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczMuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpczMub3BlbkRyb3Bkb3duKGV2ZW50KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdUYWInOlxuICAgICAgICAgICAgICBpZiAoX3RoaXMzLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpICYmIF90aGlzMy5oYXNBdHRyaWJ1dGUoJ29wZW4nKSkge1xuICAgICAgICAgICAgICAgIF90aGlzMy5jbG9zZURyb3Bkb3duKGV2ZW50LCB0cnVlKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBfdGhpczMuc3RyaW5nU2VhcmNoKGV2ZW50LmtleSk7XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwib3B0aW9uRXZlbnRzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb3B0aW9uRXZlbnRzKG9wdGlvbikge1xuICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICBvcHRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBfdGhpczQub3B0aW9uVmFsdWVDaGFuZ2Uob3B0aW9uKTtcblxuICAgICAgICAgIF90aGlzNC5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKTtcblxuICAgICAgICAgIF90aGlzNC5wcmV2VmFsdWUgPSBfdGhpczQuc2VsZWN0LnZhbHVlO1xuXG4gICAgICAgICAgX3RoaXM0LnNlbGVjdC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJywge1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm9wZW5Ecm9wZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5Ecm9wZG93bihldmVudCkge1xuICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnByZXZWYWx1ZSA9IHRoaXMuc2VsZWN0LnZhbHVlO1xuICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgICAgIHRoaXMudG9nZ2xlLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuICAgICAgICB0aGlzLmxpc3RCb3guc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ29wZW4nLCAnJyk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczUubGlzdEJveC5mb2N1cygpO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgdGhpcy5zZXRDaG9zZW4oKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VEcm9wZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlRHJvcGRvd24oZXZlbnQpIHtcbiAgICAgICAgdmFyIHByZXZTZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICAgIGlmIChldmVudC5rZXkgIT09ICdUYWInKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLnRvZ2dsZS5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b2dnbGUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuICAgICAgICB0aGlzLmxpc3RCb3guc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZSgnb3BlbicpO1xuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldENob3NlbigpO1xuXG4gICAgICAgIGlmIChwcmV2U2V0KSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3QudmFsdWUgPSB0aGlzLnByZXZWYWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnByZXZWYWx1ZSA9IHRoaXMuc2VsZWN0LnZhbHVlO1xuICAgICAgICAgIHRoaXMuc2VsZWN0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNoaWZ0T3B0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2hpZnRPcHRpb24oZXZlbnQsIG1vdmUpIHtcbiAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICB2YXIgdmFsaWRPcHRpb25zID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuc2VsZWN0Lm9wdGlvbnMpLmZpbHRlcihmdW5jdGlvbiAob3B0LCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiAhb3B0LmRpc2FibGVkICYmIChtb3ZlID09PSAtMSAmJiBpbmRleCA8IF90aGlzNi5zZWxlY3Quc2VsZWN0ZWRJbmRleCB8fCBtb3ZlID09PSAxICYmIGluZGV4ID4gX3RoaXM2LnNlbGVjdC5zZWxlY3RlZEluZGV4KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHZhbGlkT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmV3SW5kZXggPSBtb3ZlID09PSAxID8gdmFsaWRPcHRpb25zWzBdIDogdmFsaWRPcHRpb25zW3ZhbGlkT3B0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgdGhpcy5zZWxlY3QudmFsdWUgPSB0aGlzLnNlbGVjdC5vcHRpb25zW190b0NvbnN1bWFibGVBcnJheSh0aGlzLnNlbGVjdC5vcHRpb25zKS5pbmRleE9mKG5ld0luZGV4KV0udmFsdWU7XG4gICAgICAgIHRoaXMuc2V0Q2hvc2VuKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImZvY3VzT3B0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXNPcHRpb24oZXZlbnQsIGZpcnN0T3JMYXN0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdvcGVuJywgJycpO1xuXG4gICAgICAgIHZhciB2YWxpZE9wdGlvbnMgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5zZWxlY3Qub3B0aW9ucykuZmlsdGVyKGZ1bmN0aW9uIChvcHQpIHtcbiAgICAgICAgICByZXR1cm4gIW9wdC5kaXNhYmxlZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHZhbGlkT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmV3SW5kZXggPSBmaXJzdE9yTGFzdCA9PT0gJ2ZpcnN0JyA/IHZhbGlkT3B0aW9uc1swXSA6IHZhbGlkT3B0aW9uc1t2YWxpZE9wdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMuc2VsZWN0LnZhbHVlID0gdGhpcy5zZWxlY3Qub3B0aW9uc1tfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5zZWxlY3Qub3B0aW9ucykuaW5kZXhPZihuZXdJbmRleCldLnZhbHVlO1xuICAgICAgICB0aGlzLnNldENob3NlbigpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvcHRpb25WYWx1ZUNoYW5nZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9wdGlvblZhbHVlQ2hhbmdlKG9wdGlvbikge1xuICAgICAgICB0aGlzLnNlbGVjdC52YWx1ZSA9IG9wdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKTtcbiAgICAgICAgdGhpcy5zZXRDaG9zZW4oKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0Q2hvc2VuXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2hvc2VuKCkge1xuICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5pc09wZW4gPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKG9wdCkge1xuICAgICAgICAgIG9wdC5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBvcHQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJykgPT09IF90aGlzNy5zZWxlY3QudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHNlbE9wdCA9IHRoaXMub3B0aW9ucy5maW5kKGZ1bmN0aW9uIChvcHQpIHtcbiAgICAgICAgICByZXR1cm4gb3B0LmdldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcpID09PSAndHJ1ZSc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsT3B0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbE9wdC5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgYmxvY2s6ICduZWFyZXN0JyxcbiAgICAgICAgICBpbmxpbmU6ICduZWFyZXN0J1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50b2dnbGUuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgdGhpcy5zZWxlY3Qub3B0aW9uc1t0aGlzLnNlbGVjdC5zZWxlY3RlZEluZGV4XS5pbm5lclRleHQpO1xuICAgICAgICB0aGlzLmxpc3RCb3guc2V0QXR0cmlidXRlKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnLCB0aGlzLnNlbGVjdC52YWx1ZSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInN0cmluZ1NlYXJjaFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN0cmluZ1NlYXJjaChrZXkpIHtcbiAgICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCEoa2V5ICE9PSBudWxsICYmIGtleSAhPT0gdm9pZCAwICYmIGtleS5tYXRjaCgvW2Etel18WzAtOV0vKSkgfHwgIXRoaXMuaGFzQXR0cmlidXRlKCdvcGVuJykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNlYXJjaFN0cmluZyArPSBrZXk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RyaW5nVGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnN0cmluZ1RpbWVvdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdHJpbmdUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXM4LnNlYXJjaEZvclN0cmluZ09wdGlvbihfdGhpczguc2VhcmNoU3RyaW5nKTtcblxuICAgICAgICAgIF90aGlzOC5zZWFyY2hTdHJpbmcgPSAnJztcbiAgICAgICAgICBfdGhpczguc3RyaW5nVGltZW91dCA9IG51bGw7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNlYXJjaEZvclN0cmluZ09wdGlvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaEZvclN0cmluZ09wdGlvbihzdHJpbmcpIHtcbiAgICAgICAgdmFyIGZvdW5kT3B0aW9ucyA9IHRoaXMub3B0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG9wdCwgaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gb3B0LmlubmVyVGV4dC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc3RyaW5nKSA9PT0gMCAmJiAhb3B0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1kaXNhYmxlZCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZm91bmRPcHRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmb3VuZEluZGV4ID0gdGhpcy5sYXN0U2VhcmNoSW5kZXggPT09IG51bGwgfHwgdGhpcy5sYXN0U2VhcmNoU3RyaW5nICE9PSBzdHJpbmcgfHwgdGhpcy5sYXN0U2VhcmNoSW5kZXggKyAxID49IGZvdW5kT3B0aW9ucy5sZW5ndGggPyAwIDogdGhpcy5sYXN0U2VhcmNoSW5kZXggKyAxO1xuICAgICAgICB2YXIgZm91bmRPcHRpb24gPSBmb3VuZE9wdGlvbnNbZm91bmRJbmRleF07XG4gICAgICAgIHRoaXMubGFzdFNlYXJjaEluZGV4ID0gZm91bmRJbmRleDtcbiAgICAgICAgdGhpcy5sYXN0U2VhcmNoU3RyaW5nID0gc3RyaW5nO1xuICAgICAgICB0aGlzLnNlbGVjdC52YWx1ZSA9IHRoaXMuc2VsZWN0Lm9wdGlvbnNbdGhpcy5vcHRpb25zLmluZGV4T2YoZm91bmRPcHRpb24pXS52YWx1ZTtcbiAgICAgICAgdGhpcy5zZXRDaG9zZW4oKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0TGFiZWxsZWRCeUF0dHJpYnV0ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExhYmVsbGVkQnlBdHRyaWJ1dGUoc3RhbXApIHtcbiAgICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltmb3I9XFxcIlwiLmNvbmNhdCh0aGlzLnNlbGVjdC5pZCwgXCJcXFwiXCIpKTtcblxuICAgICAgICBpZiAoIWxhYmVsKSB7XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIC0xKTtcbiAgICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZCgnbm8tY2xpY2snKTtcbiAgICAgICAgbGFiZWwuaWQgPSBcImRyb3Bkb3duLXNlbGVjdF9fXCIuY29uY2F0KHN0YW1wKTtcbiAgICAgICAgcmV0dXJuIFwiYXJpYS1sYWJlbGxlZGJ5PVxcXCJcIi5jb25jYXQobGFiZWwuaWQsIFwiXFxcIlwiKTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRHJvcGRvd25TZWxlY3Q7XG4gIH0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEhUTUxFbGVtZW50KSkpO1xufSkoKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/components/dropdown-select.js\n");

/***/ }),

/***/ "./src/scripts/components/required-validation.js":
/*!*******************************************************!*\
  !*** ./src/scripts/components/required-validation.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*\n*\n*   To add form validation:\n*   - Give form [data-validation-required]\n*   - Wrap required field with [data-required-field-wrapper]\n*   - Give required field [data-required-field=\"value\"] with value set to the desired error message\n*   - Add a span inside the wrapper with the desired error icon/text to display on input (example: <span>&times;</span>)\n*\n*   Optional:\n*   - to add further validation (by default validation checks if field is empty)\n*     set [data-required-field=\"some-regex-here\"] on required field with desired regex validation\n*\n*/\nfunction requiredValidation() {\n  var forms = document.querySelectorAll('[data-validation-required]');\n\n  if (!forms.length) {\n    return;\n  }\n\n  forms.forEach(function (form) {\n    var requiredFields = form.querySelectorAll('[data-required-field]');\n    var submitButton = form.querySelector('button[type=\"submit\"]');\n\n    if (!submitButton) {\n      return;\n    }\n\n    submitButton.addEventListener('click', function (event) {\n      checkSubmitForm(form, requiredFields, event);\n    });\n    form.setAttribute('novalidate', 'novalidate');\n    form.addEventListener('submit', function (event) {\n      checkSubmitForm(form, requiredFields, event);\n    });\n  });\n}\n\nfunction checkSubmitForm(form, requiredFields, event) {\n  requiredFields.forEach(function (field) {\n    validate(field);\n    field.addEventListener('input', function () {\n      validate(field);\n    });\n  });\n\n  if (checkForErrors(requiredFields)) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n\nfunction validate(field) {\n  var pattern = field.getAttribute('data-required-field-pattern');\n  var errorMessage = field.getAttribute('data-required-field');\n\n  if (pattern) {\n    var regex = new RegExp(pattern);\n\n    if (field.value.length === 0) {\n      addErrorMessage(field, 'required field');\n    } else if (regex.test(field.value)) {\n      field.classList.remove('input-error');\n    } else {\n      addErrorMessage(field, errorMessage);\n    }\n  } else if (field.value.length > 0) {\n    field.classList.remove('input-error');\n  } else {\n    addErrorMessage(field, errorMessage);\n  }\n}\n\nfunction checkForErrors(fields) {\n  var errors = false;\n  fields.forEach(function (field) {\n    if (field.classList.contains('input-error')) {\n      errors = true;\n    }\n  });\n  return errors;\n}\n\nfunction addErrorMessage(field, errorMessage) {\n  field.classList.add('input-error');\n  field.nextElementSibling.setAttribute('data-after', errorMessage === '' ? 'required field' : errorMessage);\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  requiredValidation();\n});\ndocument.addEventListener('shopify:section:load', function () {\n  requiredValidation();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL3JlcXVpcmVkLXZhbGlkYXRpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL3JlcXVpcmVkLXZhbGlkYXRpb24uanM/NjUxMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuKlxuKiAgIFRvIGFkZCBmb3JtIHZhbGlkYXRpb246XG4qICAgLSBHaXZlIGZvcm0gW2RhdGEtdmFsaWRhdGlvbi1yZXF1aXJlZF1cbiogICAtIFdyYXAgcmVxdWlyZWQgZmllbGQgd2l0aCBbZGF0YS1yZXF1aXJlZC1maWVsZC13cmFwcGVyXVxuKiAgIC0gR2l2ZSByZXF1aXJlZCBmaWVsZCBbZGF0YS1yZXF1aXJlZC1maWVsZD1cInZhbHVlXCJdIHdpdGggdmFsdWUgc2V0IHRvIHRoZSBkZXNpcmVkIGVycm9yIG1lc3NhZ2VcbiogICAtIEFkZCBhIHNwYW4gaW5zaWRlIHRoZSB3cmFwcGVyIHdpdGggdGhlIGRlc2lyZWQgZXJyb3IgaWNvbi90ZXh0IHRvIGRpc3BsYXkgb24gaW5wdXQgKGV4YW1wbGU6IDxzcGFuPiZ0aW1lczs8L3NwYW4+KVxuKlxuKiAgIE9wdGlvbmFsOlxuKiAgIC0gdG8gYWRkIGZ1cnRoZXIgdmFsaWRhdGlvbiAoYnkgZGVmYXVsdCB2YWxpZGF0aW9uIGNoZWNrcyBpZiBmaWVsZCBpcyBlbXB0eSlcbiogICAgIHNldCBbZGF0YS1yZXF1aXJlZC1maWVsZD1cInNvbWUtcmVnZXgtaGVyZVwiXSBvbiByZXF1aXJlZCBmaWVsZCB3aXRoIGRlc2lyZWQgcmVnZXggdmFsaWRhdGlvblxuKlxuKi9cbmZ1bmN0aW9uIHJlcXVpcmVkVmFsaWRhdGlvbigpIHtcbiAgdmFyIGZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdmFsaWRhdGlvbi1yZXF1aXJlZF0nKTtcblxuICBpZiAoIWZvcm1zLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvcm1zLmZvckVhY2goZnVuY3Rpb24gKGZvcm0pIHtcbiAgICB2YXIgcmVxdWlyZWRGaWVsZHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXJlcXVpcmVkLWZpZWxkXScpO1xuICAgIHZhciBzdWJtaXRCdXR0b24gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XG5cbiAgICBpZiAoIXN1Ym1pdEJ1dHRvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgY2hlY2tTdWJtaXRGb3JtKGZvcm0sIHJlcXVpcmVkRmllbGRzLCBldmVudCk7XG4gICAgfSk7XG4gICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ25vdmFsaWRhdGUnLCAnbm92YWxpZGF0ZScpO1xuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBjaGVja1N1Ym1pdEZvcm0oZm9ybSwgcmVxdWlyZWRGaWVsZHMsIGV2ZW50KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrU3VibWl0Rm9ybShmb3JtLCByZXF1aXJlZEZpZWxkcywgZXZlbnQpIHtcbiAgcmVxdWlyZWRGaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICB2YWxpZGF0ZShmaWVsZCk7XG4gICAgZmllbGQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YWxpZGF0ZShmaWVsZCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGlmIChjaGVja0ZvckVycm9ycyhyZXF1aXJlZEZpZWxkcykpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKGZpZWxkKSB7XG4gIHZhciBwYXR0ZXJuID0gZmllbGQuZ2V0QXR0cmlidXRlKCdkYXRhLXJlcXVpcmVkLWZpZWxkLXBhdHRlcm4nKTtcbiAgdmFyIGVycm9yTWVzc2FnZSA9IGZpZWxkLmdldEF0dHJpYnV0ZSgnZGF0YS1yZXF1aXJlZC1maWVsZCcpO1xuXG4gIGlmIChwYXR0ZXJuKSB7XG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXR0ZXJuKTtcblxuICAgIGlmIChmaWVsZC52YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIGFkZEVycm9yTWVzc2FnZShmaWVsZCwgJ3JlcXVpcmVkIGZpZWxkJyk7XG4gICAgfSBlbHNlIGlmIChyZWdleC50ZXN0KGZpZWxkLnZhbHVlKSkge1xuICAgICAgZmllbGQuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtZXJyb3InKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWRkRXJyb3JNZXNzYWdlKGZpZWxkLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChmaWVsZC52YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgZmllbGQuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtZXJyb3InKTtcbiAgfSBlbHNlIHtcbiAgICBhZGRFcnJvck1lc3NhZ2UoZmllbGQsIGVycm9yTWVzc2FnZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JFcnJvcnMoZmllbGRzKSB7XG4gIHZhciBlcnJvcnMgPSBmYWxzZTtcbiAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXQtZXJyb3InKSkge1xuICAgICAgZXJyb3JzID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZXJyb3JzO1xufVxuXG5mdW5jdGlvbiBhZGRFcnJvck1lc3NhZ2UoZmllbGQsIGVycm9yTWVzc2FnZSkge1xuICBmaWVsZC5jbGFzc0xpc3QuYWRkKCdpbnB1dC1lcnJvcicpO1xuICBmaWVsZC5uZXh0RWxlbWVudFNpYmxpbmcuc2V0QXR0cmlidXRlKCdkYXRhLWFmdGVyJywgZXJyb3JNZXNzYWdlID09PSAnJyA/ICdyZXF1aXJlZCBmaWVsZCcgOiBlcnJvck1lc3NhZ2UpO1xufVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICByZXF1aXJlZFZhbGlkYXRpb24oKTtcbn0pO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2hvcGlmeTpzZWN0aW9uOmxvYWQnLCBmdW5jdGlvbiAoKSB7XG4gIHJlcXVpcmVkVmFsaWRhdGlvbigpO1xufSk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/components/required-validation.js\n");

/***/ }),

/***/ "./src/scripts/components/sr-speak.js":
/*!********************************************!*\
  !*** ./src/scripts/components/sr-speak.js ***!
  \********************************************/
/*! exports provided: srSpeak */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"srSpeak\", function() { return srSpeak; });\nfunction srSpeak(text) {\n  var priority = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'polite';\n  var el = document.createElement('div');\n  el.setAttribute('aria-live', priority);\n  el.classList.add('sr-only');\n  document.body.appendChild(el);\n  el.innerHTML = text;\n  setTimeout(function () {\n    el.remove();\n  }, 1000);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL3NyLXNwZWFrLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9zci1zcGVhay5qcz82ZTdkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBzclNwZWFrKHRleHQpIHtcbiAgdmFyIHByaW9yaXR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAncG9saXRlJztcbiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGVsLnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgcHJpb3JpdHkpO1xuICBlbC5jbGFzc0xpc3QuYWRkKCdzci1vbmx5Jyk7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuICBlbC5pbm5lckhUTUwgPSB0ZXh0O1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBlbC5yZW1vdmUoKTtcbiAgfSwgMTAwMCk7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/components/sr-speak.js\n");

/***/ }),

/***/ "./src/scripts/core/a11y.js":
/*!**********************************!*\
  !*** ./src/scripts/core/a11y.js ***!
  \**********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @shopify/theme-a11y */ \"./node_modules/@shopify/theme-a11y/theme-a11y.js\");\n\n\nfunction tabOutline() {\n  var siteBody = document.querySelector('[data-site-body]');\n  document.addEventListener('keydown', function (event) {\n    if (event.key !== 'Tab') {\n      return;\n    }\n\n    siteBody.classList.add('tab-outline');\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  Object(_shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_0__[\"focusHash\"])();\n  Object(_shopify_theme_a11y__WEBPACK_IMPORTED_MODULE_0__[\"bindInPageLinks\"])();\n  tabOutline();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL2ExMXkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL2ExMXkuanM/YjNhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb2N1c0hhc2gsIGJpbmRJblBhZ2VMaW5rcyB9IGZyb20gJ0BzaG9waWZ5L3RoZW1lLWExMXknO1xuXG5mdW5jdGlvbiB0YWJPdXRsaW5lKCkge1xuICB2YXIgc2l0ZUJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLWJvZHldJyk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ICE9PSAnVGFiJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNpdGVCb2R5LmNsYXNzTGlzdC5hZGQoJ3RhYi1vdXRsaW5lJyk7XG4gIH0pO1xufVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICBmb2N1c0hhc2goKTtcbiAgYmluZEluUGFnZUxpbmtzKCk7XG4gIHRhYk91dGxpbmUoKTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/a11y.js\n");

/***/ }),

/***/ "./src/scripts/core/custom-html-element.js":
/*!*************************************************!*\
  !*** ./src/scripts/core/custom-html-element.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n *\n * @param { string } customElemTag\n * @param { class extends HTMLElement } customElmClass\n * @returns customElmClass\n *\n  ----------------------------------------------------------------------\n  USAGE\n  ----------------------------------------------------------------------\n  newCustomElement('custom-element-tag', class extends HTMLElement {\n    constructor () {\n      super()\n      // Your Code Goes Here\n    }\n  })\n  */\nvar newCustomElement = function newCustomElement(customElemTag, customElmClass) {\n  if (typeof window.customElements.get(customElemTag) !== 'undefined') {\n    return null;\n  }\n\n  window.customElements.define(customElemTag, customElmClass);\n  return customElmClass;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (newCustomElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL2N1c3RvbS1odG1sLWVsZW1lbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL2N1c3RvbS1odG1sLWVsZW1lbnQuanM/ZjkxNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqXG4gKiBAcGFyYW0geyBzdHJpbmcgfSBjdXN0b21FbGVtVGFnXG4gKiBAcGFyYW0geyBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IH0gY3VzdG9tRWxtQ2xhc3NcbiAqIEByZXR1cm5zIGN1c3RvbUVsbUNsYXNzXG4gKlxuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIFVTQUdFXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgbmV3Q3VzdG9tRWxlbWVudCgnY3VzdG9tLWVsZW1lbnQtdGFnJywgY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgc3VwZXIoKVxuICAgICAgLy8gWW91ciBDb2RlIEdvZXMgSGVyZVxuICAgIH1cbiAgfSlcbiAgKi9cbnZhciBuZXdDdXN0b21FbGVtZW50ID0gZnVuY3Rpb24gbmV3Q3VzdG9tRWxlbWVudChjdXN0b21FbGVtVGFnLCBjdXN0b21FbG1DbGFzcykge1xuICBpZiAodHlwZW9mIHdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQoY3VzdG9tRWxlbVRhZykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKGN1c3RvbUVsZW1UYWcsIGN1c3RvbUVsbUNsYXNzKTtcbiAgcmV0dXJuIGN1c3RvbUVsbUNsYXNzO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbmV3Q3VzdG9tRWxlbWVudDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/custom-html-element.js\n");

/***/ }),

/***/ "./src/scripts/core/images.js":
/*!************************************!*\
  !*** ./src/scripts/core/images.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\ncustomElements.define(\"theme-image\", /*#__PURE__*/function (_HTMLElement) {\n  _inherits(ThemeImage, _HTMLElement);\n\n  var _super = _createSuper(ThemeImage);\n\n  // eslint-disable-line\n  function ThemeImage() {\n    var _this;\n\n    _classCallCheck(this, ThemeImage);\n\n    _this = _super.call(this);\n    _this.imgEl = _this.querySelector('img');\n    return _this;\n  }\n\n  _createClass(ThemeImage, [{\n    key: \"connectedCallback\",\n    value: function connectedCallback() {\n      if (this.imgEl.offsetWidth > 0) {\n        this.imgEl.setAttribute('sizes', \"\".concat(this.imgEl.offsetWidth, \"px\"));\n      }\n\n      if (!this.imgEl.hasAttribute('data-srcset')) {\n        return;\n      }\n\n      this.imgEl.setAttribute('srcset', this.imgEl.getAttribute('data-srcset'));\n      this.imgEl.removeAttribute('data-srcset');\n    }\n  }]);\n\n  return ThemeImage;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL2ltYWdlcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2NvcmUvaW1hZ2VzLmpzPzk2MGEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkOyBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzOyBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7IGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpOyBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTsgfSBmdW5jdGlvbiBXcmFwcGVyKCkgeyByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpOyB9OyByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0OyB9IGVsc2UgeyBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IHZhciBhID0gW251bGxdOyBhLnB1c2guYXBwbHkoYSwgYXJncyk7IHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTsgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7IGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpOyByZXR1cm4gaW5zdGFuY2U7IH07IH0gcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHsgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcInRoZW1lLWltYWdlXCIsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7XG4gIF9pbmhlcml0cyhUaGVtZUltYWdlLCBfSFRNTEVsZW1lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoVGhlbWVJbWFnZSk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBmdW5jdGlvbiBUaGVtZUltYWdlKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaGVtZUltYWdlKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgX3RoaXMuaW1nRWwgPSBfdGhpcy5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVGhlbWVJbWFnZSwgW3tcbiAgICBrZXk6IFwiY29ubmVjdGVkQ2FsbGJhY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICBpZiAodGhpcy5pbWdFbC5vZmZzZXRXaWR0aCA+IDApIHtcbiAgICAgICAgdGhpcy5pbWdFbC5zZXRBdHRyaWJ1dGUoJ3NpemVzJywgXCJcIi5jb25jYXQodGhpcy5pbWdFbC5vZmZzZXRXaWR0aCwgXCJweFwiKSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5pbWdFbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc3Jjc2V0JykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmltZ0VsLnNldEF0dHJpYnV0ZSgnc3Jjc2V0JywgdGhpcy5pbWdFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3Jjc2V0JykpO1xuICAgICAgdGhpcy5pbWdFbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc3Jjc2V0Jyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRoZW1lSW1hZ2U7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihIVE1MRWxlbWVudCkpKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/images.js\n");

/***/ }),

/***/ "./src/scripts/core/popup-elements.js":
/*!********************************************!*\
  !*** ./src/scripts/core/popup-elements.js ***!
  \********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @scripts/core/trap-focus */ \"./src/scripts/core/trap-focus.js\");\n/* harmony import */ var _scripts_core_custom_html_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @scripts/core/custom-html-element */ \"./src/scripts/core/custom-html-element.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar openPopupsEls = [];\n/*\n  Usage:\n  <popup-element class=\"cart-drawer\"\n    data-id=\"cart-drawer\"\n    data-is-quickview\n    role=\"dialog\"\n    inert\n    aria-modal=\"true\"\n    aria-labelledby=\"id-of-title-element\"\n  >\n    <h2 id=\"id-of-title-element\">Cart items</h2>\n  </popup-element>\n*/\n\nObject(_scripts_core_custom_html_element__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('popup-element', /*#__PURE__*/function (_HTMLElement) {\n  _inherits(_class, _HTMLElement);\n\n  var _super = _createSuper(_class);\n\n  function _class() {\n    var _this;\n\n    _classCallCheck(this, _class);\n\n    _this = _super.call(this);\n    _this.isOpen = false;\n    _this.id = _this.getAttribute('data-id');\n    _this.siteOverlay = document.querySelector('[data-site-overlay]');\n\n    _this.initPopupElement();\n\n    _this.quickviewModalInit();\n\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: \"initPopupElement\",\n    value: function initPopupElement() {\n      document.body.insertAdjacentElement('beforeend', this);\n    }\n  }, {\n    key: \"handleOpen\",\n    value: function handleOpen() {\n      this.siteOverlay.classList.add('active');\n      this.classList.add('active');\n      this.removeAttribute('inert');\n      _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].open(this);\n      this.checkVideo();\n      openPopupsEls.push(this);\n      this.updateSiteOverlayZindex();\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      var _this2 = this;\n\n      this.classList.remove('active');\n      this.setAttribute('inert', '');\n      _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].close();\n      var thisPopupIndex = openPopupsEls.findIndex(function (popup) {\n        return popup === _this2;\n      });\n      thisPopupIndex > -1 && openPopupsEls.splice(thisPopupIndex, 1);\n\n      if (!openPopupsEls.length) {\n        this.siteOverlay.classList.remove('active');\n      } else {\n        var previousOpenPopup = openPopupsEls[openPopupsEls.length - 1];\n        previousOpenPopup.updateSiteOverlayZindex();\n        _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].open(previousOpenPopup);\n      }\n    }\n  }, {\n    key: \"updateSiteOverlayZindex\",\n    value: function updateSiteOverlayZindex() {\n      var popupStyle = window.getComputedStyle(this);\n      var popupZindex = popupStyle.getPropertyValue('z-index');\n      this.siteOverlay.style.zIndex = popupZindex - 1;\n    }\n  }, {\n    key: \"checkVideo\",\n    value: function checkVideo(play) {\n      if (!this.hasAttribute('data-autoplay-video')) {\n        return;\n      }\n\n      var videos = this.querySelectorAll('video');\n\n      if (play === true) {\n        videos.forEach(function (video, index) {\n          video.currentTime = 0;\n\n          if (index !== 0) {\n            return;\n          }\n\n          video.play();\n        });\n      } else {\n        videos.forEach(function (video) {\n          video.pause();\n        });\n      }\n    }\n  }, {\n    key: \"quickviewModalInit\",\n    value: function quickviewModalInit() {\n      var _this3 = this;\n\n      if (!this.hasAttribute('data-is-quickview-modal')) {\n        return;\n      }\n\n      window.addEventListener('cartAPI', function (_ref) {\n        var cartData = _ref.detail.cartData;\n        _this3.open = false;\n      });\n    }\n  }, {\n    key: \"open\",\n    get: function get() {\n      return this.isOpen;\n    },\n    set: function set(isOpen) {\n      if (isOpen === true) {\n        this.handleOpen();\n      } else if (isOpen === false) {\n        this.handleClose();\n      }\n    }\n  }]);\n\n  return _class;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n/*\n  Usage:\n  <popup-toggle data-target=\"cart-drawer\" data-action=\"open\">\n    <button>Open Cart</button>\n  </popup-toggle>\n*/\n\nObject(_scripts_core_custom_html_element__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('popup-toggle', /*#__PURE__*/function (_HTMLElement2) {\n  _inherits(_class2, _HTMLElement2);\n\n  var _super2 = _createSuper(_class2);\n\n  function _class2() {\n    var _this4;\n\n    _classCallCheck(this, _class2);\n\n    _this4 = _super2.call(this);\n    _this4.action = _this4.getAttribute('data-action');\n    _this4.target = _this4.getAttribute('data-target');\n    _this4.targetEl = null;\n\n    _this4.initToggle();\n\n    return _this4;\n  }\n\n  _createClass(_class2, [{\n    key: \"initToggle\",\n    value: function initToggle() {\n      var _this5 = this;\n\n      this.targetEl = document.querySelector(\"popup-element[data-id=\\\"\".concat(this.target, \"\\\"]\"));\n\n      if (!this.targetEl) {\n        return;\n      }\n\n      this.addEventListener('click', function () {\n        _this5.targetEl.open = _this5.action === 'open';\n      });\n    }\n  }]);\n\n  return _class2;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\nvar siteOverlay = document.querySelector('[data-site-overlay]');\nsiteOverlay.addEventListener('click', closeCurrentPopupEl);\ndocument.addEventListener('keydown', function (event) {\n  if (event.key !== 'Escape') {\n    return;\n  }\n\n  closeCurrentPopupEl();\n});\n\nfunction closeCurrentPopupEl() {\n  var popupToClose = openPopupsEls[openPopupsEls.length - 1];\n\n  if (!popupToClose) {\n    return;\n  }\n\n  popupToClose.open = false;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL3BvcHVwLWVsZW1lbnRzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY29yZS9wb3B1cC1lbGVtZW50cy5qcz82NGU2Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9LCBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHsgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDsgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHsgaWYgKENsYXNzID09PSBudWxsIHx8ICFfaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzczsgaWYgKHR5cGVvZiBDbGFzcyAhPT0gXCJmdW5jdGlvblwiKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikgeyBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTsgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7IH0gZnVuY3Rpb24gV3JhcHBlcigpIHsgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTsgfSBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBXcmFwcGVyLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyByZXR1cm4gX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIENsYXNzKTsgfTsgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyBpZiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7IF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDsgfSBlbHNlIHsgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyB2YXIgYSA9IFtudWxsXTsgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpOyB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7IHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpOyBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTsgcmV0dXJuIGluc3RhbmNlOyB9OyB9IHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7IHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5pbXBvcnQgdHJhcEZvY3VzIGZyb20gJ0BzY3JpcHRzL2NvcmUvdHJhcC1mb2N1cyc7XG5pbXBvcnQgbmV3Q3VzdG9tRWxlbWVudCBmcm9tICdAc2NyaXB0cy9jb3JlL2N1c3RvbS1odG1sLWVsZW1lbnQnO1xudmFyIG9wZW5Qb3B1cHNFbHMgPSBbXTtcbi8qXG4gIFVzYWdlOlxuICA8cG9wdXAtZWxlbWVudCBjbGFzcz1cImNhcnQtZHJhd2VyXCJcbiAgICBkYXRhLWlkPVwiY2FydC1kcmF3ZXJcIlxuICAgIGRhdGEtaXMtcXVpY2t2aWV3XG4gICAgcm9sZT1cImRpYWxvZ1wiXG4gICAgaW5lcnRcbiAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiXG4gICAgYXJpYS1sYWJlbGxlZGJ5PVwiaWQtb2YtdGl0bGUtZWxlbWVudFwiXG4gID5cbiAgICA8aDIgaWQ9XCJpZC1vZi10aXRsZS1lbGVtZW50XCI+Q2FydCBpdGVtczwvaDI+XG4gIDwvcG9wdXAtZWxlbWVudD5cbiovXG5cbm5ld0N1c3RvbUVsZW1lbnQoJ3BvcHVwLWVsZW1lbnQnLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9IVE1MRWxlbWVudCkge1xuICBfaW5oZXJpdHMoX2NsYXNzLCBfSFRNTEVsZW1lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoX2NsYXNzKTtcblxuICBmdW5jdGlvbiBfY2xhc3MoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIF9jbGFzcyk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIF90aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIF90aGlzLmlkID0gX3RoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XG4gICAgX3RoaXMuc2l0ZU92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW92ZXJsYXldJyk7XG5cbiAgICBfdGhpcy5pbml0UG9wdXBFbGVtZW50KCk7XG5cbiAgICBfdGhpcy5xdWlja3ZpZXdNb2RhbEluaXQoKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhfY2xhc3MsIFt7XG4gICAga2V5OiBcImluaXRQb3B1cEVsZW1lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFBvcHVwRWxlbWVudCgpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmVlbmQnLCB0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlT3BlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVPcGVuKCkge1xuICAgICAgdGhpcy5zaXRlT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZSgnaW5lcnQnKTtcbiAgICAgIHRyYXBGb2N1cy5vcGVuKHRoaXMpO1xuICAgICAgdGhpcy5jaGVja1ZpZGVvKCk7XG4gICAgICBvcGVuUG9wdXBzRWxzLnB1c2godGhpcyk7XG4gICAgICB0aGlzLnVwZGF0ZVNpdGVPdmVybGF5WmluZGV4KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZUNsb3NlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnaW5lcnQnLCAnJyk7XG4gICAgICB0cmFwRm9jdXMuY2xvc2UoKTtcbiAgICAgIHZhciB0aGlzUG9wdXBJbmRleCA9IG9wZW5Qb3B1cHNFbHMuZmluZEluZGV4KGZ1bmN0aW9uIChwb3B1cCkge1xuICAgICAgICByZXR1cm4gcG9wdXAgPT09IF90aGlzMjtcbiAgICAgIH0pO1xuICAgICAgdGhpc1BvcHVwSW5kZXggPiAtMSAmJiBvcGVuUG9wdXBzRWxzLnNwbGljZSh0aGlzUG9wdXBJbmRleCwgMSk7XG5cbiAgICAgIGlmICghb3BlblBvcHVwc0Vscy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5zaXRlT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBwcmV2aW91c09wZW5Qb3B1cCA9IG9wZW5Qb3B1cHNFbHNbb3BlblBvcHVwc0Vscy5sZW5ndGggLSAxXTtcbiAgICAgICAgcHJldmlvdXNPcGVuUG9wdXAudXBkYXRlU2l0ZU92ZXJsYXlaaW5kZXgoKTtcbiAgICAgICAgdHJhcEZvY3VzLm9wZW4ocHJldmlvdXNPcGVuUG9wdXApO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVTaXRlT3ZlcmxheVppbmRleFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVTaXRlT3ZlcmxheVppbmRleCgpIHtcbiAgICAgIHZhciBwb3B1cFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcyk7XG4gICAgICB2YXIgcG9wdXBaaW5kZXggPSBwb3B1cFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3otaW5kZXgnKTtcbiAgICAgIHRoaXMuc2l0ZU92ZXJsYXkuc3R5bGUuekluZGV4ID0gcG9wdXBaaW5kZXggLSAxO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGVja1ZpZGVvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrVmlkZW8ocGxheSkge1xuICAgICAgaWYgKCF0aGlzLmhhc0F0dHJpYnV0ZSgnZGF0YS1hdXRvcGxheS12aWRlbycpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHZpZGVvcyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbCgndmlkZW8nKTtcblxuICAgICAgaWYgKHBsYXkgPT09IHRydWUpIHtcbiAgICAgICAgdmlkZW9zLmZvckVhY2goZnVuY3Rpb24gKHZpZGVvLCBpbmRleCkge1xuICAgICAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gMDtcblxuICAgICAgICAgIGlmIChpbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2aWRlb3MuZm9yRWFjaChmdW5jdGlvbiAodmlkZW8pIHtcbiAgICAgICAgICB2aWRlby5wYXVzZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicXVpY2t2aWV3TW9kYWxJbml0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHF1aWNrdmlld01vZGFsSW5pdCgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuaGFzQXR0cmlidXRlKCdkYXRhLWlzLXF1aWNrdmlldy1tb2RhbCcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NhcnRBUEknLCBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgY2FydERhdGEgPSBfcmVmLmRldGFpbC5jYXJ0RGF0YTtcbiAgICAgICAgX3RoaXMzLm9wZW4gPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvcGVuXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc09wZW47XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChpc09wZW4pIHtcbiAgICAgIGlmIChpc09wZW4gPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVPcGVuKCk7XG4gICAgICB9IGVsc2UgaWYgKGlzT3BlbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVDbG9zZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBfY2xhc3M7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihIVE1MRWxlbWVudCkpKTtcbi8qXG4gIFVzYWdlOlxuICA8cG9wdXAtdG9nZ2xlIGRhdGEtdGFyZ2V0PVwiY2FydC1kcmF3ZXJcIiBkYXRhLWFjdGlvbj1cIm9wZW5cIj5cbiAgICA8YnV0dG9uPk9wZW4gQ2FydDwvYnV0dG9uPlxuICA8L3BvcHVwLXRvZ2dsZT5cbiovXG5cbm5ld0N1c3RvbUVsZW1lbnQoJ3BvcHVwLXRvZ2dsZScsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50Mikge1xuICBfaW5oZXJpdHMoX2NsYXNzMiwgX0hUTUxFbGVtZW50Mik7XG5cbiAgdmFyIF9zdXBlcjIgPSBfY3JlYXRlU3VwZXIoX2NsYXNzMik7XG5cbiAgZnVuY3Rpb24gX2NsYXNzMigpIHtcbiAgICB2YXIgX3RoaXM0O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIF9jbGFzczIpO1xuXG4gICAgX3RoaXM0ID0gX3N1cGVyMi5jYWxsKHRoaXMpO1xuICAgIF90aGlzNC5hY3Rpb24gPSBfdGhpczQuZ2V0QXR0cmlidXRlKCdkYXRhLWFjdGlvbicpO1xuICAgIF90aGlzNC50YXJnZXQgPSBfdGhpczQuZ2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcpO1xuICAgIF90aGlzNC50YXJnZXRFbCA9IG51bGw7XG5cbiAgICBfdGhpczQuaW5pdFRvZ2dsZSgpO1xuXG4gICAgcmV0dXJuIF90aGlzNDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhfY2xhc3MyLCBbe1xuICAgIGtleTogXCJpbml0VG9nZ2xlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRUb2dnbGUoKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdGhpcy50YXJnZXRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJwb3B1cC1lbGVtZW50W2RhdGEtaWQ9XFxcIlwiLmNvbmNhdCh0aGlzLnRhcmdldCwgXCJcXFwiXVwiKSk7XG5cbiAgICAgIGlmICghdGhpcy50YXJnZXRFbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNS50YXJnZXRFbC5vcGVuID0gX3RoaXM1LmFjdGlvbiA9PT0gJ29wZW4nO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIF9jbGFzczI7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihIVE1MRWxlbWVudCkpKTtcbnZhciBzaXRlT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNpdGUtb3ZlcmxheV0nKTtcbnNpdGVPdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VDdXJyZW50UG9wdXBFbCk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGlmIChldmVudC5rZXkgIT09ICdFc2NhcGUnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY2xvc2VDdXJyZW50UG9wdXBFbCgpO1xufSk7XG5cbmZ1bmN0aW9uIGNsb3NlQ3VycmVudFBvcHVwRWwoKSB7XG4gIHZhciBwb3B1cFRvQ2xvc2UgPSBvcGVuUG9wdXBzRWxzW29wZW5Qb3B1cHNFbHMubGVuZ3RoIC0gMV07XG5cbiAgaWYgKCFwb3B1cFRvQ2xvc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwb3B1cFRvQ2xvc2Uub3BlbiA9IGZhbHNlO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/popup-elements.js\n");

/***/ }),

/***/ "./src/scripts/core/shopify.js":
/*!*************************************!*\
  !*** ./src/scripts/core/shopify.js ***!
  \*************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _shopify_theme_currency__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @shopify/theme-currency */ \"./node_modules/@shopify/theme-currency/currency.js\");\n// Shopify\n\nShopify.formatMoney = _shopify_theme_currency__WEBPACK_IMPORTED_MODULE_0__[\"formatMoney\"];\nShopify.Image = {\n  /**\n   * Preloads an image in memory and uses the browsers cache to store it until needed.\n   *\n   * @param {Array} images - A list of image urls\n   * @param {String} size - A shopify image size attribute\n   */\n  preload: function preload(images, size) {\n    if (typeof images === 'string') {\n      images = [images];\n    }\n\n    for (var i = 0; i < images.length; i++) {\n      var image = images[i];\n      this.loadImage(this.getSizedImageUrl(image, size));\n    }\n  },\n\n  /**\n   * Loads and caches an image in the browsers cache.\n   * @param {string} path - An image url\n   */\n  loadImage: function loadImage(path) {\n    new window.Image().src = path;\n  },\n\n  /**\n   * Find the Shopify image attribute size\n   *\n   * @param {string} src\n   * @returns {null}\n   */\n  imageSize: function imageSize(src) {\n    var match = src.match(/.+_((?:pico|icon|thumb|small|compact|medium|large|grande)|\\d{1,4}x\\d{0,4}|x\\d{1,4})[_.@]/);\n\n    if (match) {\n      return match[1];\n    } else {\n      return null;\n    }\n  },\n\n  /**\n   * Adds a Shopify size attribute to a URL\n   *\n   * @param src\n   * @param size\n   * @returns {*}\n   */\n  getSizedImageUrl: function getSizedImageUrl(src, size) {\n    if (size === null) {\n      return src;\n    }\n\n    if (size === 'master') {\n      return this.removeProtocol(src);\n    }\n\n    var match = src.match(/\\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif|webp)(\\?v=\\d+)?$/i);\n\n    if (match) {\n      var prefix = src.split(match[0]);\n      var suffix = match[0];\n      return this.removeProtocol(\"\".concat(prefix[0], \"_\").concat(size).concat(suffix));\n    } else {\n      return null;\n    }\n  },\n  removeProtocol: function removeProtocol(path) {\n    return path.replace(/http(s)?:/, '');\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL3Nob3BpZnkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL3Nob3BpZnkuanM/MTMyZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaG9waWZ5XG5pbXBvcnQgeyBmb3JtYXRNb25leSB9IGZyb20gJ0BzaG9waWZ5L3RoZW1lLWN1cnJlbmN5JztcblNob3BpZnkuZm9ybWF0TW9uZXkgPSBmb3JtYXRNb25leTtcblNob3BpZnkuSW1hZ2UgPSB7XG4gIC8qKlxuICAgKiBQcmVsb2FkcyBhbiBpbWFnZSBpbiBtZW1vcnkgYW5kIHVzZXMgdGhlIGJyb3dzZXJzIGNhY2hlIHRvIHN0b3JlIGl0IHVudGlsIG5lZWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gaW1hZ2VzIC0gQSBsaXN0IG9mIGltYWdlIHVybHNcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNpemUgLSBBIHNob3BpZnkgaW1hZ2Ugc2l6ZSBhdHRyaWJ1dGVcbiAgICovXG4gIHByZWxvYWQ6IGZ1bmN0aW9uIHByZWxvYWQoaW1hZ2VzLCBzaXplKSB7XG4gICAgaWYgKHR5cGVvZiBpbWFnZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpbWFnZXMgPSBbaW1hZ2VzXTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGltYWdlID0gaW1hZ2VzW2ldO1xuICAgICAgdGhpcy5sb2FkSW1hZ2UodGhpcy5nZXRTaXplZEltYWdlVXJsKGltYWdlLCBzaXplKSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBMb2FkcyBhbmQgY2FjaGVzIGFuIGltYWdlIGluIHRoZSBicm93c2VycyBjYWNoZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBBbiBpbWFnZSB1cmxcbiAgICovXG4gIGxvYWRJbWFnZTogZnVuY3Rpb24gbG9hZEltYWdlKHBhdGgpIHtcbiAgICBuZXcgd2luZG93LkltYWdlKCkuc3JjID0gcGF0aDtcbiAgfSxcblxuICAvKipcbiAgICogRmluZCB0aGUgU2hvcGlmeSBpbWFnZSBhdHRyaWJ1dGUgc2l6ZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjXG4gICAqIEByZXR1cm5zIHtudWxsfVxuICAgKi9cbiAgaW1hZ2VTaXplOiBmdW5jdGlvbiBpbWFnZVNpemUoc3JjKSB7XG4gICAgdmFyIG1hdGNoID0gc3JjLm1hdGNoKC8uK18oKD86cGljb3xpY29ufHRodW1ifHNtYWxsfGNvbXBhY3R8bWVkaXVtfGxhcmdlfGdyYW5kZSl8XFxkezEsNH14XFxkezAsNH18eFxcZHsxLDR9KVtfLkBdLyk7XG5cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIHJldHVybiBtYXRjaFsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBBZGRzIGEgU2hvcGlmeSBzaXplIGF0dHJpYnV0ZSB0byBhIFVSTFxuICAgKlxuICAgKiBAcGFyYW0gc3JjXG4gICAqIEBwYXJhbSBzaXplXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZ2V0U2l6ZWRJbWFnZVVybDogZnVuY3Rpb24gZ2V0U2l6ZWRJbWFnZVVybChzcmMsIHNpemUpIHtcbiAgICBpZiAoc2l6ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHNyYztcbiAgICB9XG5cbiAgICBpZiAoc2l6ZSA9PT0gJ21hc3RlcicpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbW92ZVByb3RvY29sKHNyYyk7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoID0gc3JjLm1hdGNoKC9cXC4oanBnfGpwZWd8Z2lmfHBuZ3xibXB8Yml0bWFwfHRpZmZ8dGlmfHdlYnApKFxcP3Y9XFxkKyk/JC9pKTtcblxuICAgIGlmIChtYXRjaCkge1xuICAgICAgdmFyIHByZWZpeCA9IHNyYy5zcGxpdChtYXRjaFswXSk7XG4gICAgICB2YXIgc3VmZml4ID0gbWF0Y2hbMF07XG4gICAgICByZXR1cm4gdGhpcy5yZW1vdmVQcm90b2NvbChcIlwiLmNvbmNhdChwcmVmaXhbMF0sIFwiX1wiKS5jb25jYXQoc2l6ZSkuY29uY2F0KHN1ZmZpeCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZVByb3RvY29sOiBmdW5jdGlvbiByZW1vdmVQcm90b2NvbChwYXRoKSB7XG4gICAgcmV0dXJuIHBhdGgucmVwbGFjZSgvaHR0cChzKT86LywgJycpO1xuICB9XG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/shopify.js\n");

/***/ }),

/***/ "./src/scripts/core/trap-focus.js":
/*!****************************************!*\
  !*** ./src/scripts/core/trap-focus.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar trapFocus = {\n  targetEl: null,\n  isOpen: false,\n  lastFocusedEl: null,\n  focusableEls: [],\n  open: function open(target) {\n    var _this = this;\n\n    if (this.isOpen === true) {\n      document.body.removeEventListener('focusin', checkIfFocusIsInTarget);\n    }\n\n    this.targetEl = target;\n    this.setFocusableEls();\n    this.lastFocusedEl = document.activeElement;\n    this.isOpen = true;\n    window.addEventListener('focusin', checkIfFocusIsInTarget);\n    setTimeout(function () {\n      _this.focusableEls[0].focus();\n    }, 50);\n  },\n  close: function close() {\n    var _this2 = this;\n\n    if (this.isOpen === false) {\n      return;\n    }\n\n    window.removeEventListener('focusin', checkIfFocusIsInTarget);\n    this.isOpen = false;\n    setTimeout(function () {\n      var _this2$lastFocusedEl;\n\n      (_this2$lastFocusedEl = _this2.lastFocusedEl) === null || _this2$lastFocusedEl === void 0 ? void 0 : _this2$lastFocusedEl.focus({\n        focusVisible: true\n      });\n    }, 500);\n  },\n  setFocusableEls: function setFocusableEls() {\n    this.focusableEls = _toConsumableArray(this.targetEl.querySelectorAll('a, button, input, textarea, select, summary, [tabindex]:not([tabindex=\"-1\"])')).filter(function (el) {\n      return !el.hasAttribute('disabled') && el.offsetParent !== null;\n    });\n  }\n};\n\nfunction checkIfFocusIsInTarget(event) {\n  if (trapFocus.targetEl && trapFocus.targetEl.contains(event.target)) {\n    return;\n  }\n\n  trapFocus.setFocusableEls();\n\n  if (event.relatedTarget === trapFocus.focusableEls[0]) {\n    trapFocus.focusableEls[trapFocus.focusableEls.length - 1].focus();\n  } else {\n    trapFocus.focusableEls[0].focus();\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (trapFocus);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL3RyYXAtZm9jdXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL3RyYXAtZm9jdXMuanM/Y2I3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbnZhciB0cmFwRm9jdXMgPSB7XG4gIHRhcmdldEVsOiBudWxsLFxuICBpc09wZW46IGZhbHNlLFxuICBsYXN0Rm9jdXNlZEVsOiBudWxsLFxuICBmb2N1c2FibGVFbHM6IFtdLFxuICBvcGVuOiBmdW5jdGlvbiBvcGVuKHRhcmdldCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5pc09wZW4gPT09IHRydWUpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIGNoZWNrSWZGb2N1c0lzSW5UYXJnZXQpO1xuICAgIH1cblxuICAgIHRoaXMudGFyZ2V0RWwgPSB0YXJnZXQ7XG4gICAgdGhpcy5zZXRGb2N1c2FibGVFbHMoKTtcbiAgICB0aGlzLmxhc3RGb2N1c2VkRWwgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIGNoZWNrSWZGb2N1c0lzSW5UYXJnZXQpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuZm9jdXNhYmxlRWxzWzBdLmZvY3VzKCk7XG4gICAgfSwgNTApO1xuICB9LFxuICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5pc09wZW4gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBjaGVja0lmRm9jdXNJc0luVGFyZ2V0KTtcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzMiRsYXN0Rm9jdXNlZEVsO1xuXG4gICAgICAoX3RoaXMyJGxhc3RGb2N1c2VkRWwgPSBfdGhpczIubGFzdEZvY3VzZWRFbCkgPT09IG51bGwgfHwgX3RoaXMyJGxhc3RGb2N1c2VkRWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMiRsYXN0Rm9jdXNlZEVsLmZvY3VzKHtcbiAgICAgICAgZm9jdXNWaXNpYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9LCA1MDApO1xuICB9LFxuICBzZXRGb2N1c2FibGVFbHM6IGZ1bmN0aW9uIHNldEZvY3VzYWJsZUVscygpIHtcbiAgICB0aGlzLmZvY3VzYWJsZUVscyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnRhcmdldEVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EsIGJ1dHRvbiwgaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QsIHN1bW1hcnksIFt0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKScpKS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICByZXR1cm4gIWVsLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiBlbC5vZmZzZXRQYXJlbnQgIT09IG51bGw7XG4gICAgfSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNoZWNrSWZGb2N1c0lzSW5UYXJnZXQoZXZlbnQpIHtcbiAgaWYgKHRyYXBGb2N1cy50YXJnZXRFbCAmJiB0cmFwRm9jdXMudGFyZ2V0RWwuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRyYXBGb2N1cy5zZXRGb2N1c2FibGVFbHMoKTtcblxuICBpZiAoZXZlbnQucmVsYXRlZFRhcmdldCA9PT0gdHJhcEZvY3VzLmZvY3VzYWJsZUVsc1swXSkge1xuICAgIHRyYXBGb2N1cy5mb2N1c2FibGVFbHNbdHJhcEZvY3VzLmZvY3VzYWJsZUVscy5sZW5ndGggLSAxXS5mb2N1cygpO1xuICB9IGVsc2Uge1xuICAgIHRyYXBGb2N1cy5mb2N1c2FibGVFbHNbMF0uZm9jdXMoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB0cmFwRm9jdXM7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/trap-focus.js\n");

/***/ }),

/***/ "./src/scripts/quicksearch/quicksearch.js":
/*!************************************************!*\
  !*** ./src/scripts/quicksearch/quicksearch.js ***!
  \************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @scripts/core/trap-focus */ \"./src/scripts/core/trap-focus.js\");\n/* harmony import */ var _scripts_core_custom_html_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @scripts/core/custom-html-element */ \"./src/scripts/core/custom-html-element.js\");\n/* harmony import */ var _scripts_quicksearch_templates_results_templates__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @scripts/quicksearch/templates/results-templates */ \"./src/scripts/quicksearch/templates/results-templates.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nObject(_scripts_core_custom_html_element__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('quick-search', /*#__PURE__*/function (_HTMLElement) {\n  _inherits(_class, _HTMLElement);\n\n  var _super = _createSuper(_class);\n\n  function _class() {\n    var _this;\n\n    _classCallCheck(this, _class);\n\n    _this = _super.call(this);\n    _this.searchForm = _this.querySelector('form');\n    _this.searchInput = _this.querySelector('input[name=\"q\"]');\n\n    if (!_this.searchForm || !_this.searchInput) {\n      return _possibleConstructorReturn(_this);\n    }\n\n    _this.resultsContainer = _this.initResults();\n    _this.showResults = false;\n\n    _this.initSearchInput();\n\n    _this.accessabilityEvents();\n\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: \"showResults\",\n    get: function get() {\n      return this._resultsAreVisiable;\n    },\n    set: function set(isVisible) {\n      this._resultsAreVisiable = isVisible;\n      this.resultsContainer.classList.toggle('hide', isVisible === false);\n\n      if (isVisible && !this.isFocused) {\n        this.isFocused = true;\n        _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].open(this);\n        this.searchInput.focus();\n      } else if (!isVisible) {\n        this.isFocused = false;\n        this.searchInput.focus();\n        _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].close();\n      }\n    }\n  }, {\n    key: \"initResults\",\n    value: function initResults() {\n      var resultsContainerElm = document.createElement('div');\n      resultsContainerElm.classList.add('quicksearch');\n      resultsContainerElm.innerHTML = Object(_scripts_quicksearch_templates_results_templates__WEBPACK_IMPORTED_MODULE_2__[\"resultsContainerTemplate\"])();\n      this.append(resultsContainerElm);\n      this.style.position = 'relative';\n      return resultsContainerElm;\n    }\n  }, {\n    key: \"initSearchInput\",\n    value: function initSearchInput() {\n      var _this2 = this;\n\n      var oldSearchValue = this.searchInput.value;\n      this.searchInput.setAttribute('autocomplete', 'off');\n      this.searchInput.addEventListener('keyup', function () {\n        if (_this2.searchInput.value === oldSearchValue) {\n          return;\n        }\n\n        _this2.searchInput.value.length > 0 ? _this2.searchForItems(_this2.searchInput, _this2.searchInput.value) : _this2.showResults = false;\n        oldSearchValue = _this2.searchInput.value;\n      });\n      return this.searchInput;\n    }\n  }, {\n    key: \"searchForItems\",\n    value: function () {\n      var _searchForItems = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(searchInput, searchValue) {\n        var _yield$this$fetchSear, _yield$this$fetchSear2, productResults, collectionResults, productResultsHolder, collectionResultsHolder;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.fetchSearchResults(searchValue);\n\n              case 2:\n                _yield$this$fetchSear = _context.sent;\n                _yield$this$fetchSear2 = _yield$this$fetchSear.resources.results;\n                productResults = _yield$this$fetchSear2.products;\n                collectionResults = _yield$this$fetchSear2.collections;\n                productResultsHolder = this.querySelector('[data-quicksearch-products]');\n\n                if (productResultsHolder && typeof productResults !== 'undefined') {\n                  productResultsHolder.innerHTML = Object(_scripts_quicksearch_templates_results_templates__WEBPACK_IMPORTED_MODULE_2__[\"productResultsTemplate\"])(productResults);\n                }\n\n                collectionResultsHolder = this.querySelector('[data-quicksearch-collections]');\n\n                if (collectionResultsHolder && typeof collectionResults !== 'undefined') {\n                  collectionResultsHolder.innerHTML = Object(_scripts_quicksearch_templates_results_templates__WEBPACK_IMPORTED_MODULE_2__[\"collectionResultsTemplate\"])(collectionResults);\n                }\n\n                this.showResults = true;\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function searchForItems(_x, _x2) {\n        return _searchForItems.apply(this, arguments);\n      }\n\n      return searchForItems;\n    }()\n  }, {\n    key: \"fetchSearchResults\",\n    value: function () {\n      var _fetchSearchResults = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(searchValue) {\n        var searchQuery;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                searchQuery = [\"q=\".concat(searchValue), 'resources[type]=product,collection', 'resources[options][unavailable_products]=last', 'resources[options][fields]=title,product_type,variants.title'].join('&');\n                _context2.next = 3;\n                return fetch(\"/search/suggest.json?\".concat(searchQuery), {\n                  method: 'GET',\n                  credentials: 'same-origin',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'X-Requested-With': 'xmlhttprequest'\n                  }\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (result) {\n                  if (result.status) {\n                    throw new Error(result.description);\n                  }\n\n                  return result;\n                })[\"catch\"](function (error) {\n                  console.error(error);\n                  return error;\n                });\n\n              case 3:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function fetchSearchResults(_x3) {\n        return _fetchSearchResults.apply(this, arguments);\n      }\n\n      return fetchSearchResults;\n    }()\n  }, {\n    key: \"accessabilityEvents\",\n    value: function accessabilityEvents(addEvent) {\n      var _this3 = this;\n\n      window.addEventListener('keydown', function (event) {\n        if (event.key !== 'Escape' || !_this3.showResults) {\n          return;\n        }\n\n        _this3.showResults = false;\n        _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].close();\n      }, true);\n      window.addEventListener('click', function (event) {\n        if (_this3.contains(event.target) || !_this3.showResults) {\n          return;\n        }\n\n        event.preventDefault();\n        event.stopPropagation();\n        _this3.showResults = false;\n      }, true);\n      this.searchInput.addEventListener('keydown', function (event) {\n        var firstResult = _this3.querySelector('[data-quicksearch-result]');\n\n        if (event.key !== 'ArrowDown' || !firstResult || !_this3.showResults) {\n          return;\n        }\n\n        firstResult.focus();\n      });\n      this.resultsContainer.addEventListener('keydown', function (event) {\n        if (event.key !== 'ArrowUp' || !_this3.showResults) {\n          return;\n        }\n\n        _this3.searchInput.focus();\n      });\n    }\n  }]);\n\n  return _class;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9xdWlja3NlYXJjaC9xdWlja3NlYXJjaC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3F1aWNrc2VhcmNoL3F1aWNrc2VhcmNoLmpzP2MxZTAiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkOyBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzOyBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7IGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpOyBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTsgfSBmdW5jdGlvbiBXcmFwcGVyKCkgeyByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpOyB9OyByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0OyB9IGVsc2UgeyBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IHZhciBhID0gW251bGxdOyBhLnB1c2guYXBwbHkoYSwgYXJncyk7IHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTsgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7IGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpOyByZXR1cm4gaW5zdGFuY2U7IH07IH0gcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHsgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmltcG9ydCB0cmFwRm9jdXMgZnJvbSAnQHNjcmlwdHMvY29yZS90cmFwLWZvY3VzJztcbmltcG9ydCBuZXdDdXN0b21FbGVtZW50IGZyb20gJ0BzY3JpcHRzL2NvcmUvY3VzdG9tLWh0bWwtZWxlbWVudCc7XG5pbXBvcnQgeyBjb2xsZWN0aW9uUmVzdWx0c1RlbXBsYXRlLCBwcm9kdWN0UmVzdWx0c1RlbXBsYXRlLCByZXN1bHRzQ29udGFpbmVyVGVtcGxhdGUgfSBmcm9tICdAc2NyaXB0cy9xdWlja3NlYXJjaC90ZW1wbGF0ZXMvcmVzdWx0cy10ZW1wbGF0ZXMnO1xubmV3Q3VzdG9tRWxlbWVudCgncXVpY2stc2VhcmNoJywgLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSFRNTEVsZW1lbnQpIHtcbiAgX2luaGVyaXRzKF9jbGFzcywgX0hUTUxFbGVtZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKF9jbGFzcyk7XG5cbiAgZnVuY3Rpb24gX2NsYXNzKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBfY2xhc3MpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICBfdGhpcy5zZWFyY2hGb3JtID0gX3RoaXMucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgIF90aGlzLnNlYXJjaElucHV0ID0gX3RoaXMucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInFcIl0nKTtcblxuICAgIGlmICghX3RoaXMuc2VhcmNoRm9ybSB8fCAhX3RoaXMuc2VhcmNoSW5wdXQpIHtcbiAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcyk7XG4gICAgfVxuXG4gICAgX3RoaXMucmVzdWx0c0NvbnRhaW5lciA9IF90aGlzLmluaXRSZXN1bHRzKCk7XG4gICAgX3RoaXMuc2hvd1Jlc3VsdHMgPSBmYWxzZTtcblxuICAgIF90aGlzLmluaXRTZWFyY2hJbnB1dCgpO1xuXG4gICAgX3RoaXMuYWNjZXNzYWJpbGl0eUV2ZW50cygpO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKF9jbGFzcywgW3tcbiAgICBrZXk6IFwic2hvd1Jlc3VsdHNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzQXJlVmlzaWFibGU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChpc1Zpc2libGUpIHtcbiAgICAgIHRoaXMuX3Jlc3VsdHNBcmVWaXNpYWJsZSA9IGlzVmlzaWJsZTtcbiAgICAgIHRoaXMucmVzdWx0c0NvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlJywgaXNWaXNpYmxlID09PSBmYWxzZSk7XG5cbiAgICAgIGlmIChpc1Zpc2libGUgJiYgIXRoaXMuaXNGb2N1c2VkKSB7XG4gICAgICAgIHRoaXMuaXNGb2N1c2VkID0gdHJ1ZTtcbiAgICAgICAgdHJhcEZvY3VzLm9wZW4odGhpcyk7XG4gICAgICAgIHRoaXMuc2VhcmNoSW5wdXQuZm9jdXMoKTtcbiAgICAgIH0gZWxzZSBpZiAoIWlzVmlzaWJsZSkge1xuICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlYXJjaElucHV0LmZvY3VzKCk7XG4gICAgICAgIHRyYXBGb2N1cy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbml0UmVzdWx0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0UmVzdWx0cygpIHtcbiAgICAgIHZhciByZXN1bHRzQ29udGFpbmVyRWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICByZXN1bHRzQ29udGFpbmVyRWxtLmNsYXNzTGlzdC5hZGQoJ3F1aWNrc2VhcmNoJyk7XG4gICAgICByZXN1bHRzQ29udGFpbmVyRWxtLmlubmVySFRNTCA9IHJlc3VsdHNDb250YWluZXJUZW1wbGF0ZSgpO1xuICAgICAgdGhpcy5hcHBlbmQocmVzdWx0c0NvbnRhaW5lckVsbSk7XG4gICAgICB0aGlzLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgIHJldHVybiByZXN1bHRzQ29udGFpbmVyRWxtO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbml0U2VhcmNoSW5wdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFNlYXJjaElucHV0KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBvbGRTZWFyY2hWYWx1ZSA9IHRoaXMuc2VhcmNoSW5wdXQudmFsdWU7XG4gICAgICB0aGlzLnNlYXJjaElucHV0LnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywgJ29mZicpO1xuICAgICAgdGhpcy5zZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzMi5zZWFyY2hJbnB1dC52YWx1ZSA9PT0gb2xkU2VhcmNoVmFsdWUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczIuc2VhcmNoSW5wdXQudmFsdWUubGVuZ3RoID4gMCA/IF90aGlzMi5zZWFyY2hGb3JJdGVtcyhfdGhpczIuc2VhcmNoSW5wdXQsIF90aGlzMi5zZWFyY2hJbnB1dC52YWx1ZSkgOiBfdGhpczIuc2hvd1Jlc3VsdHMgPSBmYWxzZTtcbiAgICAgICAgb2xkU2VhcmNoVmFsdWUgPSBfdGhpczIuc2VhcmNoSW5wdXQudmFsdWU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzLnNlYXJjaElucHV0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZWFyY2hGb3JJdGVtc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3NlYXJjaEZvckl0ZW1zID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHNlYXJjaElucHV0LCBzZWFyY2hWYWx1ZSkge1xuICAgICAgICB2YXIgX3lpZWxkJHRoaXMkZmV0Y2hTZWFyLCBfeWllbGQkdGhpcyRmZXRjaFNlYXIyLCBwcm9kdWN0UmVzdWx0cywgY29sbGVjdGlvblJlc3VsdHMsIHByb2R1Y3RSZXN1bHRzSG9sZGVyLCBjb2xsZWN0aW9uUmVzdWx0c0hvbGRlcjtcblxuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hTZWFyY2hSZXN1bHRzKHNlYXJjaFZhbHVlKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgX3lpZWxkJHRoaXMkZmV0Y2hTZWFyID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICBfeWllbGQkdGhpcyRmZXRjaFNlYXIyID0gX3lpZWxkJHRoaXMkZmV0Y2hTZWFyLnJlc291cmNlcy5yZXN1bHRzO1xuICAgICAgICAgICAgICAgIHByb2R1Y3RSZXN1bHRzID0gX3lpZWxkJHRoaXMkZmV0Y2hTZWFyMi5wcm9kdWN0cztcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uUmVzdWx0cyA9IF95aWVsZCR0aGlzJGZldGNoU2VhcjIuY29sbGVjdGlvbnM7XG4gICAgICAgICAgICAgICAgcHJvZHVjdFJlc3VsdHNIb2xkZXIgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXF1aWNrc2VhcmNoLXByb2R1Y3RzXScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByb2R1Y3RSZXN1bHRzSG9sZGVyICYmIHR5cGVvZiBwcm9kdWN0UmVzdWx0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIHByb2R1Y3RSZXN1bHRzSG9sZGVyLmlubmVySFRNTCA9IHByb2R1Y3RSZXN1bHRzVGVtcGxhdGUocHJvZHVjdFJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25SZXN1bHRzSG9sZGVyID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1xdWlja3NlYXJjaC1jb2xsZWN0aW9uc10nKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb2xsZWN0aW9uUmVzdWx0c0hvbGRlciAmJiB0eXBlb2YgY29sbGVjdGlvblJlc3VsdHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uUmVzdWx0c0hvbGRlci5pbm5lckhUTUwgPSBjb2xsZWN0aW9uUmVzdWx0c1RlbXBsYXRlKGNvbGxlY3Rpb25SZXN1bHRzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNob3dSZXN1bHRzID0gdHJ1ZTtcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzZWFyY2hGb3JJdGVtcyhfeCwgX3gyKSB7XG4gICAgICAgIHJldHVybiBfc2VhcmNoRm9ySXRlbXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlYXJjaEZvckl0ZW1zO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImZldGNoU2VhcmNoUmVzdWx0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2ZldGNoU2VhcmNoUmVzdWx0cyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoc2VhcmNoVmFsdWUpIHtcbiAgICAgICAgdmFyIHNlYXJjaFF1ZXJ5O1xuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHNlYXJjaFF1ZXJ5ID0gW1wicT1cIi5jb25jYXQoc2VhcmNoVmFsdWUpLCAncmVzb3VyY2VzW3R5cGVdPXByb2R1Y3QsY29sbGVjdGlvbicsICdyZXNvdXJjZXNbb3B0aW9uc11bdW5hdmFpbGFibGVfcHJvZHVjdHNdPWxhc3QnLCAncmVzb3VyY2VzW29wdGlvbnNdW2ZpZWxkc109dGl0bGUscHJvZHVjdF90eXBlLHZhcmlhbnRzLnRpdGxlJ10uam9pbignJicpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goXCIvc2VhcmNoL3N1Z2dlc3QuanNvbj9cIi5jb25jYXQoc2VhcmNoUXVlcnkpLCB7XG4gICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ3htbGh0dHByZXF1ZXN0J1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDIuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMik7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGZldGNoU2VhcmNoUmVzdWx0cyhfeDMpIHtcbiAgICAgICAgcmV0dXJuIF9mZXRjaFNlYXJjaFJlc3VsdHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZldGNoU2VhcmNoUmVzdWx0cztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJhY2Nlc3NhYmlsaXR5RXZlbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFjY2Vzc2FiaWxpdHlFdmVudHMoYWRkRXZlbnQpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5ICE9PSAnRXNjYXBlJyB8fCAhX3RoaXMzLnNob3dSZXN1bHRzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLnNob3dSZXN1bHRzID0gZmFsc2U7XG4gICAgICAgIHRyYXBGb2N1cy5jbG9zZSgpO1xuICAgICAgfSwgdHJ1ZSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKF90aGlzMy5jb250YWlucyhldmVudC50YXJnZXQpIHx8ICFfdGhpczMuc2hvd1Jlc3VsdHMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgX3RoaXMzLnNob3dSZXN1bHRzID0gZmFsc2U7XG4gICAgICB9LCB0cnVlKTtcbiAgICAgIHRoaXMuc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZmlyc3RSZXN1bHQgPSBfdGhpczMucXVlcnlTZWxlY3RvcignW2RhdGEtcXVpY2tzZWFyY2gtcmVzdWx0XScpO1xuXG4gICAgICAgIGlmIChldmVudC5rZXkgIT09ICdBcnJvd0Rvd24nIHx8ICFmaXJzdFJlc3VsdCB8fCAhX3RoaXMzLnNob3dSZXN1bHRzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZmlyc3RSZXN1bHQuZm9jdXMoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZXN1bHRzQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSAhPT0gJ0Fycm93VXAnIHx8ICFfdGhpczMuc2hvd1Jlc3VsdHMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczMuc2VhcmNoSW5wdXQuZm9jdXMoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBfY2xhc3M7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihIVE1MRWxlbWVudCkpKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/quicksearch/quicksearch.js\n");

/***/ }),

/***/ "./src/scripts/quicksearch/templates/results-templates.js":
/*!****************************************************************!*\
  !*** ./src/scripts/quicksearch/templates/results-templates.js ***!
  \****************************************************************/
/*! exports provided: resultsContainerTemplate, productResultsTemplate, collectionResultsTemplate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resultsContainerTemplate\", function() { return resultsContainerTemplate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"productResultsTemplate\", function() { return productResultsTemplate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"collectionResultsTemplate\", function() { return collectionResultsTemplate; });\n/**\n * Create the main result container\n * @returns string for container innerHTML\n */\nvar resultsContainerTemplate = function resultsContainerTemplate() {\n  return \"\\n    <div class=\\\"quicksearch__collections\\\">\\n      <h2 class=\\\"quicksearch__category-title p\\\">Collections</h2>\\n      <div class=\\\"quicksearch__collections-results\\\" data-quicksearch-collections></div>\\n    </div>\\n    <div class=\\\"quicksearch__products\\\">\\n      <h2 class=\\\"quicksearch__category-title p\\\">Products</h2>\\n      <div class=\\\"quicksearch__products-results\\\" data-quicksearch-products></div>\\n    </div>\\n  \";\n};\n\nvar productResultItemTemplate = function productResultItemTemplate(product) {\n  var _product$featured_ima;\n\n  return \"\\n    <div class=\\\"quicksearch__product-item\\\">\\n      <a href=\\\"\".concat(product.url, \"\\\" class=\\\"quicksearch__product-image\\\">\\n        \").concat((_product$featured_ima = product.featured_image) !== null && _product$featured_ima !== void 0 && _product$featured_ima.url ? \"<img src=\\\"\".concat(Shopify.Image.getSizedImageUrl(product.featured_image.url, '150x'), \"\\\" width=\\\"150\\\" height=\\\"150\\\" alt=\\\"\").concat(product.title, \"\\\">\") : '', \"\\n      </a>\\n\\n      <div class=\\\"quicksearch__product-info\\\">\\n        <h3 class=\\\"quicksearch__product-title p--small\\\">\\n          <a href=\\\"\").concat(product.url, \"\\\" class=\\\"quicksearch__product-title-link\\\" data-quicksearch-result>\\n            \").concat(product.title, \"\\n          </a>\\n        </h3>\\n        <p class=\\\"quicksearch__product-price p--small\\\">\\n          \").concat(product.compare_at_price_min > product.price_min ? \"\\n                \".concat(Shopify.formatMoney(product.price_min), \"\\n                <s class=\\\"quicksearch__product-price-strikethrough\\\">\\n                  <span class=\\\"visually-hidden\\\">Originally priced at</span>\\n                  \").concat(Shopify.formatMoney(product.compare_at_price_min), \"\\n                </s>\\n              \") : Shopify.formatMoney(product.price_min), \"\\n        </p>\\n      </div>\\n    </div>\\n  \");\n};\n\nvar productResultsTemplate = function productResultsTemplate(productResults) {\n  return productResults.length === 0 ? '<p class=\"quicksearch__no-results p--small\">No products match your search</p>' : productResults.map(function (product) {\n    return productResultItemTemplate(product);\n  }).join('');\n};\n/**\n * Create collection result list items\n * @param { object } collection : Collection object\n * @returns string collection result list item\n */\n\nvar collectionResultItemTemplate = function collectionResultItemTemplate(collection) {\n  return \"\\n    <li class=\\\"quicksearch__collection-list-item p--small\\\">\\n      <a class=\\\"quicksearch__collection-list-link\\\" href=\\\"\".concat(collection.url, \"\\\" data-quicksearch-result>\\n        \").concat(collection.title, \"\\n      </a>\\n    </li>\\n  \");\n};\n/**\n * Create innerhtml for collection results\n * @param { array } collectionResults : Array of collection onject\n * @returns string of element innerHTML\n */\n\n\nvar collectionResultsTemplate = function collectionResultsTemplate(collectionResults) {\n  return collectionResults.length === 0 ? '<p class=\"quicksearch__no-results p--small\">No collections match your search</p>' : \"\\n      <ul class=\\\"quicksearch__collection-list\\\">\\n        \".concat(collectionResults.map(function (collection) {\n    return collectionResultItemTemplate(collection);\n  }).join(''), \"\\n      </ul>\\n    \");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9xdWlja3NlYXJjaC90ZW1wbGF0ZXMvcmVzdWx0cy10ZW1wbGF0ZXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9xdWlja3NlYXJjaC90ZW1wbGF0ZXMvcmVzdWx0cy10ZW1wbGF0ZXMuanM/MjE4YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZSB0aGUgbWFpbiByZXN1bHQgY29udGFpbmVyXG4gKiBAcmV0dXJucyBzdHJpbmcgZm9yIGNvbnRhaW5lciBpbm5lckhUTUxcbiAqL1xuZXhwb3J0IHZhciByZXN1bHRzQ29udGFpbmVyVGVtcGxhdGUgPSBmdW5jdGlvbiByZXN1bHRzQ29udGFpbmVyVGVtcGxhdGUoKSB7XG4gIHJldHVybiBcIlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJxdWlja3NlYXJjaF9fY29sbGVjdGlvbnNcXFwiPlxcbiAgICAgIDxoMiBjbGFzcz1cXFwicXVpY2tzZWFyY2hfX2NhdGVnb3J5LXRpdGxlIHBcXFwiPkNvbGxlY3Rpb25zPC9oMj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJxdWlja3NlYXJjaF9fY29sbGVjdGlvbnMtcmVzdWx0c1xcXCIgZGF0YS1xdWlja3NlYXJjaC1jb2xsZWN0aW9ucz48L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInF1aWNrc2VhcmNoX19wcm9kdWN0c1xcXCI+XFxuICAgICAgPGgyIGNsYXNzPVxcXCJxdWlja3NlYXJjaF9fY2F0ZWdvcnktdGl0bGUgcFxcXCI+UHJvZHVjdHM8L2gyPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInF1aWNrc2VhcmNoX19wcm9kdWN0cy1yZXN1bHRzXFxcIiBkYXRhLXF1aWNrc2VhcmNoLXByb2R1Y3RzPjwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIFwiO1xufTtcblxudmFyIHByb2R1Y3RSZXN1bHRJdGVtVGVtcGxhdGUgPSBmdW5jdGlvbiBwcm9kdWN0UmVzdWx0SXRlbVRlbXBsYXRlKHByb2R1Y3QpIHtcbiAgdmFyIF9wcm9kdWN0JGZlYXR1cmVkX2ltYTtcblxuICByZXR1cm4gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwicXVpY2tzZWFyY2hfX3Byb2R1Y3QtaXRlbVxcXCI+XFxuICAgICAgPGEgaHJlZj1cXFwiXCIuY29uY2F0KHByb2R1Y3QudXJsLCBcIlxcXCIgY2xhc3M9XFxcInF1aWNrc2VhcmNoX19wcm9kdWN0LWltYWdlXFxcIj5cXG4gICAgICAgIFwiKS5jb25jYXQoKF9wcm9kdWN0JGZlYXR1cmVkX2ltYSA9IHByb2R1Y3QuZmVhdHVyZWRfaW1hZ2UpICE9PSBudWxsICYmIF9wcm9kdWN0JGZlYXR1cmVkX2ltYSAhPT0gdm9pZCAwICYmIF9wcm9kdWN0JGZlYXR1cmVkX2ltYS51cmwgPyBcIjxpbWcgc3JjPVxcXCJcIi5jb25jYXQoU2hvcGlmeS5JbWFnZS5nZXRTaXplZEltYWdlVXJsKHByb2R1Y3QuZmVhdHVyZWRfaW1hZ2UudXJsLCAnMTUweCcpLCBcIlxcXCIgd2lkdGg9XFxcIjE1MFxcXCIgaGVpZ2h0PVxcXCIxNTBcXFwiIGFsdD1cXFwiXCIpLmNvbmNhdChwcm9kdWN0LnRpdGxlLCBcIlxcXCI+XCIpIDogJycsIFwiXFxuICAgICAgPC9hPlxcblxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInF1aWNrc2VhcmNoX19wcm9kdWN0LWluZm9cXFwiPlxcbiAgICAgICAgPGgzIGNsYXNzPVxcXCJxdWlja3NlYXJjaF9fcHJvZHVjdC10aXRsZSBwLS1zbWFsbFxcXCI+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcIlwiKS5jb25jYXQocHJvZHVjdC51cmwsIFwiXFxcIiBjbGFzcz1cXFwicXVpY2tzZWFyY2hfX3Byb2R1Y3QtdGl0bGUtbGlua1xcXCIgZGF0YS1xdWlja3NlYXJjaC1yZXN1bHQ+XFxuICAgICAgICAgICAgXCIpLmNvbmNhdChwcm9kdWN0LnRpdGxlLCBcIlxcbiAgICAgICAgICA8L2E+XFxuICAgICAgICA8L2gzPlxcbiAgICAgICAgPHAgY2xhc3M9XFxcInF1aWNrc2VhcmNoX19wcm9kdWN0LXByaWNlIHAtLXNtYWxsXFxcIj5cXG4gICAgICAgICAgXCIpLmNvbmNhdChwcm9kdWN0LmNvbXBhcmVfYXRfcHJpY2VfbWluID4gcHJvZHVjdC5wcmljZV9taW4gPyBcIlxcbiAgICAgICAgICAgICAgICBcIi5jb25jYXQoU2hvcGlmeS5mb3JtYXRNb25leShwcm9kdWN0LnByaWNlX21pbiksIFwiXFxuICAgICAgICAgICAgICAgIDxzIGNsYXNzPVxcXCJxdWlja3NlYXJjaF9fcHJvZHVjdC1wcmljZS1zdHJpa2V0aHJvdWdoXFxcIj5cXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwidmlzdWFsbHktaGlkZGVuXFxcIj5PcmlnaW5hbGx5IHByaWNlZCBhdDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICBcIikuY29uY2F0KFNob3BpZnkuZm9ybWF0TW9uZXkocHJvZHVjdC5jb21wYXJlX2F0X3ByaWNlX21pbiksIFwiXFxuICAgICAgICAgICAgICAgIDwvcz5cXG4gICAgICAgICAgICAgIFwiKSA6IFNob3BpZnkuZm9ybWF0TW9uZXkocHJvZHVjdC5wcmljZV9taW4pLCBcIlxcbiAgICAgICAgPC9wPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIFwiKTtcbn07XG5cbmV4cG9ydCB2YXIgcHJvZHVjdFJlc3VsdHNUZW1wbGF0ZSA9IGZ1bmN0aW9uIHByb2R1Y3RSZXN1bHRzVGVtcGxhdGUocHJvZHVjdFJlc3VsdHMpIHtcbiAgcmV0dXJuIHByb2R1Y3RSZXN1bHRzLmxlbmd0aCA9PT0gMCA/ICc8cCBjbGFzcz1cInF1aWNrc2VhcmNoX19uby1yZXN1bHRzIHAtLXNtYWxsXCI+Tm8gcHJvZHVjdHMgbWF0Y2ggeW91ciBzZWFyY2g8L3A+JyA6IHByb2R1Y3RSZXN1bHRzLm1hcChmdW5jdGlvbiAocHJvZHVjdCkge1xuICAgIHJldHVybiBwcm9kdWN0UmVzdWx0SXRlbVRlbXBsYXRlKHByb2R1Y3QpO1xuICB9KS5qb2luKCcnKTtcbn07XG4vKipcbiAqIENyZWF0ZSBjb2xsZWN0aW9uIHJlc3VsdCBsaXN0IGl0ZW1zXG4gKiBAcGFyYW0geyBvYmplY3QgfSBjb2xsZWN0aW9uIDogQ29sbGVjdGlvbiBvYmplY3RcbiAqIEByZXR1cm5zIHN0cmluZyBjb2xsZWN0aW9uIHJlc3VsdCBsaXN0IGl0ZW1cbiAqL1xuXG52YXIgY29sbGVjdGlvblJlc3VsdEl0ZW1UZW1wbGF0ZSA9IGZ1bmN0aW9uIGNvbGxlY3Rpb25SZXN1bHRJdGVtVGVtcGxhdGUoY29sbGVjdGlvbikge1xuICByZXR1cm4gXCJcXG4gICAgPGxpIGNsYXNzPVxcXCJxdWlja3NlYXJjaF9fY29sbGVjdGlvbi1saXN0LWl0ZW0gcC0tc21hbGxcXFwiPlxcbiAgICAgIDxhIGNsYXNzPVxcXCJxdWlja3NlYXJjaF9fY29sbGVjdGlvbi1saXN0LWxpbmtcXFwiIGhyZWY9XFxcIlwiLmNvbmNhdChjb2xsZWN0aW9uLnVybCwgXCJcXFwiIGRhdGEtcXVpY2tzZWFyY2gtcmVzdWx0PlxcbiAgICAgICAgXCIpLmNvbmNhdChjb2xsZWN0aW9uLnRpdGxlLCBcIlxcbiAgICAgIDwvYT5cXG4gICAgPC9saT5cXG4gIFwiKTtcbn07XG4vKipcbiAqIENyZWF0ZSBpbm5lcmh0bWwgZm9yIGNvbGxlY3Rpb24gcmVzdWx0c1xuICogQHBhcmFtIHsgYXJyYXkgfSBjb2xsZWN0aW9uUmVzdWx0cyA6IEFycmF5IG9mIGNvbGxlY3Rpb24gb25qZWN0XG4gKiBAcmV0dXJucyBzdHJpbmcgb2YgZWxlbWVudCBpbm5lckhUTUxcbiAqL1xuXG5cbmV4cG9ydCB2YXIgY29sbGVjdGlvblJlc3VsdHNUZW1wbGF0ZSA9IGZ1bmN0aW9uIGNvbGxlY3Rpb25SZXN1bHRzVGVtcGxhdGUoY29sbGVjdGlvblJlc3VsdHMpIHtcbiAgcmV0dXJuIGNvbGxlY3Rpb25SZXN1bHRzLmxlbmd0aCA9PT0gMCA/ICc8cCBjbGFzcz1cInF1aWNrc2VhcmNoX19uby1yZXN1bHRzIHAtLXNtYWxsXCI+Tm8gY29sbGVjdGlvbnMgbWF0Y2ggeW91ciBzZWFyY2g8L3A+JyA6IFwiXFxuICAgICAgPHVsIGNsYXNzPVxcXCJxdWlja3NlYXJjaF9fY29sbGVjdGlvbi1saXN0XFxcIj5cXG4gICAgICAgIFwiLmNvbmNhdChjb2xsZWN0aW9uUmVzdWx0cy5tYXAoZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcbiAgICByZXR1cm4gY29sbGVjdGlvblJlc3VsdEl0ZW1UZW1wbGF0ZShjb2xsZWN0aW9uKTtcbiAgfSkuam9pbignJyksIFwiXFxuICAgICAgPC91bD5cXG4gICAgXCIpO1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/quicksearch/templates/results-templates.js\n");

/***/ }),

/***/ "./src/scripts/storefront/queries/queryVariantsById.js":
/*!*************************************************************!*\
  !*** ./src/scripts/storefront/queries/queryVariantsById.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * @desc Queries a variant information by id\n * @param {Array or Number} ids -> Array of variant ids or single\n */\nvar queryVariantsById = function queryVariantsById(ids) {\n  var graphQlVariables = {\n    ids: Array.isArray(ids) ? ids.map(function (id) {\n      return \"gid://shopify/ProductVariant/\".concat(id);\n    }) : [\"gid://shopify/ProductVariant/\".concat(ids)]\n  };\n  var graphQlQuery = \"\\n    query($ids: [ID!]!) {\\n      nodes(ids: $ids) {\\n        ... on ProductVariant {\\n          title\\n          id\\n          compareAtPrice\\n          availableForSale\\n          price\\n          quantityAvailable\\n          selectedOptions {\\n            name\\n            value\\n          }\\n          sellingPlanAllocations(first:100) {\\n            edges {\\n              node {\\n                sellingPlan {\\n                  id\\n                  name\\n                  options {\\n                    name\\n                    value\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n  \";\n  return JSON.stringify({\n    query: graphQlQuery,\n    variables: graphQlVariables\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (queryVariantsById);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9zdG9yZWZyb250L3F1ZXJpZXMvcXVlcnlWYXJpYW50c0J5SWQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9zdG9yZWZyb250L3F1ZXJpZXMvcXVlcnlWYXJpYW50c0J5SWQuanM/ODIxOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBkZXNjIFF1ZXJpZXMgYSB2YXJpYW50IGluZm9ybWF0aW9uIGJ5IGlkXG4gKiBAcGFyYW0ge0FycmF5IG9yIE51bWJlcn0gaWRzIC0+IEFycmF5IG9mIHZhcmlhbnQgaWRzIG9yIHNpbmdsZVxuICovXG52YXIgcXVlcnlWYXJpYW50c0J5SWQgPSBmdW5jdGlvbiBxdWVyeVZhcmlhbnRzQnlJZChpZHMpIHtcbiAgdmFyIGdyYXBoUWxWYXJpYWJsZXMgPSB7XG4gICAgaWRzOiBBcnJheS5pc0FycmF5KGlkcykgPyBpZHMubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgICAgcmV0dXJuIFwiZ2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC9cIi5jb25jYXQoaWQpO1xuICAgIH0pIDogW1wiZ2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC9cIi5jb25jYXQoaWRzKV1cbiAgfTtcbiAgdmFyIGdyYXBoUWxRdWVyeSA9IFwiXFxuICAgIHF1ZXJ5KCRpZHM6IFtJRCFdISkge1xcbiAgICAgIG5vZGVzKGlkczogJGlkcykge1xcbiAgICAgICAgLi4uIG9uIFByb2R1Y3RWYXJpYW50IHtcXG4gICAgICAgICAgdGl0bGVcXG4gICAgICAgICAgaWRcXG4gICAgICAgICAgY29tcGFyZUF0UHJpY2VcXG4gICAgICAgICAgYXZhaWxhYmxlRm9yU2FsZVxcbiAgICAgICAgICBwcmljZVxcbiAgICAgICAgICBxdWFudGl0eUF2YWlsYWJsZVxcbiAgICAgICAgICBzZWxlY3RlZE9wdGlvbnMge1xcbiAgICAgICAgICAgIG5hbWVcXG4gICAgICAgICAgICB2YWx1ZVxcbiAgICAgICAgICB9XFxuICAgICAgICAgIHNlbGxpbmdQbGFuQWxsb2NhdGlvbnMoZmlyc3Q6MTAwKSB7XFxuICAgICAgICAgICAgZWRnZXMge1xcbiAgICAgICAgICAgICAgbm9kZSB7XFxuICAgICAgICAgICAgICAgIHNlbGxpbmdQbGFuIHtcXG4gICAgICAgICAgICAgICAgICBpZFxcbiAgICAgICAgICAgICAgICAgIG5hbWVcXG4gICAgICAgICAgICAgICAgICBvcHRpb25zIHtcXG4gICAgICAgICAgICAgICAgICAgIG5hbWVcXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlXFxuICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICB9XFxuICBcIjtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICBxdWVyeTogZ3JhcGhRbFF1ZXJ5LFxuICAgIHZhcmlhYmxlczogZ3JhcGhRbFZhcmlhYmxlc1xuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHF1ZXJ5VmFyaWFudHNCeUlkOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/storefront/queries/queryVariantsById.js\n");

/***/ }),

/***/ "./src/scripts/storefront/storefront.js":
/*!**********************************************!*\
  !*** ./src/scripts/storefront/storefront.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar storefront = new ( /*#__PURE__*/function () {\n  function StoreFront() {\n    var _window$theme, _window$theme$storefr, _window$theme2, _window$theme2$storef;\n\n    _classCallCheck(this, StoreFront);\n\n    this.STOREFRONT_API_TOKEN = (_window$theme = window.theme) === null || _window$theme === void 0 ? void 0 : (_window$theme$storefr = _window$theme.storefront) === null || _window$theme$storefr === void 0 ? void 0 : _window$theme$storefr.apiToken;\n    this.STORE = (_window$theme2 = window.theme) === null || _window$theme2 === void 0 ? void 0 : (_window$theme2$storef = _window$theme2.storefront) === null || _window$theme2$storef === void 0 ? void 0 : _window$theme2$storef.store;\n    this.invalidCredentials = false;\n\n    if (typeof this.STORE !== 'undefined' && typeof this.STOREFRONT_API_TOKEN !== 'undefined' && this.STOREFRONT_API_TOKEN !== null) {\n      return;\n    }\n\n    console.warn('STOREFRONT_API_TOKEN or STORE is not set.');\n    this.invalidCredentials = true;\n  }\n\n  _createClass(StoreFront, [{\n    key: \"fetch\",\n    value: function (_fetch) {\n      function fetch(_x) {\n        return _fetch.apply(this, arguments);\n      }\n\n      fetch.toString = function () {\n        return _fetch.toString();\n      };\n\n      return fetch;\n    }( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(graphqlData) {\n        var fetchHeaders, requestOptions, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.invalidCredentials) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", null);\n\n              case 2:\n                fetchHeaders = new Headers(); // eslint-disable-line\n\n                fetchHeaders.append('x-shopify-storefront-access-token', this.STOREFRONT_API_TOKEN);\n                fetchHeaders.append('Content-Type', 'application/json');\n                requestOptions = {\n                  method: 'POST',\n                  headers: fetchHeaders,\n                  body: graphqlData,\n                  redirect: 'follow'\n                };\n                _context.next = 8;\n                return fetch(\"https://\".concat(this.STORE, \"/api/2022-04/graphql.json\"), requestOptions).then(function (response) {\n                  return response.json();\n                });\n\n              case 8:\n                response = _context.sent;\n\n                if (!response.errors) {\n                  _context.next = 12;\n                  break;\n                }\n\n                console.error(response.errors);\n                return _context.abrupt(\"return\", null);\n\n              case 12:\n                return _context.abrupt(\"return\", response.data);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x2) {\n        return _ref.apply(this, arguments);\n      };\n    }())\n  }]);\n\n  return StoreFront;\n}())();\n/* harmony default export */ __webpack_exports__[\"default\"] = (storefront);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9zdG9yZWZyb250L3N0b3JlZnJvbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9zdG9yZWZyb250L3N0b3JlZnJvbnQuanM/MjlhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBzdG9yZWZyb250ID0gbmV3ICggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3RvcmVGcm9udCgpIHtcbiAgICB2YXIgX3dpbmRvdyR0aGVtZSwgX3dpbmRvdyR0aGVtZSRzdG9yZWZyLCBfd2luZG93JHRoZW1lMiwgX3dpbmRvdyR0aGVtZTIkc3RvcmVmO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0b3JlRnJvbnQpO1xuXG4gICAgdGhpcy5TVE9SRUZST05UX0FQSV9UT0tFTiA9IChfd2luZG93JHRoZW1lID0gd2luZG93LnRoZW1lKSA9PT0gbnVsbCB8fCBfd2luZG93JHRoZW1lID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3dpbmRvdyR0aGVtZSRzdG9yZWZyID0gX3dpbmRvdyR0aGVtZS5zdG9yZWZyb250KSA9PT0gbnVsbCB8fCBfd2luZG93JHRoZW1lJHN0b3JlZnIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93aW5kb3ckdGhlbWUkc3RvcmVmci5hcGlUb2tlbjtcbiAgICB0aGlzLlNUT1JFID0gKF93aW5kb3ckdGhlbWUyID0gd2luZG93LnRoZW1lKSA9PT0gbnVsbCB8fCBfd2luZG93JHRoZW1lMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF93aW5kb3ckdGhlbWUyJHN0b3JlZiA9IF93aW5kb3ckdGhlbWUyLnN0b3JlZnJvbnQpID09PSBudWxsIHx8IF93aW5kb3ckdGhlbWUyJHN0b3JlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dpbmRvdyR0aGVtZTIkc3RvcmVmLnN0b3JlO1xuICAgIHRoaXMuaW52YWxpZENyZWRlbnRpYWxzID0gZmFsc2U7XG5cbiAgICBpZiAodHlwZW9mIHRoaXMuU1RPUkUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB0aGlzLlNUT1JFRlJPTlRfQVBJX1RPS0VOICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLlNUT1JFRlJPTlRfQVBJX1RPS0VOICE9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc29sZS53YXJuKCdTVE9SRUZST05UX0FQSV9UT0tFTiBvciBTVE9SRSBpcyBub3Qgc2V0LicpO1xuICAgIHRoaXMuaW52YWxpZENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdG9yZUZyb250LCBbe1xuICAgIGtleTogXCJmZXRjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoX2ZldGNoKSB7XG4gICAgICBmdW5jdGlvbiBmZXRjaChfeCkge1xuICAgICAgICByZXR1cm4gX2ZldGNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIGZldGNoLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2ZldGNoLnRvU3RyaW5nKCk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gZmV0Y2g7XG4gICAgfSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGdyYXBocWxEYXRhKSB7XG4gICAgICAgIHZhciBmZXRjaEhlYWRlcnMsIHJlcXVlc3RPcHRpb25zLCByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbnZhbGlkQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBudWxsKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgZmV0Y2hIZWFkZXJzID0gbmV3IEhlYWRlcnMoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgICAgICAgICAgICAgZmV0Y2hIZWFkZXJzLmFwcGVuZCgneC1zaG9waWZ5LXN0b3JlZnJvbnQtYWNjZXNzLXRva2VuJywgdGhpcy5TVE9SRUZST05UX0FQSV9UT0tFTik7XG4gICAgICAgICAgICAgICAgZmV0Y2hIZWFkZXJzLmFwcGVuZCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgaGVhZGVyczogZmV0Y2hIZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgYm9keTogZ3JhcGhxbERhdGEsXG4gICAgICAgICAgICAgICAgICByZWRpcmVjdDogJ2ZvbGxvdydcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4O1xuICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChcImh0dHBzOi8vXCIuY29uY2F0KHRoaXMuU1RPUkUsIFwiL2FwaS8yMDIyLTA0L2dyYXBocWwuanNvblwiKSwgcmVxdWVzdE9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLmVycm9ycykge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXNwb25zZS5lcnJvcnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgbnVsbCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlLmRhdGEpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7XG4gICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSlcbiAgfV0pO1xuXG4gIHJldHVybiBTdG9yZUZyb250O1xufSgpKSgpO1xuZXhwb3J0IGRlZmF1bHQgc3RvcmVmcm9udDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/storefront/storefront.js\n");

/***/ }),

/***/ "./src/views/layout/theme/theme.js":
/*!*****************************************!*\
  !*** ./src/views/layout/theme/theme.js ***!
  \*****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _theme_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./theme.scss */ \"./src/views/layout/theme/theme.scss\");\n/* harmony import */ var focus_within_polyfill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! focus-within-polyfill */ \"./node_modules/focus-within-polyfill/dist/focus-within-polyfill.js\");\n/* harmony import */ var focus_within_polyfill__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(focus_within_polyfill__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _scripts_core_a11y__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @scripts/core/a11y */ \"./src/scripts/core/a11y.js\");\n/* harmony import */ var _scripts_core_shopify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @scripts/core/shopify */ \"./src/scripts/core/shopify.js\");\n/* harmony import */ var _scripts_core_images__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @scripts/core/images */ \"./src/scripts/core/images.js\");\n/* harmony import */ var _scripts_core_images__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_scripts_core_images__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _scripts_core_popup_elements__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @scripts/core/popup-elements */ \"./src/scripts/core/popup-elements.js\");\n/* harmony import */ var _scripts_components_required_validation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @scripts/components/required-validation */ \"./src/scripts/components/required-validation.js\");\n/* harmony import */ var _scripts_components_required_validation__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_scripts_components_required_validation__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _scripts_components_dropdown_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @scripts/components/dropdown-select */ \"./src/scripts/components/dropdown-select.js\");\n/* harmony import */ var _scripts_components_dropdown_select__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_scripts_components_dropdown_select__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _scripts_cart_cart_api__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @scripts/cart/cart-api */ \"./src/scripts/cart/cart-api.js\");\n/* harmony import */ var _scripts_cart_components_atc_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @scripts/cart/components/atc-form */ \"./src/scripts/cart/components/atc-form.js\");\n/* harmony import */ var _scripts_cart_components_cart_condition_display__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @scripts/cart/components/cart-condition-display */ \"./src/scripts/cart/components/cart-condition-display.js\");\n/* harmony import */ var _scripts_cart_components_cart_condition_display__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_scripts_cart_components_cart_condition_display__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _scripts_cart_components_cart_info__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @scripts/cart/components/cart-info */ \"./src/scripts/cart/components/cart-info.js\");\n/* harmony import */ var _scripts_cart_components_cart_info__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_scripts_cart_components_cart_info__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _scripts_cart_components_cart_items__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @scripts/cart/components/cart-items */ \"./src/scripts/cart/components/cart-items.js\");\n/* harmony import */ var _scripts_cart_components_cart_note__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @scripts/cart/components/cart-note */ \"./src/scripts/cart/components/cart-note.js\");\n/* harmony import */ var _scripts_storefront_storefront__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @scripts/storefront/storefront */ \"./src/scripts/storefront/storefront.js\");\n/* harmony import */ var _scripts_quicksearch_quicksearch__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @scripts/quicksearch/quicksearch */ \"./src/scripts/quicksearch/quicksearch.js\");\n/* harmony import */ var _snippets_collection_item_collection_item__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @snippets/collection-item/collection-item */ \"./src/views/snippets/collection-item/collection-item.js\");\n/* harmony import */ var _snippets_collection_item_collection_item__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_snippets_collection_item_collection_item__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _snippets_quantity_selector_quantity_selector__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @snippets/quantity-selector/quantity-selector */ \"./src/views/snippets/quantity-selector/quantity-selector.js\");\n/* harmony import */ var _snippets_accordion_accordion__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @snippets/accordion/accordion */ \"./src/views/snippets/accordion/accordion.js\");\n/* harmony import */ var _snippets_accordion_accordion__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_snippets_accordion_accordion__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _sections_mobile_nav_mobile_nav__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @sections/mobile-nav/mobile-nav */ \"./src/views/sections/mobile-nav/mobile-nav.js\");\n/* harmony import */ var _sections_mobile_nav_mobile_nav__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_sections_mobile_nav_mobile_nav__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _sections_mega_menu_mega_menu__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @sections/mega-menu/mega-menu */ \"./src/views/sections/mega-menu/mega-menu.js\");\n/* harmony import */ var _sections_mobile_mega_menu_mobile_mega_menu__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @sections/mobile-mega-menu/mobile-mega-menu */ \"./src/views/sections/mobile-mega-menu/mobile-mega-menu.js\");\n/* harmony import */ var _sections_mobile_mega_menu_mobile_mega_menu__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_sections_mobile_mega_menu_mobile_mega_menu__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var _sections_ajaxcart_ajaxcart__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @sections/ajaxcart/ajaxcart */ \"./src/views/sections/ajaxcart/ajaxcart.js\");\n/* harmony import */ var _sections_ajaxcart_ajaxcart__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_sections_ajaxcart_ajaxcart__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _sections_product_product__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @sections/product/product */ \"./src/views/sections/product/product.js\");\n// Import CSS\n // Polyfills\n\n // Core\n\n\n\n\n // Components\n\n\n // Cart\n\n\n\n\n\n\n // StoreFront\n\n // Quicksearch\n\n // Snippets\n\n\n\n // Sections\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3MvbGF5b3V0L3RoZW1lL3RoZW1lLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL2xheW91dC90aGVtZS90aGVtZS5qcz82NDliIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydCBDU1NcbmltcG9ydCAnLi90aGVtZS5zY3NzJzsgLy8gUG9seWZpbGxzXG5cbmltcG9ydCAnZm9jdXMtd2l0aGluLXBvbHlmaWxsJzsgLy8gQ29yZVxuXG5pbXBvcnQgJ0BzY3JpcHRzL2NvcmUvYTExeSc7XG5pbXBvcnQgJ0BzY3JpcHRzL2NvcmUvc2hvcGlmeSc7XG5pbXBvcnQgJ0BzY3JpcHRzL2NvcmUvaW1hZ2VzJztcbmltcG9ydCAnQHNjcmlwdHMvY29yZS9wb3B1cC1lbGVtZW50cyc7IC8vIENvbXBvbmVudHNcblxuaW1wb3J0ICdAc2NyaXB0cy9jb21wb25lbnRzL3JlcXVpcmVkLXZhbGlkYXRpb24nO1xuaW1wb3J0ICdAc2NyaXB0cy9jb21wb25lbnRzL2Ryb3Bkb3duLXNlbGVjdCc7IC8vIENhcnRcblxuaW1wb3J0ICdAc2NyaXB0cy9jYXJ0L2NhcnQtYXBpJztcbmltcG9ydCAnQHNjcmlwdHMvY2FydC9jb21wb25lbnRzL2F0Yy1mb3JtJztcbmltcG9ydCAnQHNjcmlwdHMvY2FydC9jb21wb25lbnRzL2NhcnQtY29uZGl0aW9uLWRpc3BsYXknO1xuaW1wb3J0ICdAc2NyaXB0cy9jYXJ0L2NvbXBvbmVudHMvY2FydC1pbmZvJztcbmltcG9ydCAnQHNjcmlwdHMvY2FydC9jb21wb25lbnRzL2NhcnQtaXRlbXMnO1xuaW1wb3J0ICdAc2NyaXB0cy9jYXJ0L2NvbXBvbmVudHMvY2FydC1ub3RlJzsgLy8gU3RvcmVGcm9udFxuXG5pbXBvcnQgJ0BzY3JpcHRzL3N0b3JlZnJvbnQvc3RvcmVmcm9udCc7IC8vIFF1aWNrc2VhcmNoXG5cbmltcG9ydCAnQHNjcmlwdHMvcXVpY2tzZWFyY2gvcXVpY2tzZWFyY2gnOyAvLyBTbmlwcGV0c1xuXG5pbXBvcnQgJ0BzbmlwcGV0cy9jb2xsZWN0aW9uLWl0ZW0vY29sbGVjdGlvbi1pdGVtJztcbmltcG9ydCAnQHNuaXBwZXRzL3F1YW50aXR5LXNlbGVjdG9yL3F1YW50aXR5LXNlbGVjdG9yJztcbmltcG9ydCAnQHNuaXBwZXRzL2FjY29yZGlvbi9hY2NvcmRpb24nOyAvLyBTZWN0aW9uc1xuXG5pbXBvcnQgJ0BzZWN0aW9ucy9tb2JpbGUtbmF2L21vYmlsZS1uYXYnO1xuaW1wb3J0ICdAc2VjdGlvbnMvbWVnYS1tZW51L21lZ2EtbWVudSc7XG5pbXBvcnQgJ0BzZWN0aW9ucy9tb2JpbGUtbWVnYS1tZW51L21vYmlsZS1tZWdhLW1lbnUnO1xuaW1wb3J0ICdAc2VjdGlvbnMvYWpheGNhcnQvYWpheGNhcnQnO1xuaW1wb3J0ICdAc2VjdGlvbnMvcHJvZHVjdC9wcm9kdWN0JzsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/layout/theme/theme.js\n");

/***/ }),

/***/ "./src/views/layout/theme/theme.scss":
/*!*******************************************!*\
  !*** ./src/views/layout/theme/theme.scss ***!
  \*******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3MvbGF5b3V0L3RoZW1lL3RoZW1lLnNjc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvbGF5b3V0L3RoZW1lL3RoZW1lLnNjc3M/MzAyNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/layout/theme/theme.scss\n");

/***/ }),

/***/ "./src/views/sections/ajaxcart/ajaxcart.js":
/*!*************************************************!*\
  !*** ./src/views/sections/ajaxcart/ajaxcart.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n(function () {\n  if (typeof window.customElements.get('ajax-cart') !== 'undefined') {\n    return;\n  }\n\n  window.customElements.define('ajax-cart', /*#__PURE__*/function (_HTMLElement) {\n    _inherits(Ajaxcart, _HTMLElement);\n\n    var _super = _createSuper(Ajaxcart);\n\n    // eslint-disable-line\n    function Ajaxcart() {\n      var _this;\n\n      _classCallCheck(this, Ajaxcart);\n\n      _this = _super.call(this);\n      _this.open = false;\n      _this.itemsInCart = null;\n      _this.siteOverlay = document.querySelector('[data-site-overlay]');\n      _this.drawerPopup = _this.closest('popup-element');\n\n      _this.initToggles();\n\n      return _this;\n    }\n\n    _createClass(Ajaxcart, [{\n      key: \"initToggles\",\n      value: function initToggles() {\n        var _this2 = this,\n            _window$location$href;\n\n        window.addEventListener('cartAPI', function (_ref) {\n          var cartData = _ref.detail.cartData;\n\n          if (_this2.itemsInCart !== null && _this2.itemsInCart < cartData.item_count) {\n            _this2.openAjaxcart();\n          }\n\n          _this2.itemsInCart = cartData.item_count;\n\n          _this2.freeGiftBar(cartData);\n        });\n        window.addEventListener('keydown', function (event) {\n          if (event.key !== 'Escape' || _this2.open === false) {\n            return;\n          }\n\n          _this2.closeAjaxcart();\n        });\n        document.querySelectorAll('[data-close-ajaxcart]').forEach(function (toggle) {\n          toggle.addEventListener('click', function () {\n            _this2.closeAjaxcart();\n          });\n        });\n\n        if ((_window$location$href = window.location.href.split('?')[1]) !== null && _window$location$href !== void 0 && _window$location$href.includes('cart_redirect')) {\n          this.openAjaxcart();\n        }\n\n        if (this.siteOverlay !== null) {\n          this.siteOverlay.addEventListener('click', function () {\n            _this2.closeAjaxcart();\n          });\n        }\n      }\n    }, {\n      key: \"openAjaxcart\",\n      value: function openAjaxcart() {\n        this.drawerPopup.open = true;\n      }\n    }, {\n      key: \"closeAjaxcart\",\n      value: function closeAjaxcart() {\n        this.drawerPopup.open = false;\n      }\n    }, {\n      key: \"freeGiftBar\",\n      value: function freeGiftBar(cartData) {\n        var fsb = this.querySelector('[data-fsb]');\n\n        if (!fsb) {\n          return;\n        }\n\n        var threshold = parseInt(fsb.getAttribute('data-fsb'), 10) * 100;\n        var bar = this.querySelector('[data-fsb-bar]');\n        var text = this.querySelector('[data-fsb-text]');\n\n        if (bar !== null) {\n          var barPercent = cartData.total_price / threshold * 100;\n          bar.style.width = \"\".concat(barPercent > 100 ? 100 : barPercent, \"%\");\n        }\n\n        if (text !== null) {\n          text.innerHTML = cartData.total_price >= threshold ? text.getAttribute('data-qualified-text') : text.getAttribute('data-unqualified-text').replace(/\\[amount\\]/g, Shopify.formatMoney(threshold - cartData.total_price));\n        }\n      }\n    }]);\n\n    return Ajaxcart;\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3Mvc2VjdGlvbnMvYWpheGNhcnQvYWpheGNhcnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc2VjdGlvbnMvYWpheGNhcnQvYWpheGNhcnQuanM/ZjVhYSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7IF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7IGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHsgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7IF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpOyB9IGZ1bmN0aW9uIFdyYXBwZXIoKSB7IHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7IH0gV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogV3JhcHBlciwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7IH07IHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTsgfVxuXG5mdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgeyBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7IH0gZWxzZSB7IF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgdmFyIGEgPSBbbnVsbF07IGEucHVzaC5hcHBseShhLCBhcmdzKTsgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsIGEpOyB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTsgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7IHJldHVybiBpbnN0YW5jZTsgfTsgfSByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikgeyByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuKGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZ2V0KCdhamF4LWNhcnQnKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdhamF4LWNhcnQnLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9IVE1MRWxlbWVudCkge1xuICAgIF9pbmhlcml0cyhBamF4Y2FydCwgX0hUTUxFbGVtZW50KTtcblxuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQWpheGNhcnQpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZ1bmN0aW9uIEFqYXhjYXJ0KCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWpheGNhcnQpO1xuXG4gICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgX3RoaXMub3BlbiA9IGZhbHNlO1xuICAgICAgX3RoaXMuaXRlbXNJbkNhcnQgPSBudWxsO1xuICAgICAgX3RoaXMuc2l0ZU92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaXRlLW92ZXJsYXldJyk7XG4gICAgICBfdGhpcy5kcmF3ZXJQb3B1cCA9IF90aGlzLmNsb3Nlc3QoJ3BvcHVwLWVsZW1lbnQnKTtcblxuICAgICAgX3RoaXMuaW5pdFRvZ2dsZXMoKTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhBamF4Y2FydCwgW3tcbiAgICAgIGtleTogXCJpbml0VG9nZ2xlc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRUb2dnbGVzKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcyxcbiAgICAgICAgICAgIF93aW5kb3ckbG9jYXRpb24kaHJlZjtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2FydEFQSScsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgdmFyIGNhcnREYXRhID0gX3JlZi5kZXRhaWwuY2FydERhdGE7XG5cbiAgICAgICAgICBpZiAoX3RoaXMyLml0ZW1zSW5DYXJ0ICE9PSBudWxsICYmIF90aGlzMi5pdGVtc0luQ2FydCA8IGNhcnREYXRhLml0ZW1fY291bnQpIHtcbiAgICAgICAgICAgIF90aGlzMi5vcGVuQWpheGNhcnQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpczIuaXRlbXNJbkNhcnQgPSBjYXJ0RGF0YS5pdGVtX2NvdW50O1xuXG4gICAgICAgICAgX3RoaXMyLmZyZWVHaWZ0QmFyKGNhcnREYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSAhPT0gJ0VzY2FwZScgfHwgX3RoaXMyLm9wZW4gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMyLmNsb3NlQWpheGNhcnQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNsb3NlLWFqYXhjYXJ0XScpLmZvckVhY2goZnVuY3Rpb24gKHRvZ2dsZSkge1xuICAgICAgICAgIHRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMi5jbG9zZUFqYXhjYXJ0KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICgoX3dpbmRvdyRsb2NhdGlvbiRocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJz8nKVsxXSkgIT09IG51bGwgJiYgX3dpbmRvdyRsb2NhdGlvbiRocmVmICE9PSB2b2lkIDAgJiYgX3dpbmRvdyRsb2NhdGlvbiRocmVmLmluY2x1ZGVzKCdjYXJ0X3JlZGlyZWN0JykpIHtcbiAgICAgICAgICB0aGlzLm9wZW5BamF4Y2FydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2l0ZU92ZXJsYXkgIT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnNpdGVPdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMyLmNsb3NlQWpheGNhcnQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvcGVuQWpheGNhcnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuQWpheGNhcnQoKSB7XG4gICAgICAgIHRoaXMuZHJhd2VyUG9wdXAub3BlbiA9IHRydWU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImNsb3NlQWpheGNhcnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZUFqYXhjYXJ0KCkge1xuICAgICAgICB0aGlzLmRyYXdlclBvcHVwLm9wZW4gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZnJlZUdpZnRCYXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBmcmVlR2lmdEJhcihjYXJ0RGF0YSkge1xuICAgICAgICB2YXIgZnNiID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mc2JdJyk7XG5cbiAgICAgICAgaWYgKCFmc2IpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGhyZXNob2xkID0gcGFyc2VJbnQoZnNiLmdldEF0dHJpYnV0ZSgnZGF0YS1mc2InKSwgMTApICogMTAwO1xuICAgICAgICB2YXIgYmFyID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mc2ItYmFyXScpO1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMucXVlcnlTZWxlY3RvcignW2RhdGEtZnNiLXRleHRdJyk7XG5cbiAgICAgICAgaWYgKGJhciAhPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBiYXJQZXJjZW50ID0gY2FydERhdGEudG90YWxfcHJpY2UgLyB0aHJlc2hvbGQgKiAxMDA7XG4gICAgICAgICAgYmFyLnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQoYmFyUGVyY2VudCA+IDEwMCA/IDEwMCA6IGJhclBlcmNlbnQsIFwiJVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZXh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgdGV4dC5pbm5lckhUTUwgPSBjYXJ0RGF0YS50b3RhbF9wcmljZSA+PSB0aHJlc2hvbGQgPyB0ZXh0LmdldEF0dHJpYnV0ZSgnZGF0YS1xdWFsaWZpZWQtdGV4dCcpIDogdGV4dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdW5xdWFsaWZpZWQtdGV4dCcpLnJlcGxhY2UoL1xcW2Ftb3VudFxcXS9nLCBTaG9waWZ5LmZvcm1hdE1vbmV5KHRocmVzaG9sZCAtIGNhcnREYXRhLnRvdGFsX3ByaWNlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQWpheGNhcnQ7XG4gIH0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEhUTUxFbGVtZW50KSkpO1xufSkoKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/views/sections/ajaxcart/ajaxcart.js\n");

/***/ }),

/***/ "./src/views/sections/mega-menu/mega-menu.js":
/*!***************************************************!*\
  !*** ./src/views/sections/mega-menu/mega-menu.js ***!
  \***************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @scripts/core/trap-focus */ \"./src/scripts/core/trap-focus.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n(function () {\n  if (typeof window.customElements.get('mega-menu') !== 'undefined') {\n    return;\n  }\n\n  window.customElements.define('mega-menu', /*#__PURE__*/function (_HTMLElement) {\n    _inherits(MegaMenu, _HTMLElement);\n\n    var _super = _createSuper(MegaMenu);\n\n    // eslint-disable-line\n    function MegaMenu() {\n      var _this;\n\n      _classCallCheck(this, MegaMenu);\n\n      _this = _super.call(this);\n      _this.navItems = _this.querySelectorAll('[data-mega-menu-nav-item]');\n      _this.dropdowns = _this.querySelectorAll('[data-mega-menu-dropdown]');\n      _this.primaryLinks = _this.querySelectorAll('[data-mega-menu-primary-link]');\n      _this.tabbableElements = null;\n      _this.primaryLinks = _toConsumableArray(_this.primaryLinks);\n      _this.menuEnterTimer = setTimeout(function () {});\n      _this.menuLeaveTimer = setTimeout(function () {});\n      _this.isDropdownOpen = false;\n      _this.activeDropdown = null;\n\n      _this.init();\n\n      return _this;\n    }\n\n    _createClass(MegaMenu, [{\n      key: \"init\",\n      value: function init() {\n        var _this2 = this;\n\n        window.addEventListener('keydown', function (event) {\n          if (event.key === 'Escape' && _this2.isDropdownOpen) {\n            _this2.closeDropdowns();\n          }\n        });\n\n        var navItems = _toConsumableArray(this.navItems);\n\n        navItems.forEach(function (navItem) {\n          var dropdown = navItem.querySelector('[data-mega-menu-dropdown]');\n          var dropdownLinks = dropdown.querySelectorAll('[data-mega-menu-link]');\n          dropdownLinks = _toConsumableArray(dropdownLinks);\n          var navLink = navItem.querySelector('[data-mega-menu-primary-link]'); // Hover delay events\n\n          navLink.addEventListener('mouseenter', function () {\n            _this2.openDropdown(dropdown);\n\n            _this2.tabbableElements = dropdownLinks;\n          });\n          navLink.addEventListener('click', function (event) {\n            event.preventDefault();\n          });\n          navItem.addEventListener('mouseleave', function () {\n            _this2.closeDropdowns([dropdown]);\n          });\n          dropdown.addEventListener('mouseleave', function () {\n            if (dropdown === _this2.activeDropdown) {\n              return;\n            }\n\n            _this2.closeDropdowns();\n\n            _this2.tabbableElements = null;\n          }); // Keyboard control events\n\n          navLink.addEventListener('keydown', function (event) {\n            if ( // close dropdowns from main nav\n            dropdown === _this2.activeDropdown && (event.key === 'Enter' || event.key === 'ArrowUp' || event.key === ' ')) {\n              _this2.closeDropdowns([dropdown]);\n            } else if ( // open dropdowns from main nav\n            !_this2.isDropdownOpen && (event.key === 'Enter' || event.key === 'ArrowDown' || event.key === ' ')) {\n              _this2.openDropdown(dropdown, navItem);\n            } else if ( // enter into dropdown from main nav\n            _this2.isDropdownOpen && dropdown === _this2.activeDropdown && event.key === 'ArrowDown') {\n              _this2.stepNext(dropdownLinks);\n            } else if (event.key === 'ArrowRight') {\n              // navigate between main nav items\n              _this2.stepNext(_this2.primaryLinks);\n            } else if (event.key === 'ArrowLeft') {\n              _this2.stepPrev(_this2.primaryLinks);\n            } else if (event.keyCode >= 65 && event.keyCode <= 90) {\n              // jump to main nav items by char\n              _this2.focusChar(event, _this2.primaryLinks);\n            }\n          });\n          dropdownLinks.forEach(function (dropdownLink) {\n            var secondaryLinks = dropdown.querySelectorAll('[data-mega-menu-secondary-link]');\n            secondaryLinks = _toConsumableArray(secondaryLinks);\n            dropdownLink.addEventListener('keydown', function (event) {\n              // move between links within dropdown\n              if (_this2.isDropdownOpen && event.key === 'ArrowDown') {\n                _this2.stepNext(dropdownLinks);\n              } else if (_this2.isDropdownOpen && event.key === 'ArrowUp') {\n                _this2.stepPrev(dropdownLinks);\n              } else if (_this2.isDropdownOpen && event.key === 'ArrowRight' && !dropdownLink.hasAttribute('data-mega-menu-image')) {\n                _this2.stepNext(secondaryLinks, true);\n              } else if (_this2.isDropdownOpen && event.key === 'ArrowLeft' && !dropdownLink.hasAttribute('data-mega-menu-image')) {\n                _this2.stepPrev(secondaryLinks, true);\n              } else if (event.keyCode >= 65 && event.keyCode <= 90) {\n                // jump to main nav items by char\n                _this2.focusChar(event, secondaryLinks);\n              }\n\n              if ( // return to main nav from dropdown\n              _this2.isDropdownOpen && dropdownLinks.indexOf(document.activeElement) === 0 && event.key === 'ArrowUp') {\n                _this2.stepNext(_this2.primaryLinks);\n              }\n            });\n          });\n        });\n      }\n    }, {\n      key: \"closeDropdowns\",\n      value: function () {\n        var _closeDropdowns = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          var _this3 = this;\n\n          var targets,\n              _args = arguments;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  targets = _args.length > 0 && _args[0] !== undefined ? _args[0] : this.dropdowns;\n                  _context.next = 3;\n                  return new Promise(function (resolve) {\n                    return setTimeout(function () {\n                      return resolve(true);\n                    }, 300);\n                  });\n\n                case 3:\n                  targets.forEach(function (dropdown) {\n                    _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].close(dropdown);\n                    dropdown.classList.remove('open');\n                    dropdown.setAttribute('aria-hidden', 'true');\n                    _this3.isDropdownOpen = false;\n                    _this3.activeDropdown = null;\n                  });\n                  this.index = 0;\n                  this.secondaryIndex = 0;\n\n                case 6:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function closeDropdowns() {\n          return _closeDropdowns.apply(this, arguments);\n        }\n\n        return closeDropdowns;\n      }()\n    }, {\n      key: \"openDropdown\",\n      value: function () {\n        var _openDropdown = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dropdown) {\n          var navItem,\n              _args2 = arguments;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  navItem = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : null;\n                  _context2.next = 3;\n                  return this.closeDropdowns();\n\n                case 3:\n                  if (navItem) {\n                    _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].open(navItem);\n                  }\n\n                  this.activeDropdown = dropdown;\n                  dropdown.classList.add('open');\n                  dropdown.setAttribute('aria-hidden', 'false');\n                  this.isDropdownOpen = true;\n\n                case 8:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function openDropdown(_x) {\n          return _openDropdown.apply(this, arguments);\n        }\n\n        return openDropdown;\n      }()\n    }, {\n      key: \"stepNext\",\n      value: function stepNext(linkList) {\n        var secondaryHeaders = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        var focusedElement = document.activeElement;\n        focusedElement = secondaryHeaders ? focusedElement.closest('[role=menu').querySelector('[data-mega-menu-secondary-link') : focusedElement;\n        var activeIndex = linkList.indexOf(focusedElement);\n\n        if (activeIndex + 1 < linkList.length) {\n          linkList[activeIndex + 1].focus();\n        }\n      }\n    }, {\n      key: \"stepPrev\",\n      value: function stepPrev(linkList) {\n        var secondaryHeaders = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        var focusedElement = document.activeElement;\n        focusedElement = secondaryHeaders ? focusedElement.closest('[role=menu').querySelector('[data-mega-menu-secondary-link') : focusedElement;\n        var activeIndex = linkList.indexOf(focusedElement);\n\n        if (activeIndex - 1 >= 0) {\n          linkList[activeIndex - 1].focus();\n        }\n      }\n    }, {\n      key: \"focusChar\",\n      value: function focusChar(event, linkList) {\n        // Find all elements where the first letter is the pressed key AND the active element\n        var relevantArray = _toConsumableArray(linkList).filter(function (child) {\n          return child.textContent.trim().toLowerCase().charAt(0) === event.key || child === document.activeElement;\n        }); // Get current active element index\n\n\n        var activeIndex = _toConsumableArray(relevantArray).findIndex(function (child) {\n          return child === document.activeElement;\n        }); // Offset the array by the current active element. Allows using the focus function to select the next/prev\n\n\n        var offsetArray = this.offsetArray(relevantArray, activeIndex); // Get only the relevant key items (removes active element if it does not match)\n\n        var characterArray = _toConsumableArray(offsetArray).filter(function (child) {\n          return child.textContent.trim().toLowerCase().charAt(0) === event.key;\n        });\n\n        if (!characterArray.length) {\n          return;\n        }\n\n        this.stepNext(characterArray);\n      }\n    }, {\n      key: \"offsetArray\",\n      value: function offsetArray(array, offset) {\n        return [].concat(_toConsumableArray(_toConsumableArray(array).slice(offset)), _toConsumableArray(_toConsumableArray(array).slice(0, offset)));\n      }\n    }]);\n\n    return MegaMenu;\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3Mvc2VjdGlvbnMvbWVnYS1tZW51L21lZ2EtbWVudS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92aWV3cy9zZWN0aW9ucy9tZWdhLW1lbnUvbWVnYS1tZW51LmpzP2Y0ODUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7IF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7IGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHsgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7IF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpOyB9IGZ1bmN0aW9uIFdyYXBwZXIoKSB7IHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7IH0gV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogV3JhcHBlciwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7IH07IHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTsgfVxuXG5mdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgeyBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7IH0gZWxzZSB7IF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgdmFyIGEgPSBbbnVsbF07IGEucHVzaC5hcHBseShhLCBhcmdzKTsgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsIGEpOyB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTsgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7IHJldHVybiBpbnN0YW5jZTsgfTsgfSByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikgeyByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuaW1wb3J0IHRyYXBGb2N1cyBmcm9tICdAc2NyaXB0cy9jb3JlL3RyYXAtZm9jdXMnO1xuXG4oZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQoJ21lZ2EtbWVudScpICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ21lZ2EtbWVudScsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7XG4gICAgX2luaGVyaXRzKE1lZ2FNZW51LCBfSFRNTEVsZW1lbnQpO1xuXG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihNZWdhTWVudSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24gTWVnYU1lbnUoKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZWdhTWVudSk7XG5cbiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICBfdGhpcy5uYXZJdGVtcyA9IF90aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lZ2EtbWVudS1uYXYtaXRlbV0nKTtcbiAgICAgIF90aGlzLmRyb3Bkb3ducyA9IF90aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lZ2EtbWVudS1kcm9wZG93bl0nKTtcbiAgICAgIF90aGlzLnByaW1hcnlMaW5rcyA9IF90aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lZ2EtbWVudS1wcmltYXJ5LWxpbmtdJyk7XG4gICAgICBfdGhpcy50YWJiYWJsZUVsZW1lbnRzID0gbnVsbDtcbiAgICAgIF90aGlzLnByaW1hcnlMaW5rcyA9IF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5wcmltYXJ5TGlua3MpO1xuICAgICAgX3RoaXMubWVudUVudGVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgIF90aGlzLm1lbnVMZWF2ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICBfdGhpcy5pc0Ryb3Bkb3duT3BlbiA9IGZhbHNlO1xuICAgICAgX3RoaXMuYWN0aXZlRHJvcGRvd24gPSBudWxsO1xuXG4gICAgICBfdGhpcy5pbml0KCk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTWVnYU1lbnUsIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgX3RoaXMyLmlzRHJvcGRvd25PcGVuKSB7XG4gICAgICAgICAgICBfdGhpczIuY2xvc2VEcm9wZG93bnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBuYXZJdGVtcyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLm5hdkl0ZW1zKTtcblxuICAgICAgICBuYXZJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChuYXZJdGVtKSB7XG4gICAgICAgICAgdmFyIGRyb3Bkb3duID0gbmF2SXRlbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWdhLW1lbnUtZHJvcGRvd25dJyk7XG4gICAgICAgICAgdmFyIGRyb3Bkb3duTGlua3MgPSBkcm9wZG93bi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tZWdhLW1lbnUtbGlua10nKTtcbiAgICAgICAgICBkcm9wZG93bkxpbmtzID0gX3RvQ29uc3VtYWJsZUFycmF5KGRyb3Bkb3duTGlua3MpO1xuICAgICAgICAgIHZhciBuYXZMaW5rID0gbmF2SXRlbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWdhLW1lbnUtcHJpbWFyeS1saW5rXScpOyAvLyBIb3ZlciBkZWxheSBldmVudHNcblxuICAgICAgICAgIG5hdkxpbmsuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMi5vcGVuRHJvcGRvd24oZHJvcGRvd24pO1xuXG4gICAgICAgICAgICBfdGhpczIudGFiYmFibGVFbGVtZW50cyA9IGRyb3Bkb3duTGlua3M7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbmF2TGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuYXZJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczIuY2xvc2VEcm9wZG93bnMoW2Ryb3Bkb3duXSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChkcm9wZG93biA9PT0gX3RoaXMyLmFjdGl2ZURyb3Bkb3duKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMyLmNsb3NlRHJvcGRvd25zKCk7XG5cbiAgICAgICAgICAgIF90aGlzMi50YWJiYWJsZUVsZW1lbnRzID0gbnVsbDtcbiAgICAgICAgICB9KTsgLy8gS2V5Ym9hcmQgY29udHJvbCBldmVudHNcblxuICAgICAgICAgIG5hdkxpbmsuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKCAvLyBjbG9zZSBkcm9wZG93bnMgZnJvbSBtYWluIG5hdlxuICAgICAgICAgICAgZHJvcGRvd24gPT09IF90aGlzMi5hY3RpdmVEcm9wZG93biAmJiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJ0Fycm93VXAnIHx8IGV2ZW50LmtleSA9PT0gJyAnKSkge1xuICAgICAgICAgICAgICBfdGhpczIuY2xvc2VEcm9wZG93bnMoW2Ryb3Bkb3duXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCAvLyBvcGVuIGRyb3Bkb3ducyBmcm9tIG1haW4gbmF2XG4gICAgICAgICAgICAhX3RoaXMyLmlzRHJvcGRvd25PcGVuICYmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnQXJyb3dEb3duJyB8fCBldmVudC5rZXkgPT09ICcgJykpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLm9wZW5Ecm9wZG93bihkcm9wZG93biwgbmF2SXRlbSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCAvLyBlbnRlciBpbnRvIGRyb3Bkb3duIGZyb20gbWFpbiBuYXZcbiAgICAgICAgICAgIF90aGlzMi5pc0Ryb3Bkb3duT3BlbiAmJiBkcm9wZG93biA9PT0gX3RoaXMyLmFjdGl2ZURyb3Bkb3duICYmIGV2ZW50LmtleSA9PT0gJ0Fycm93RG93bicpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLnN0ZXBOZXh0KGRyb3Bkb3duTGlua3MpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xuICAgICAgICAgICAgICAvLyBuYXZpZ2F0ZSBiZXR3ZWVuIG1haW4gbmF2IGl0ZW1zXG4gICAgICAgICAgICAgIF90aGlzMi5zdGVwTmV4dChfdGhpczIucHJpbWFyeUxpbmtzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSAnQXJyb3dMZWZ0Jykge1xuICAgICAgICAgICAgICBfdGhpczIuc3RlcFByZXYoX3RoaXMyLnByaW1hcnlMaW5rcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPj0gNjUgJiYgZXZlbnQua2V5Q29kZSA8PSA5MCkge1xuICAgICAgICAgICAgICAvLyBqdW1wIHRvIG1haW4gbmF2IGl0ZW1zIGJ5IGNoYXJcbiAgICAgICAgICAgICAgX3RoaXMyLmZvY3VzQ2hhcihldmVudCwgX3RoaXMyLnByaW1hcnlMaW5rcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZHJvcGRvd25MaW5rcy5mb3JFYWNoKGZ1bmN0aW9uIChkcm9wZG93bkxpbmspIHtcbiAgICAgICAgICAgIHZhciBzZWNvbmRhcnlMaW5rcyA9IGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lZ2EtbWVudS1zZWNvbmRhcnktbGlua10nKTtcbiAgICAgICAgICAgIHNlY29uZGFyeUxpbmtzID0gX3RvQ29uc3VtYWJsZUFycmF5KHNlY29uZGFyeUxpbmtzKTtcbiAgICAgICAgICAgIGRyb3Bkb3duTGluay5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgIC8vIG1vdmUgYmV0d2VlbiBsaW5rcyB3aXRoaW4gZHJvcGRvd25cbiAgICAgICAgICAgICAgaWYgKF90aGlzMi5pc0Ryb3Bkb3duT3BlbiAmJiBldmVudC5rZXkgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLnN0ZXBOZXh0KGRyb3Bkb3duTGlua3MpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5pc0Ryb3Bkb3duT3BlbiAmJiBldmVudC5rZXkgPT09ICdBcnJvd1VwJykge1xuICAgICAgICAgICAgICAgIF90aGlzMi5zdGVwUHJldihkcm9wZG93bkxpbmtzKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuaXNEcm9wZG93bk9wZW4gJiYgZXZlbnQua2V5ID09PSAnQXJyb3dSaWdodCcgJiYgIWRyb3Bkb3duTGluay5oYXNBdHRyaWJ1dGUoJ2RhdGEtbWVnYS1tZW51LWltYWdlJykpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuc3RlcE5leHQoc2Vjb25kYXJ5TGlua3MsIHRydWUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5pc0Ryb3Bkb3duT3BlbiAmJiBldmVudC5rZXkgPT09ICdBcnJvd0xlZnQnICYmICFkcm9wZG93bkxpbmsuaGFzQXR0cmlidXRlKCdkYXRhLW1lZ2EtbWVudS1pbWFnZScpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLnN0ZXBQcmV2KHNlY29uZGFyeUxpbmtzLCB0cnVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID49IDY1ICYmIGV2ZW50LmtleUNvZGUgPD0gOTApIHtcbiAgICAgICAgICAgICAgICAvLyBqdW1wIHRvIG1haW4gbmF2IGl0ZW1zIGJ5IGNoYXJcbiAgICAgICAgICAgICAgICBfdGhpczIuZm9jdXNDaGFyKGV2ZW50LCBzZWNvbmRhcnlMaW5rcyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoIC8vIHJldHVybiB0byBtYWluIG5hdiBmcm9tIGRyb3Bkb3duXG4gICAgICAgICAgICAgIF90aGlzMi5pc0Ryb3Bkb3duT3BlbiAmJiBkcm9wZG93bkxpbmtzLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgPT09IDAgJiYgZXZlbnQua2V5ID09PSAnQXJyb3dVcCcpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuc3RlcE5leHQoX3RoaXMyLnByaW1hcnlMaW5rcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VEcm9wZG93bnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfY2xvc2VEcm9wZG93bnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICB2YXIgdGFyZ2V0cyxcbiAgICAgICAgICAgICAgX2FyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgdGFyZ2V0cyA9IF9hcmdzLmxlbmd0aCA+IDAgJiYgX2FyZ3NbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzBdIDogdGhpcy5kcm9wZG93bnM7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgIHRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiAoZHJvcGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhcEZvY3VzLmNsb3NlKGRyb3Bkb3duKTtcbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xuICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmlzRHJvcGRvd25PcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5hY3RpdmVEcm9wZG93biA9IG51bGw7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnlJbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2xvc2VEcm9wZG93bnMoKSB7XG4gICAgICAgICAgcmV0dXJuIF9jbG9zZURyb3Bkb3ducy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNsb3NlRHJvcGRvd25zO1xuICAgICAgfSgpXG4gICAgfSwge1xuICAgICAga2V5OiBcIm9wZW5Ecm9wZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9vcGVuRHJvcGRvd24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGRyb3Bkb3duKSB7XG4gICAgICAgICAgdmFyIG5hdkl0ZW0sXG4gICAgICAgICAgICAgIF9hcmdzMiA9IGFyZ3VtZW50cztcbiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgbmF2SXRlbSA9IF9hcmdzMi5sZW5ndGggPiAxICYmIF9hcmdzMlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyWzFdIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NlRHJvcGRvd25zKCk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICBpZiAobmF2SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFwRm9jdXMub3BlbihuYXZJdGVtKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVEcm9wZG93biA9IGRyb3Bkb3duO1xuICAgICAgICAgICAgICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuICAgICAgICAgICAgICAgICAgZHJvcGRvd24uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5pc0Ryb3Bkb3duT3BlbiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7XG4gICAgICAgIH0pKTtcblxuICAgICAgICBmdW5jdGlvbiBvcGVuRHJvcGRvd24oX3gpIHtcbiAgICAgICAgICByZXR1cm4gX29wZW5Ecm9wZG93bi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wZW5Ecm9wZG93bjtcbiAgICAgIH0oKVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzdGVwTmV4dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN0ZXBOZXh0KGxpbmtMaXN0KSB7XG4gICAgICAgIHZhciBzZWNvbmRhcnlIZWFkZXJzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgICAgdmFyIGZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgZm9jdXNlZEVsZW1lbnQgPSBzZWNvbmRhcnlIZWFkZXJzID8gZm9jdXNlZEVsZW1lbnQuY2xvc2VzdCgnW3JvbGU9bWVudScpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZ2EtbWVudS1zZWNvbmRhcnktbGluaycpIDogZm9jdXNlZEVsZW1lbnQ7XG4gICAgICAgIHZhciBhY3RpdmVJbmRleCA9IGxpbmtMaXN0LmluZGV4T2YoZm9jdXNlZEVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChhY3RpdmVJbmRleCArIDEgPCBsaW5rTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICBsaW5rTGlzdFthY3RpdmVJbmRleCArIDFdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic3RlcFByZXZcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdGVwUHJldihsaW5rTGlzdCkge1xuICAgICAgICB2YXIgc2Vjb25kYXJ5SGVhZGVycyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICAgIHZhciBmb2N1c2VkRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGZvY3VzZWRFbGVtZW50ID0gc2Vjb25kYXJ5SGVhZGVycyA/IGZvY3VzZWRFbGVtZW50LmNsb3Nlc3QoJ1tyb2xlPW1lbnUnKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWdhLW1lbnUtc2Vjb25kYXJ5LWxpbmsnKSA6IGZvY3VzZWRFbGVtZW50O1xuICAgICAgICB2YXIgYWN0aXZlSW5kZXggPSBsaW5rTGlzdC5pbmRleE9mKGZvY3VzZWRFbGVtZW50KTtcblxuICAgICAgICBpZiAoYWN0aXZlSW5kZXggLSAxID49IDApIHtcbiAgICAgICAgICBsaW5rTGlzdFthY3RpdmVJbmRleCAtIDFdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZm9jdXNDaGFyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXNDaGFyKGV2ZW50LCBsaW5rTGlzdCkge1xuICAgICAgICAvLyBGaW5kIGFsbCBlbGVtZW50cyB3aGVyZSB0aGUgZmlyc3QgbGV0dGVyIGlzIHRoZSBwcmVzc2VkIGtleSBBTkQgdGhlIGFjdGl2ZSBlbGVtZW50XG4gICAgICAgIHZhciByZWxldmFudEFycmF5ID0gX3RvQ29uc3VtYWJsZUFycmF5KGxpbmtMaXN0KS5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkLnRleHRDb250ZW50LnRyaW0oKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKSA9PT0gZXZlbnQua2V5IHx8IGNoaWxkID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICB9KTsgLy8gR2V0IGN1cnJlbnQgYWN0aXZlIGVsZW1lbnQgaW5kZXhcblxuXG4gICAgICAgIHZhciBhY3RpdmVJbmRleCA9IF90b0NvbnN1bWFibGVBcnJheShyZWxldmFudEFycmF5KS5maW5kSW5kZXgoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICB9KTsgLy8gT2Zmc2V0IHRoZSBhcnJheSBieSB0aGUgY3VycmVudCBhY3RpdmUgZWxlbWVudC4gQWxsb3dzIHVzaW5nIHRoZSBmb2N1cyBmdW5jdGlvbiB0byBzZWxlY3QgdGhlIG5leHQvcHJldlxuXG5cbiAgICAgICAgdmFyIG9mZnNldEFycmF5ID0gdGhpcy5vZmZzZXRBcnJheShyZWxldmFudEFycmF5LCBhY3RpdmVJbmRleCk7IC8vIEdldCBvbmx5IHRoZSByZWxldmFudCBrZXkgaXRlbXMgKHJlbW92ZXMgYWN0aXZlIGVsZW1lbnQgaWYgaXQgZG9lcyBub3QgbWF0Y2gpXG5cbiAgICAgICAgdmFyIGNoYXJhY3RlckFycmF5ID0gX3RvQ29uc3VtYWJsZUFycmF5KG9mZnNldEFycmF5KS5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkLnRleHRDb250ZW50LnRyaW0oKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKSA9PT0gZXZlbnQua2V5O1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWNoYXJhY3RlckFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RlcE5leHQoY2hhcmFjdGVyQXJyYXkpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvZmZzZXRBcnJheVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9mZnNldEFycmF5KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RvQ29uc3VtYWJsZUFycmF5KGFycmF5KS5zbGljZShvZmZzZXQpKSwgX3RvQ29uc3VtYWJsZUFycmF5KF90b0NvbnN1bWFibGVBcnJheShhcnJheSkuc2xpY2UoMCwgb2Zmc2V0KSkpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNZWdhTWVudTtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKSk7XG59KSgpOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/sections/mega-menu/mega-menu.js\n");

/***/ }),

/***/ "./src/views/sections/mobile-mega-menu/mobile-mega-menu.js":
/*!*****************************************************************!*\
  !*** ./src/views/sections/mobile-mega-menu/mobile-mega-menu.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3Mvc2VjdGlvbnMvbW9iaWxlLW1lZ2EtbWVudS9tb2JpbGUtbWVnYS1tZW51LmpzLmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/sections/mobile-mega-menu/mobile-mega-menu.js\n");

/***/ }),

/***/ "./src/views/sections/mobile-nav/mobile-nav.js":
/*!*****************************************************!*\
  !*** ./src/views/sections/mobile-nav/mobile-nav.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function mobileNav() {\n  var submenus = document.querySelectorAll('[data-mobile-nav-submenu]');\n  var submenuOpenButtons = document.querySelectorAll('[data-mobile-nav-submenu-open]');\n  var submenuCloseButtons = document.querySelectorAll('[data-mobile-nav-submenu-close]');\n\n  if (!submenus.length) {\n    return;\n  }\n\n  submenuOpenButtons.forEach(function (submenuOpenButton, i) {\n    submenuOpenButton.addEventListener('click', function () {\n      submenus.forEach(function (submenu, j) {\n        submenus[j].classList.add('hide');\n        submenuOpenButtons[j].classList.remove('hide');\n        submenuCloseButtons[j].classList.add('hide');\n      });\n      submenus[i].classList.remove('hide');\n      submenuOpenButtons[i].classList.add('hide');\n      submenuCloseButtons[i].classList.remove('hide');\n      submenuCloseButtons[i].focus();\n    });\n  });\n  submenuCloseButtons.forEach(function (submenuCloseButton, i) {\n    submenuCloseButton.addEventListener('click', function () {\n      submenus[i].classList.add('hide');\n      submenuOpenButtons[i].classList.remove('hide');\n      submenuOpenButtons[i].focus();\n      submenuCloseButtons[i].classList.add('hide');\n    });\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  mobileNav();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3Mvc2VjdGlvbnMvbW9iaWxlLW5hdi9tb2JpbGUtbmF2LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3NlY3Rpb25zL21vYmlsZS1uYXYvbW9iaWxlLW5hdi5qcz9lMWM5Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIG1vYmlsZU5hdigpIHtcbiAgdmFyIHN1Ym1lbnVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9iaWxlLW5hdi1zdWJtZW51XScpO1xuICB2YXIgc3VibWVudU9wZW5CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9iaWxlLW5hdi1zdWJtZW51LW9wZW5dJyk7XG4gIHZhciBzdWJtZW51Q2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9iaWxlLW5hdi1zdWJtZW51LWNsb3NlXScpO1xuXG4gIGlmICghc3VibWVudXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3VibWVudU9wZW5CdXR0b25zLmZvckVhY2goZnVuY3Rpb24gKHN1Ym1lbnVPcGVuQnV0dG9uLCBpKSB7XG4gICAgc3VibWVudU9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBzdWJtZW51cy5mb3JFYWNoKGZ1bmN0aW9uIChzdWJtZW51LCBqKSB7XG4gICAgICAgIHN1Ym1lbnVzW2pdLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcbiAgICAgICAgc3VibWVudU9wZW5CdXR0b25zW2pdLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcbiAgICAgICAgc3VibWVudUNsb3NlQnV0dG9uc1tqXS5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XG4gICAgICB9KTtcbiAgICAgIHN1Ym1lbnVzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcbiAgICAgIHN1Ym1lbnVPcGVuQnV0dG9uc1tpXS5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XG4gICAgICBzdWJtZW51Q2xvc2VCdXR0b25zW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcbiAgICAgIHN1Ym1lbnVDbG9zZUJ1dHRvbnNbaV0uZm9jdXMoKTtcbiAgICB9KTtcbiAgfSk7XG4gIHN1Ym1lbnVDbG9zZUJ1dHRvbnMuZm9yRWFjaChmdW5jdGlvbiAoc3VibWVudUNsb3NlQnV0dG9uLCBpKSB7XG4gICAgc3VibWVudUNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgc3VibWVudXNbaV0uY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xuICAgICAgc3VibWVudU9wZW5CdXR0b25zW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcbiAgICAgIHN1Ym1lbnVPcGVuQnV0dG9uc1tpXS5mb2N1cygpO1xuICAgICAgc3VibWVudUNsb3NlQnV0dG9uc1tpXS5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICBtb2JpbGVOYXYoKTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/views/sections/mobile-nav/mobile-nav.js\n");

/***/ }),

/***/ "./src/views/sections/product/product.js":
/*!***********************************************!*\
  !*** ./src/views/sections/product/product.js ***!
  \***********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _product_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./product.scss */ \"./src/views/sections/product/product.scss\");\n/* harmony import */ var _snippets_product_gallery_product_gallery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @snippets/product-gallery/product-gallery */ \"./src/views/snippets/product-gallery/product-gallery.js\");\n/* harmony import */ var _snippets_back_in_stock_form_back_in_stock_form__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @snippets/back-in-stock-form/back-in-stock-form */ \"./src/views/snippets/back-in-stock-form/back-in-stock-form.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n// Import CSS\n // Snippets\n\n\n\n\n(function () {\n  if (typeof window.customElements.get('product-wrap') !== 'undefined') {\n    return;\n  }\n\n  var ProductWrap = /*#__PURE__*/function (_HTMLElement) {\n    _inherits(ProductWrap, _HTMLElement);\n\n    var _super = _createSuper(ProductWrap);\n\n    function ProductWrap() {\n      var _this;\n\n      _classCallCheck(this, ProductWrap);\n\n      _this = _super.call(this);\n      _this.productSelect = _this.querySelector('[data-product-select]');\n      _this.productPriceEls = _this.querySelectorAll('[data-product-price]');\n      _this.productComparePriceWrapEls = _this.querySelectorAll('[data-product-compare-price-wrap]');\n      _this.productComparePriceEls = _this.querySelectorAll('[data-product-compare-price]');\n      _this.productSubscribeComparePriceEls = _this.querySelectorAll('[data-product-non-subscription-price]');\n      _this.productSubscribePriceEl = _this.querySelector('[data-product-subscribe-price]');\n      _this.sectionId = _this.getAttribute('data-section-id');\n      _this.submitButton = _this.querySelector('[data-product-submit]');\n      _this.submitButtonTextEls = _this.querySelectorAll('[data-product-submit-text]');\n      _this.selectedVariantData = null;\n      _this.selectedVariantSellingPlan = null;\n      _this.isSellingPlanSelected = false;\n      _this.productData = null;\n\n      _this.initProductSection();\n\n      return _this;\n    }\n\n    _createClass(ProductWrap, [{\n      key: \"initProductSection\",\n      value: function () {\n        var _initProductSection = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return fetch(\"/products/\".concat(this.dataset.productHandle, \".js\")).then(function (res) {\n                    return res.json();\n                  });\n\n                case 3:\n                  this.productData = _context.sent;\n                  this.associatedProductsInit();\n                  this.productFormInit();\n                  this.productOptionsInit();\n                  this.productGalleriesInit();\n                  _context.next = 13;\n                  break;\n\n                case 10:\n                  _context.prev = 10;\n                  _context.t0 = _context[\"catch\"](0);\n                  console.error(_context.t0);\n\n                case 13:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this, [[0, 10]]);\n        }));\n\n        function initProductSection() {\n          return _initProductSection.apply(this, arguments);\n        }\n\n        return initProductSection;\n      }()\n    }, {\n      key: \"productFormInit\",\n      value: function productFormInit() {\n        var _this2 = this;\n\n        var currentUrl = new URL(document.location);\n        this.productSelect.addEventListener('change', function () {\n          _this2.getCurrentVariantData();\n\n          _this2.updateProductPrices();\n\n          _this2.updateButtonState();\n\n          currentUrl.searchParams.set('variant', _this2.selectedVariantData.id);\n          window.history.replaceState(null, null, currentUrl.toString());\n        });\n        this.getCurrentVariantData();\n        this.subscriptionOptionsInit();\n      }\n    }, {\n      key: \"updateButtonState\",\n      value: function updateButtonState() {\n        if (!this.submitButton || !this.selectedVariantData) {\n          return;\n        }\n\n        var buttonState = this.selectedVariantData.available ? 'add' : 'sold-out';\n        this.submitButton.disabled = !this.selectedVariantData.available;\n        this.submitButtonTextEls.forEach(function (textEl) {\n          return textEl.classList.toggle('d-none', buttonState !== textEl.dataset.state);\n        });\n      }\n    }, {\n      key: \"associatedProductsInit\",\n      value: function () {\n        var _associatedProductsInit = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n          var _this3 = this;\n\n          var associatedProductToggles, associatedProductEls, sectionPromises, sectionPromisesResults, _iterator, _step, result, response, parser, responseDoc, responseSection;\n\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  associatedProductToggles = this.querySelectorAll('[data-associated-product-toggle]');\n                  associatedProductEls = document.querySelectorAll(\"[data-section-id=\\\"\".concat(this.sectionId, \"\\\"]\"));\n\n                  if (associatedProductToggles.length) {\n                    _context3.next = 4;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\");\n\n                case 4:\n                  if (this.hasAttribute('data-associated-product-section')) {\n                    _context3.next = 38;\n                    break;\n                  }\n\n                  sectionPromises = _toConsumableArray(associatedProductToggles).filter(function (toggle) {\n                    return toggle.dataset.handle !== _this3.dataset.productHandle;\n                  }).map(function (toggle) {\n                    return fetch(\"\".concat(toggle.dataset.url, \"?sections=\").concat(_this3.sectionId));\n                  });\n                  _context3.next = 8;\n                  return Promise.allSettled(sectionPromises);\n\n                case 8:\n                  sectionPromisesResults = _context3.sent;\n                  _iterator = _createForOfIteratorHelper(sectionPromisesResults);\n                  _context3.prev = 10;\n\n                  _iterator.s();\n\n                case 12:\n                  if ((_step = _iterator.n()).done) {\n                    _context3.next = 29;\n                    break;\n                  }\n\n                  result = _step.value;\n\n                  if (!(result.status === 'fulfilled')) {\n                    _context3.next = 26;\n                    break;\n                  }\n\n                  _context3.next = 17;\n                  return result.value.json();\n\n                case 17:\n                  response = _context3.sent;\n                  parser = new window.DOMParser();\n                  responseDoc = parser.parseFromString(response[this.sectionId], 'text/html');\n                  responseSection = responseDoc.querySelector('product-wrap');\n                  responseSection.setAttribute('data-associated-product-section', '');\n                  responseSection.classList.add('hide');\n                  this.insertAdjacentElement('afterend', responseSection);\n                  _context3.next = 27;\n                  break;\n\n                case 26:\n                  console.error(result.value);\n\n                case 27:\n                  _context3.next = 12;\n                  break;\n\n                case 29:\n                  _context3.next = 34;\n                  break;\n\n                case 31:\n                  _context3.prev = 31;\n                  _context3.t0 = _context3[\"catch\"](10);\n\n                  _iterator.e(_context3.t0);\n\n                case 34:\n                  _context3.prev = 34;\n\n                  _iterator.f();\n\n                  return _context3.finish(34);\n\n                case 37:\n                  associatedProductEls = document.querySelectorAll(\"[data-section-id=\\\"\".concat(this.sectionId, \"\\\"]\"));\n\n                case 38:\n                  associatedProductToggles.forEach(function (toggle) {\n                    toggle.addEventListener('change', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                      var matchingSection, matchingSectionButton, historyUrl;\n                      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                        while (1) {\n                          switch (_context2.prev = _context2.next) {\n                            case 0:\n                              matchingSection = _toConsumableArray(associatedProductEls).find(function (productEl) {\n                                return productEl.dataset.productHandle === toggle.dataset.handle;\n                              });\n\n                              if (matchingSection) {\n                                _context2.next = 3;\n                                break;\n                              }\n\n                              return _context2.abrupt(\"return\");\n\n                            case 3:\n                              associatedProductEls.forEach(function (productEl) {\n                                productEl.classList.toggle('hide', productEl.dataset.productHandle !== toggle.dataset.handle);\n                              });\n                              matchingSectionButton = matchingSection.querySelector(\"[data-associated-product-toggle][data-handle=\\\"\".concat(toggle.dataset.handle, \"\\\"]\"));\n\n                              if (matchingSectionButton) {\n                                matchingSectionButton.checked = true;\n                                matchingSectionButton.focus();\n                              }\n\n                              historyUrl = \"\".concat(toggle.dataset.url).concat(matchingSection !== null && matchingSection !== void 0 && matchingSection.selectedVariantData ? \"?variant=\".concat(matchingSection.selectedVariantData.id) : '');\n                              window.history.replaceState({}, toggle.dataset.title, historyUrl);\n                              window.scrollTo(0, 0);\n\n                            case 9:\n                            case \"end\":\n                              return _context2.stop();\n                          }\n                        }\n                      }, _callee2);\n                    })));\n                  });\n\n                case 39:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this, [[10, 31, 34, 37]]);\n        }));\n\n        function associatedProductsInit() {\n          return _associatedProductsInit.apply(this, arguments);\n        }\n\n        return associatedProductsInit;\n      }()\n    }, {\n      key: \"getCurrentVariantData\",\n      value: function getCurrentVariantData() {\n        var variantId = this.productSelect.value;\n        this.selectedVariantData = this.productData.variants.find(function (variant) {\n          return variant.id === Number(variantId);\n        });\n      }\n    }, {\n      key: \"productOptionsInit\",\n      value: function productOptionsInit() {\n        var _this4 = this;\n\n        var optionsParentEl = this.querySelector('[data-product-options]');\n        var optionGroups = this.querySelectorAll('[data-product-option-group]');\n        var optionRadios = this.querySelectorAll('[data-product-option][data-type=\"radio\"]');\n        var variantStockMessage = this.querySelector('[data-variant-stock-message]');\n        var quantitySelectInput = this.querySelector('[data-quantity-input]');\n        var bisEl = this.querySelector('bis-form');\n\n        if (!optionsParentEl || !optionGroups.length) {\n          return;\n        }\n\n        var unavailableDisplay = optionsParentEl.getAttribute('data-unavailable-display');\n\n        var getNextExistingVariant = function getNextExistingVariant(selectedOptions, optionIndex) {\n          var nextVariant = _this4.productData.variants.find(function (variant) {\n            return variant[\"option\".concat(optionIndex)] === selectedOptions[\"option\".concat(optionIndex)];\n          });\n\n          var nextVariantOptions = nextVariant.options.reduce(function (object, option, index) {\n            object[\"option\".concat(index + 1)] = option;\n            return object;\n          }, {});\n          return {\n            nextVariantOptions: nextVariantOptions,\n            nextVariant: nextVariant\n          };\n        };\n\n        var getSelectedOptions = function getSelectedOptions() {\n          var selectedOptions = _toConsumableArray(optionGroups).reduce(function (object, group) {\n            var value = null;\n\n            if (group.dataset.type === 'select') {\n              var select = group.querySelector('[data-product-option]');\n              value = select.value;\n            } else {\n              value = group.querySelector('[data-product-option]:checked').value;\n            }\n\n            object[\"option\".concat(group.dataset.optionIndex)] = value;\n            return object;\n          }, {});\n\n          return selectedOptions;\n        };\n\n        var updateSelectedText = function updateSelectedText(group, input) {\n          optionGroups.forEach(function (optionGroup) {\n            var selectedInput = optionGroup.querySelector('[data-product-option]:checked');\n            var selectedTextEl = optionGroup.querySelector('[data-product-option-group-selected-text]');\n            if (!selectedTextEl || !selectedInput) return;\n            var selectedText = selectedInput.dataset.selectedText;\n            selectedTextEl.textContent = selectedText;\n          });\n        };\n\n        var updateVariantStockMessage = function updateVariantStockMessage(policy, quantity) {\n          var variantQuantity = parseInt(quantity, 10);\n          if (!variantStockMessage) return;\n          variantStockMessage.classList.add('hide');\n\n          if (policy === 'deny' && variantQuantity > 0 && variantQuantity < parseInt(variantStockMessage.dataset.lowStockBreakpoint, 10)) {\n            variantStockMessage.classList.remove('hide');\n          }\n        };\n\n        var updateQuanitySelect = function updateQuanitySelect(selectedVariant) {\n          if (!quantitySelectInput || !selectedVariant) {\n            return;\n          }\n\n          var selectedOption = _this4.productSelect.querySelector(\"option[value=\\\"\".concat(selectedVariant.id, \"\\\"]\"));\n\n          var _selectedOption$datas = selectedOption.dataset,\n              inventoryQuantity = _selectedOption$datas.inventoryQuantity,\n              inventoryPolicy = _selectedOption$datas.inventoryPolicy;\n\n          if (quantitySelectInput.value > inventoryQuantity && inventoryQuantity > 0) {\n            quantitySelectInput.value = inventoryQuantity;\n          }\n\n          var maxValue = inventoryPolicy === 'continue' ? 99 : inventoryQuantity;\n          quantitySelectInput.max = maxValue;\n          updateVariantStockMessage(inventoryPolicy, inventoryQuantity);\n        };\n\n        var updateOptionRadios = function updateOptionRadios(selectedOptions) {\n          optionRadios.forEach(function (optionRadio, index) {\n            var inputOptions = _objectSpread({}, selectedOptions);\n\n            var parentItemEl = optionRadio.closest('[data-product-option-item]');\n            var optionIndex = Number(optionRadio.dataset.optionIndex);\n            inputOptions[\"option\".concat(optionIndex)] = optionRadio.value;\n            var matchingVariant = getVariantByOptions(inputOptions);\n            optionRadio.checked = optionRadio.value === selectedOptions[\"option\".concat(optionIndex)];\n            parentItemEl.classList.toggle('unavailable', !matchingVariant);\n            parentItemEl.classList.toggle('soldout', (matchingVariant === null || matchingVariant === void 0 ? void 0 : matchingVariant.available) === false);\n          });\n        };\n\n        var getVariantByOptions = function getVariantByOptions(options) {\n          var matchingVariant = _this4.productData.variants.find(function (variant) {\n            var isMatch = true;\n\n            for (var _i = 0, _Object$entries = Object.entries(options); _i < _Object$entries.length; _i++) {\n              var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n                  key = _Object$entries$_i[0],\n                  value = _Object$entries$_i[1];\n\n              if (variant[key] !== value) {\n                isMatch = false;\n                break;\n              }\n            }\n\n            return isMatch;\n          });\n\n          return matchingVariant || null;\n        };\n\n        var setAtcButtonUnavailable = function setAtcButtonUnavailable() {\n          if (!_this4.submitButton) {\n            return;\n          }\n\n          var buttonState = 'unavailable';\n          _this4.submitButton.disabled = true;\n\n          _this4.submitButtonTextEls.forEach(function (textEl) {\n            return textEl.classList.toggle('d-none', buttonState !== textEl.dataset.state);\n          });\n        };\n\n        optionGroups.forEach(function (optionGroup) {\n          optionGroup.addEventListener('change', function (event) {\n            handleOptionChange(optionGroup);\n          });\n        });\n\n        var handleOptionChange = function handleOptionChange(group) {\n          var selectedOptions = getSelectedOptions();\n          var selectedVariant = getVariantByOptions(selectedOptions);\n\n          if (!selectedVariant && unavailableDisplay === 'select-next-available') {\n            var nextVariantData = getNextExistingVariant(selectedOptions, group.dataset.optionIndex);\n            selectedOptions = nextVariantData.nextVariantOptions;\n            selectedVariant = nextVariantData.nextVariant;\n          }\n\n          updateOptionRadios(selectedOptions);\n          updateSelectedText();\n          updateQuanitySelect(selectedVariant);\n\n          if (bisEl) {\n            bisEl.handleVariantUpdate(selectedVariant);\n          }\n\n          if (selectedVariant) {\n            _this4.productSelect.value = selectedVariant.id;\n\n            _this4.productSelect.dispatchEvent(new Event('change'));\n          } else {\n            setAtcButtonUnavailable();\n          }\n        };\n\n        handleOptionChange(optionGroups[0]);\n      }\n    }, {\n      key: \"updateProductPrices\",\n      value: function updateProductPrices() {\n        var price = this.selectedVariantData.price;\n        var comparePrice = this.selectedVariantData.compare_at_price;\n\n        if (this.isSellingPlanSelected && this.selectedVariantSellingPlan) {\n          price = this.selectedVariantSellingPlan.price;\n          comparePrice = this.selectedVariantSellingPlan.compare_at_price;\n        } // Base prices\n\n\n        this.productPriceEls.forEach(function (productPriceEl) {\n          productPriceEl.textContent = Shopify.formatMoney(price, theme.moneyFormat);\n        }); // Compare at prices\n\n        this.productComparePriceWrapEls.forEach(function (priceWrapEl) {\n          priceWrapEl.classList.toggle('d-none', !comparePrice || price > comparePrice);\n        });\n        this.productComparePriceEls.forEach(function (priceEl) {\n          priceEl.textContent = Shopify.formatMoney(comparePrice, theme.moneyFormat);\n        });\n      }\n    }, {\n      key: \"subscriptionOptionsInit\",\n      value: function subscriptionOptionsInit() {\n        var _this5 = this;\n\n        var sellingPlansGroupWrap = this.querySelector('[data-product-selling-plan-group-wrap]');\n        var sellingPlansGroupEls = this.querySelectorAll('[data-product-selling-plan-group]');\n\n        if (!sellingPlansGroupEls.length) {\n          return;\n        }\n\n        var subscriptionToggleRadios = this.querySelectorAll('[data-product-subscription-toggle]');\n        var sellingPlanHiddenInput = this.querySelector('[data-product-selling-plan-input]');\n        var currentSellingPlanGroupEl = null;\n        var currentSellingPlanSelect = null;\n        sellingPlansGroupEls.forEach(function (sellingPlansGroupEl) {\n          var sellingPlanSelect = sellingPlansGroupEl.querySelector('[data-product-selling-plans-select]');\n          sellingPlanSelect.addEventListener('change', function () {\n            sellingPlanHiddenInput.value = sellingPlanSelect.value;\n            _this5.selectedVariantSellingPlan = _this5.selectedVariantData.selling_plan_allocations.find(function (allocation) {\n              return allocation.selling_plan_id === Number(sellingPlanSelect.value);\n            });\n\n            _this5.updateProductPrices();\n          });\n        });\n\n        var updateCurrentSellingPlan = function updateCurrentSellingPlan() {\n          var variantSellingPlanGroupIds = _this5.selectedVariantData.selling_plan_allocations.map(function (allocation) {\n            return allocation.selling_plan_group_id;\n          });\n\n          currentSellingPlanGroupEl = _toConsumableArray(sellingPlansGroupEls).find(function (groupEl) {\n            return variantSellingPlanGroupIds.includes(groupEl.dataset.id);\n          });\n          currentSellingPlanSelect = currentSellingPlanGroupEl.querySelector('[data-product-selling-plans-select]');\n          _this5.selectedVariantSellingPlan = _this5.selectedVariantData.selling_plan_allocations.find(function (allocation) {\n            return allocation.selling_plan_id === Number(currentSellingPlanSelect.value);\n          });\n          sellingPlanHiddenInput.value = currentSellingPlanSelect.value;\n        };\n\n        var updateSellingPlanGroups = function updateSellingPlanGroups() {\n          sellingPlansGroupEls.forEach(function (groupEl) {\n            return groupEl.classList.toggle('d-none', groupEl.dataset.id !== _this5.selectedVariantSellingPlan.selling_plan_group_id);\n          });\n        };\n\n        var updateSellingPlanPrices = function updateSellingPlanPrices() {\n          if (!_this5.selectedVariantSellingPlan) {\n            return;\n          }\n\n          _this5.productSubscribeComparePriceEls.forEach(function (priceEl) {\n            priceEl.textContent = Shopify.formatMoney(_this5.selectedVariantData.price);\n          });\n\n          _this5.productSubscribePriceEl.textContent = Shopify.formatMoney(_this5.selectedVariantSellingPlan.price);\n        };\n\n        subscriptionToggleRadios.forEach(function (toggleRadio) {\n          toggleRadio.addEventListener('change', function () {\n            _this5.isSellingPlanSelected = toggleRadio.value === 'subscription';\n            sellingPlansGroupWrap.classList.toggle('d-none', !_this5.isSellingPlanSelected);\n            updateCurrentSellingPlan();\n            updateSellingPlanGroups();\n\n            _this5.updateProductPrices();\n          });\n        });\n        this.productSelect.addEventListener('change', function (event) {\n          updateCurrentSellingPlan();\n          updateSellingPlanGroups();\n          updateSellingPlanPrices();\n\n          _this5.updateProductPrices();\n        });\n      }\n    }, {\n      key: \"productGalleriesInit\",\n      value: function productGalleriesInit() {\n        var _this6 = this;\n\n        var galleryCarousels = this.querySelectorAll('product-gallery-carousel');\n        var gridGallery = this.querySelector('product-gallery-grid');\n        var simpleGallery = this.querySelector('product-gallery-simple');\n        galleryCarousels.forEach(function (carousel) {\n          carousel.selectedVariant = _this6.selectedVariantData;\n        });\n        this.productSelect.addEventListener('change', function () {\n          galleryCarousels.forEach(function (carousel) {\n            carousel.selectedVariant = _this6.selectedVariantData;\n          });\n\n          if (gridGallery) {\n            gridGallery.selectedVariant = _this6.selectedVariantData;\n          }\n\n          if (simpleGallery) {\n            simpleGallery.selectedVariant = _this6.selectedVariantData;\n          }\n        });\n      }\n    }]);\n\n    return ProductWrap;\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement));\n\n  window.customElements.define('product-wrap', ProductWrap);\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3Mvc2VjdGlvbnMvcHJvZHVjdC9wcm9kdWN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3NlY3Rpb25zL3Byb2R1Y3QvcHJvZHVjdC5qcz8zZjgzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9LCBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTsgaWYgKF9pID09IG51bGwpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfcywgX2U7IHRyeSB7IGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgdGhyb3cgX2UyOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UzKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMzsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkOyBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzOyBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7IGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpOyBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTsgfSBmdW5jdGlvbiBXcmFwcGVyKCkgeyByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpOyB9OyByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0OyB9IGVsc2UgeyBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IHZhciBhID0gW251bGxdOyBhLnB1c2guYXBwbHkoYSwgYXJncyk7IHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTsgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7IGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpOyByZXR1cm4gaW5zdGFuY2U7IH07IH0gcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHsgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbi8vIEltcG9ydCBDU1NcbmltcG9ydCAnLi9wcm9kdWN0LnNjc3MnOyAvLyBTbmlwcGV0c1xuXG5pbXBvcnQgJ0BzbmlwcGV0cy9wcm9kdWN0LWdhbGxlcnkvcHJvZHVjdC1nYWxsZXJ5JztcbmltcG9ydCAnQHNuaXBwZXRzL2JhY2staW4tc3RvY2stZm9ybS9iYWNrLWluLXN0b2NrLWZvcm0nO1xuXG4oZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQoJ3Byb2R1Y3Qtd3JhcCcpICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBQcm9kdWN0V3JhcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7XG4gICAgX2luaGVyaXRzKFByb2R1Y3RXcmFwLCBfSFRNTEVsZW1lbnQpO1xuXG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihQcm9kdWN0V3JhcCk7XG5cbiAgICBmdW5jdGlvbiBQcm9kdWN0V3JhcCgpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb2R1Y3RXcmFwKTtcblxuICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgIF90aGlzLnByb2R1Y3RTZWxlY3QgPSBfdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcm9kdWN0LXNlbGVjdF0nKTtcbiAgICAgIF90aGlzLnByb2R1Y3RQcmljZUVscyA9IF90aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByb2R1Y3QtcHJpY2VdJyk7XG4gICAgICBfdGhpcy5wcm9kdWN0Q29tcGFyZVByaWNlV3JhcEVscyA9IF90aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByb2R1Y3QtY29tcGFyZS1wcmljZS13cmFwXScpO1xuICAgICAgX3RoaXMucHJvZHVjdENvbXBhcmVQcmljZUVscyA9IF90aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByb2R1Y3QtY29tcGFyZS1wcmljZV0nKTtcbiAgICAgIF90aGlzLnByb2R1Y3RTdWJzY3JpYmVDb21wYXJlUHJpY2VFbHMgPSBfdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcm9kdWN0LW5vbi1zdWJzY3JpcHRpb24tcHJpY2VdJyk7XG4gICAgICBfdGhpcy5wcm9kdWN0U3Vic2NyaWJlUHJpY2VFbCA9IF90aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2R1Y3Qtc3Vic2NyaWJlLXByaWNlXScpO1xuICAgICAgX3RoaXMuc2VjdGlvbklkID0gX3RoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXNlY3Rpb24taWQnKTtcbiAgICAgIF90aGlzLnN1Ym1pdEJ1dHRvbiA9IF90aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2R1Y3Qtc3VibWl0XScpO1xuICAgICAgX3RoaXMuc3VibWl0QnV0dG9uVGV4dEVscyA9IF90aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXByb2R1Y3Qtc3VibWl0LXRleHRdJyk7XG4gICAgICBfdGhpcy5zZWxlY3RlZFZhcmlhbnREYXRhID0gbnVsbDtcbiAgICAgIF90aGlzLnNlbGVjdGVkVmFyaWFudFNlbGxpbmdQbGFuID0gbnVsbDtcbiAgICAgIF90aGlzLmlzU2VsbGluZ1BsYW5TZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgX3RoaXMucHJvZHVjdERhdGEgPSBudWxsO1xuXG4gICAgICBfdGhpcy5pbml0UHJvZHVjdFNlY3Rpb24oKTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhQcm9kdWN0V3JhcCwgW3tcbiAgICAgIGtleTogXCJpbml0UHJvZHVjdFNlY3Rpb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfaW5pdFByb2R1Y3RTZWN0aW9uID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwO1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goXCIvcHJvZHVjdHMvXCIuY29uY2F0KHRoaXMuZGF0YXNldC5wcm9kdWN0SGFuZGxlLCBcIi5qc1wiKSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3REYXRhID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYXNzb2NpYXRlZFByb2R1Y3RzSW5pdCgpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0Rm9ybUluaXQoKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdE9wdGlvbnNJbml0KCk7XG4gICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RHYWxsZXJpZXNJbml0KCk7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oMCk7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKF9jb250ZXh0LnQwKTtcblxuICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbMCwgMTBdXSk7XG4gICAgICAgIH0pKTtcblxuICAgICAgICBmdW5jdGlvbiBpbml0UHJvZHVjdFNlY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF9pbml0UHJvZHVjdFNlY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbml0UHJvZHVjdFNlY3Rpb247XG4gICAgICB9KClcbiAgICB9LCB7XG4gICAgICBrZXk6IFwicHJvZHVjdEZvcm1Jbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcHJvZHVjdEZvcm1Jbml0KCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgY3VycmVudFVybCA9IG5ldyBVUkwoZG9jdW1lbnQubG9jYXRpb24pO1xuICAgICAgICB0aGlzLnByb2R1Y3RTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5nZXRDdXJyZW50VmFyaWFudERhdGEoKTtcblxuICAgICAgICAgIF90aGlzMi51cGRhdGVQcm9kdWN0UHJpY2VzKCk7XG5cbiAgICAgICAgICBfdGhpczIudXBkYXRlQnV0dG9uU3RhdGUoKTtcblxuICAgICAgICAgIGN1cnJlbnRVcmwuc2VhcmNoUGFyYW1zLnNldCgndmFyaWFudCcsIF90aGlzMi5zZWxlY3RlZFZhcmlhbnREYXRhLmlkKTtcbiAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgY3VycmVudFVybC50b1N0cmluZygpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0Q3VycmVudFZhcmlhbnREYXRhKCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uT3B0aW9uc0luaXQoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidXBkYXRlQnV0dG9uU3RhdGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCdXR0b25TdGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN1Ym1pdEJ1dHRvbiB8fCAhdGhpcy5zZWxlY3RlZFZhcmlhbnREYXRhKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1dHRvblN0YXRlID0gdGhpcy5zZWxlY3RlZFZhcmlhbnREYXRhLmF2YWlsYWJsZSA/ICdhZGQnIDogJ3NvbGQtb3V0JztcbiAgICAgICAgdGhpcy5zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSAhdGhpcy5zZWxlY3RlZFZhcmlhbnREYXRhLmF2YWlsYWJsZTtcbiAgICAgICAgdGhpcy5zdWJtaXRCdXR0b25UZXh0RWxzLmZvckVhY2goZnVuY3Rpb24gKHRleHRFbCkge1xuICAgICAgICAgIHJldHVybiB0ZXh0RWwuY2xhc3NMaXN0LnRvZ2dsZSgnZC1ub25lJywgYnV0dG9uU3RhdGUgIT09IHRleHRFbC5kYXRhc2V0LnN0YXRlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImFzc29jaWF0ZWRQcm9kdWN0c0luaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYXNzb2NpYXRlZFByb2R1Y3RzSW5pdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7XG4gICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICB2YXIgYXNzb2NpYXRlZFByb2R1Y3RUb2dnbGVzLCBhc3NvY2lhdGVkUHJvZHVjdEVscywgc2VjdGlvblByb21pc2VzLCBzZWN0aW9uUHJvbWlzZXNSZXN1bHRzLCBfaXRlcmF0b3IsIF9zdGVwLCByZXN1bHQsIHJlc3BvbnNlLCBwYXJzZXIsIHJlc3BvbnNlRG9jLCByZXNwb25zZVNlY3Rpb247XG5cbiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgYXNzb2NpYXRlZFByb2R1Y3RUb2dnbGVzID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1hc3NvY2lhdGVkLXByb2R1Y3QtdG9nZ2xlXScpO1xuICAgICAgICAgICAgICAgICAgYXNzb2NpYXRlZFByb2R1Y3RFbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtc2VjdGlvbi1pZD1cXFwiXCIuY29uY2F0KHRoaXMuc2VjdGlvbklkLCBcIlxcXCJdXCIpKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKGFzc29jaWF0ZWRQcm9kdWN0VG9nZ2xlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoJ2RhdGEtYXNzb2NpYXRlZC1wcm9kdWN0LXNlY3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM4O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgc2VjdGlvblByb21pc2VzID0gX3RvQ29uc3VtYWJsZUFycmF5KGFzc29jaWF0ZWRQcm9kdWN0VG9nZ2xlcykuZmlsdGVyKGZ1bmN0aW9uICh0b2dnbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvZ2dsZS5kYXRhc2V0LmhhbmRsZSAhPT0gX3RoaXMzLmRhdGFzZXQucHJvZHVjdEhhbmRsZTtcbiAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAodG9nZ2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChcIlwiLmNvbmNhdCh0b2dnbGUuZGF0YXNldC51cmwsIFwiP3NlY3Rpb25zPVwiKS5jb25jYXQoX3RoaXMzLnNlY3Rpb25JZCkpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGxTZXR0bGVkKHNlY3Rpb25Qcm9taXNlcyk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICBzZWN0aW9uUHJvbWlzZXNSZXN1bHRzID0gX2NvbnRleHQzLnNlbnQ7XG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzZWN0aW9uUHJvbWlzZXNSZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTA7XG5cbiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5zKCk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgaWYgKChfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuc3RhdHVzID09PSAnZnVsZmlsbGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyNjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTc7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnZhbHVlLmpzb24oKTtcblxuICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50O1xuICAgICAgICAgICAgICAgICAgcGFyc2VyID0gbmV3IHdpbmRvdy5ET01QYXJzZXIoKTtcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhyZXNwb25zZVt0aGlzLnNlY3Rpb25JZF0sICd0ZXh0L2h0bWwnKTtcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU2VjdGlvbiA9IHJlc3BvbnNlRG9jLnF1ZXJ5U2VsZWN0b3IoJ3Byb2R1Y3Qtd3JhcCcpO1xuICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTZWN0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1hc3NvY2lhdGVkLXByb2R1Y3Qtc2VjdGlvbicsICcnKTtcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XG4gICAgICAgICAgICAgICAgICB0aGlzLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCByZXNwb25zZVNlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyNztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzdWx0LnZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzNDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAzMTpcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMzE7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbXCJjYXRjaFwiXSgxMCk7XG5cbiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKF9jb250ZXh0My50MCk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDM0OlxuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAzNDtcblxuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTtcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5maW5pc2goMzQpO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICAgIGFzc29jaWF0ZWRQcm9kdWN0RWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXNlY3Rpb24taWQ9XFxcIlwiLmNvbmNhdCh0aGlzLnNlY3Rpb25JZCwgXCJcXFwiXVwiKSk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgICAgYXNzb2NpYXRlZFByb2R1Y3RUb2dnbGVzLmZvckVhY2goZnVuY3Rpb24gKHRvZ2dsZSkge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nU2VjdGlvbiwgbWF0Y2hpbmdTZWN0aW9uQnV0dG9uLCBoaXN0b3J5VXJsO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ1NlY3Rpb24gPSBfdG9Db25zdW1hYmxlQXJyYXkoYXNzb2NpYXRlZFByb2R1Y3RFbHMpLmZpbmQoZnVuY3Rpb24gKHByb2R1Y3RFbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvZHVjdEVsLmRhdGFzZXQucHJvZHVjdEhhbmRsZSA9PT0gdG9nZ2xlLmRhdGFzZXQuaGFuZGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ1NlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGVkUHJvZHVjdEVscy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9kdWN0RWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGUnLCBwcm9kdWN0RWwuZGF0YXNldC5wcm9kdWN0SGFuZGxlICE9PSB0b2dnbGUuZGF0YXNldC5oYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ1NlY3Rpb25CdXR0b24gPSBtYXRjaGluZ1NlY3Rpb24ucXVlcnlTZWxlY3RvcihcIltkYXRhLWFzc29jaWF0ZWQtcHJvZHVjdC10b2dnbGVdW2RhdGEtaGFuZGxlPVxcXCJcIi5jb25jYXQodG9nZ2xlLmRhdGFzZXQuaGFuZGxlLCBcIlxcXCJdXCIpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nU2VjdGlvbkJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ1NlY3Rpb25CdXR0b24uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nU2VjdGlvbkJ1dHRvbi5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5VXJsID0gXCJcIi5jb25jYXQodG9nZ2xlLmRhdGFzZXQudXJsKS5jb25jYXQobWF0Y2hpbmdTZWN0aW9uICE9PSBudWxsICYmIG1hdGNoaW5nU2VjdGlvbiAhPT0gdm9pZCAwICYmIG1hdGNoaW5nU2VjdGlvbi5zZWxlY3RlZFZhcmlhbnREYXRhID8gXCI/dmFyaWFudD1cIi5jb25jYXQobWF0Y2hpbmdTZWN0aW9uLnNlbGVjdGVkVmFyaWFudERhdGEuaWQpIDogJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCB0b2dnbGUuZGF0YXNldC50aXRsZSwgaGlzdG9yeVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7XG4gICAgICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBfY2FsbGVlMywgdGhpcywgW1sxMCwgMzEsIDM0LCAzN11dKTtcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFzc29jaWF0ZWRQcm9kdWN0c0luaXQoKSB7XG4gICAgICAgICAgcmV0dXJuIF9hc3NvY2lhdGVkUHJvZHVjdHNJbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXNzb2NpYXRlZFByb2R1Y3RzSW5pdDtcbiAgICAgIH0oKVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRDdXJyZW50VmFyaWFudERhdGFcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50VmFyaWFudERhdGEoKSB7XG4gICAgICAgIHZhciB2YXJpYW50SWQgPSB0aGlzLnByb2R1Y3RTZWxlY3QudmFsdWU7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRWYXJpYW50RGF0YSA9IHRoaXMucHJvZHVjdERhdGEudmFyaWFudHMuZmluZChmdW5jdGlvbiAodmFyaWFudCkge1xuICAgICAgICAgIHJldHVybiB2YXJpYW50LmlkID09PSBOdW1iZXIodmFyaWFudElkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInByb2R1Y3RPcHRpb25zSW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2R1Y3RPcHRpb25zSW5pdCgpIHtcbiAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgdmFyIG9wdGlvbnNQYXJlbnRFbCA9IHRoaXMucXVlcnlTZWxlY3RvcignW2RhdGEtcHJvZHVjdC1vcHRpb25zXScpO1xuICAgICAgICB2YXIgb3B0aW9uR3JvdXBzID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcm9kdWN0LW9wdGlvbi1ncm91cF0nKTtcbiAgICAgICAgdmFyIG9wdGlvblJhZGlvcyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJvZHVjdC1vcHRpb25dW2RhdGEtdHlwZT1cInJhZGlvXCJdJyk7XG4gICAgICAgIHZhciB2YXJpYW50U3RvY2tNZXNzYWdlID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS12YXJpYW50LXN0b2NrLW1lc3NhZ2VdJyk7XG4gICAgICAgIHZhciBxdWFudGl0eVNlbGVjdElucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1xdWFudGl0eS1pbnB1dF0nKTtcbiAgICAgICAgdmFyIGJpc0VsID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdiaXMtZm9ybScpO1xuXG4gICAgICAgIGlmICghb3B0aW9uc1BhcmVudEVsIHx8ICFvcHRpb25Hcm91cHMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVuYXZhaWxhYmxlRGlzcGxheSA9IG9wdGlvbnNQYXJlbnRFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdW5hdmFpbGFibGUtZGlzcGxheScpO1xuXG4gICAgICAgIHZhciBnZXROZXh0RXhpc3RpbmdWYXJpYW50ID0gZnVuY3Rpb24gZ2V0TmV4dEV4aXN0aW5nVmFyaWFudChzZWxlY3RlZE9wdGlvbnMsIG9wdGlvbkluZGV4KSB7XG4gICAgICAgICAgdmFyIG5leHRWYXJpYW50ID0gX3RoaXM0LnByb2R1Y3REYXRhLnZhcmlhbnRzLmZpbmQoZnVuY3Rpb24gKHZhcmlhbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB2YXJpYW50W1wib3B0aW9uXCIuY29uY2F0KG9wdGlvbkluZGV4KV0gPT09IHNlbGVjdGVkT3B0aW9uc1tcIm9wdGlvblwiLmNvbmNhdChvcHRpb25JbmRleCldO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIG5leHRWYXJpYW50T3B0aW9ucyA9IG5leHRWYXJpYW50Lm9wdGlvbnMucmVkdWNlKGZ1bmN0aW9uIChvYmplY3QsIG9wdGlvbiwgaW5kZXgpIHtcbiAgICAgICAgICAgIG9iamVjdFtcIm9wdGlvblwiLmNvbmNhdChpbmRleCArIDEpXSA9IG9wdGlvbjtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgfSwge30pO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0VmFyaWFudE9wdGlvbnM6IG5leHRWYXJpYW50T3B0aW9ucyxcbiAgICAgICAgICAgIG5leHRWYXJpYW50OiBuZXh0VmFyaWFudFxuICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldFNlbGVjdGVkT3B0aW9ucyA9IGZ1bmN0aW9uIGdldFNlbGVjdGVkT3B0aW9ucygpIHtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWRPcHRpb25zID0gX3RvQ29uc3VtYWJsZUFycmF5KG9wdGlvbkdyb3VwcykucmVkdWNlKGZ1bmN0aW9uIChvYmplY3QsIGdyb3VwKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoZ3JvdXAuZGF0YXNldC50eXBlID09PSAnc2VsZWN0Jykge1xuICAgICAgICAgICAgICB2YXIgc2VsZWN0ID0gZ3JvdXAucXVlcnlTZWxlY3RvcignW2RhdGEtcHJvZHVjdC1vcHRpb25dJyk7XG4gICAgICAgICAgICAgIHZhbHVlID0gc2VsZWN0LnZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBncm91cC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcm9kdWN0LW9wdGlvbl06Y2hlY2tlZCcpLnZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYmplY3RbXCJvcHRpb25cIi5jb25jYXQoZ3JvdXAuZGF0YXNldC5vcHRpb25JbmRleCldID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgIH0sIHt9KTtcblxuICAgICAgICAgIHJldHVybiBzZWxlY3RlZE9wdGlvbnM7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHVwZGF0ZVNlbGVjdGVkVGV4dCA9IGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkVGV4dChncm91cCwgaW5wdXQpIHtcbiAgICAgICAgICBvcHRpb25Hcm91cHMuZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uR3JvdXApIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZElucHV0ID0gb3B0aW9uR3JvdXAucXVlcnlTZWxlY3RvcignW2RhdGEtcHJvZHVjdC1vcHRpb25dOmNoZWNrZWQnKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFRleHRFbCA9IG9wdGlvbkdyb3VwLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2R1Y3Qtb3B0aW9uLWdyb3VwLXNlbGVjdGVkLXRleHRdJyk7XG4gICAgICAgICAgICBpZiAoIXNlbGVjdGVkVGV4dEVsIHx8ICFzZWxlY3RlZElucHV0KSByZXR1cm47XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRUZXh0ID0gc2VsZWN0ZWRJbnB1dC5kYXRhc2V0LnNlbGVjdGVkVGV4dDtcbiAgICAgICAgICAgIHNlbGVjdGVkVGV4dEVsLnRleHRDb250ZW50ID0gc2VsZWN0ZWRUZXh0O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB1cGRhdGVWYXJpYW50U3RvY2tNZXNzYWdlID0gZnVuY3Rpb24gdXBkYXRlVmFyaWFudFN0b2NrTWVzc2FnZShwb2xpY3ksIHF1YW50aXR5KSB7XG4gICAgICAgICAgdmFyIHZhcmlhbnRRdWFudGl0eSA9IHBhcnNlSW50KHF1YW50aXR5LCAxMCk7XG4gICAgICAgICAgaWYgKCF2YXJpYW50U3RvY2tNZXNzYWdlKSByZXR1cm47XG4gICAgICAgICAgdmFyaWFudFN0b2NrTWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XG5cbiAgICAgICAgICBpZiAocG9saWN5ID09PSAnZGVueScgJiYgdmFyaWFudFF1YW50aXR5ID4gMCAmJiB2YXJpYW50UXVhbnRpdHkgPCBwYXJzZUludCh2YXJpYW50U3RvY2tNZXNzYWdlLmRhdGFzZXQubG93U3RvY2tCcmVha3BvaW50LCAxMCkpIHtcbiAgICAgICAgICAgIHZhcmlhbnRTdG9ja01lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdXBkYXRlUXVhbml0eVNlbGVjdCA9IGZ1bmN0aW9uIHVwZGF0ZVF1YW5pdHlTZWxlY3Qoc2VsZWN0ZWRWYXJpYW50KSB7XG4gICAgICAgICAgaWYgKCFxdWFudGl0eVNlbGVjdElucHV0IHx8ICFzZWxlY3RlZFZhcmlhbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgc2VsZWN0ZWRPcHRpb24gPSBfdGhpczQucHJvZHVjdFNlbGVjdC5xdWVyeVNlbGVjdG9yKFwib3B0aW9uW3ZhbHVlPVxcXCJcIi5jb25jYXQoc2VsZWN0ZWRWYXJpYW50LmlkLCBcIlxcXCJdXCIpKTtcblxuICAgICAgICAgIHZhciBfc2VsZWN0ZWRPcHRpb24kZGF0YXMgPSBzZWxlY3RlZE9wdGlvbi5kYXRhc2V0LFxuICAgICAgICAgICAgICBpbnZlbnRvcnlRdWFudGl0eSA9IF9zZWxlY3RlZE9wdGlvbiRkYXRhcy5pbnZlbnRvcnlRdWFudGl0eSxcbiAgICAgICAgICAgICAgaW52ZW50b3J5UG9saWN5ID0gX3NlbGVjdGVkT3B0aW9uJGRhdGFzLmludmVudG9yeVBvbGljeTtcblxuICAgICAgICAgIGlmIChxdWFudGl0eVNlbGVjdElucHV0LnZhbHVlID4gaW52ZW50b3J5UXVhbnRpdHkgJiYgaW52ZW50b3J5UXVhbnRpdHkgPiAwKSB7XG4gICAgICAgICAgICBxdWFudGl0eVNlbGVjdElucHV0LnZhbHVlID0gaW52ZW50b3J5UXVhbnRpdHk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG1heFZhbHVlID0gaW52ZW50b3J5UG9saWN5ID09PSAnY29udGludWUnID8gOTkgOiBpbnZlbnRvcnlRdWFudGl0eTtcbiAgICAgICAgICBxdWFudGl0eVNlbGVjdElucHV0Lm1heCA9IG1heFZhbHVlO1xuICAgICAgICAgIHVwZGF0ZVZhcmlhbnRTdG9ja01lc3NhZ2UoaW52ZW50b3J5UG9saWN5LCBpbnZlbnRvcnlRdWFudGl0eSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHVwZGF0ZU9wdGlvblJhZGlvcyA9IGZ1bmN0aW9uIHVwZGF0ZU9wdGlvblJhZGlvcyhzZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25SYWRpb3MuZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uUmFkaW8sIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRPcHRpb25zID0gX29iamVjdFNwcmVhZCh7fSwgc2VsZWN0ZWRPcHRpb25zKTtcblxuICAgICAgICAgICAgdmFyIHBhcmVudEl0ZW1FbCA9IG9wdGlvblJhZGlvLmNsb3Nlc3QoJ1tkYXRhLXByb2R1Y3Qtb3B0aW9uLWl0ZW1dJyk7XG4gICAgICAgICAgICB2YXIgb3B0aW9uSW5kZXggPSBOdW1iZXIob3B0aW9uUmFkaW8uZGF0YXNldC5vcHRpb25JbmRleCk7XG4gICAgICAgICAgICBpbnB1dE9wdGlvbnNbXCJvcHRpb25cIi5jb25jYXQob3B0aW9uSW5kZXgpXSA9IG9wdGlvblJhZGlvLnZhbHVlO1xuICAgICAgICAgICAgdmFyIG1hdGNoaW5nVmFyaWFudCA9IGdldFZhcmlhbnRCeU9wdGlvbnMoaW5wdXRPcHRpb25zKTtcbiAgICAgICAgICAgIG9wdGlvblJhZGlvLmNoZWNrZWQgPSBvcHRpb25SYWRpby52YWx1ZSA9PT0gc2VsZWN0ZWRPcHRpb25zW1wib3B0aW9uXCIuY29uY2F0KG9wdGlvbkluZGV4KV07XG4gICAgICAgICAgICBwYXJlbnRJdGVtRWwuY2xhc3NMaXN0LnRvZ2dsZSgndW5hdmFpbGFibGUnLCAhbWF0Y2hpbmdWYXJpYW50KTtcbiAgICAgICAgICAgIHBhcmVudEl0ZW1FbC5jbGFzc0xpc3QudG9nZ2xlKCdzb2xkb3V0JywgKG1hdGNoaW5nVmFyaWFudCA9PT0gbnVsbCB8fCBtYXRjaGluZ1ZhcmlhbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hdGNoaW5nVmFyaWFudC5hdmFpbGFibGUpID09PSBmYWxzZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldFZhcmlhbnRCeU9wdGlvbnMgPSBmdW5jdGlvbiBnZXRWYXJpYW50QnlPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICB2YXIgbWF0Y2hpbmdWYXJpYW50ID0gX3RoaXM0LnByb2R1Y3REYXRhLnZhcmlhbnRzLmZpbmQoZnVuY3Rpb24gKHZhcmlhbnQpIHtcbiAgICAgICAgICAgIHZhciBpc01hdGNoID0gdHJ1ZTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhvcHRpb25zKTsgX2kgPCBfT2JqZWN0JGVudHJpZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgIHZhciBfT2JqZWN0JGVudHJpZXMkX2kgPSBfc2xpY2VkVG9BcnJheShfT2JqZWN0JGVudHJpZXNbX2ldLCAyKSxcbiAgICAgICAgICAgICAgICAgIGtleSA9IF9PYmplY3QkZW50cmllcyRfaVswXSxcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gX09iamVjdCRlbnRyaWVzJF9pWzFdO1xuXG4gICAgICAgICAgICAgIGlmICh2YXJpYW50W2tleV0gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaXNNYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpc01hdGNoO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIG1hdGNoaW5nVmFyaWFudCB8fCBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzZXRBdGNCdXR0b25VbmF2YWlsYWJsZSA9IGZ1bmN0aW9uIHNldEF0Y0J1dHRvblVuYXZhaWxhYmxlKCkge1xuICAgICAgICAgIGlmICghX3RoaXM0LnN1Ym1pdEJ1dHRvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBidXR0b25TdGF0ZSA9ICd1bmF2YWlsYWJsZSc7XG4gICAgICAgICAgX3RoaXM0LnN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICAgICAgICBfdGhpczQuc3VibWl0QnV0dG9uVGV4dEVscy5mb3JFYWNoKGZ1bmN0aW9uICh0ZXh0RWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0RWwuY2xhc3NMaXN0LnRvZ2dsZSgnZC1ub25lJywgYnV0dG9uU3RhdGUgIT09IHRleHRFbC5kYXRhc2V0LnN0YXRlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBvcHRpb25Hcm91cHMuZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uR3JvdXApIHtcbiAgICAgICAgICBvcHRpb25Hcm91cC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGhhbmRsZU9wdGlvbkNoYW5nZShvcHRpb25Hcm91cCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBoYW5kbGVPcHRpb25DaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVPcHRpb25DaGFuZ2UoZ3JvdXApIHtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWRPcHRpb25zID0gZ2V0U2VsZWN0ZWRPcHRpb25zKCk7XG4gICAgICAgICAgdmFyIHNlbGVjdGVkVmFyaWFudCA9IGdldFZhcmlhbnRCeU9wdGlvbnMoc2VsZWN0ZWRPcHRpb25zKTtcblxuICAgICAgICAgIGlmICghc2VsZWN0ZWRWYXJpYW50ICYmIHVuYXZhaWxhYmxlRGlzcGxheSA9PT0gJ3NlbGVjdC1uZXh0LWF2YWlsYWJsZScpIHtcbiAgICAgICAgICAgIHZhciBuZXh0VmFyaWFudERhdGEgPSBnZXROZXh0RXhpc3RpbmdWYXJpYW50KHNlbGVjdGVkT3B0aW9ucywgZ3JvdXAuZGF0YXNldC5vcHRpb25JbmRleCk7XG4gICAgICAgICAgICBzZWxlY3RlZE9wdGlvbnMgPSBuZXh0VmFyaWFudERhdGEubmV4dFZhcmlhbnRPcHRpb25zO1xuICAgICAgICAgICAgc2VsZWN0ZWRWYXJpYW50ID0gbmV4dFZhcmlhbnREYXRhLm5leHRWYXJpYW50O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHVwZGF0ZU9wdGlvblJhZGlvcyhzZWxlY3RlZE9wdGlvbnMpO1xuICAgICAgICAgIHVwZGF0ZVNlbGVjdGVkVGV4dCgpO1xuICAgICAgICAgIHVwZGF0ZVF1YW5pdHlTZWxlY3Qoc2VsZWN0ZWRWYXJpYW50KTtcblxuICAgICAgICAgIGlmIChiaXNFbCkge1xuICAgICAgICAgICAgYmlzRWwuaGFuZGxlVmFyaWFudFVwZGF0ZShzZWxlY3RlZFZhcmlhbnQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWxlY3RlZFZhcmlhbnQpIHtcbiAgICAgICAgICAgIF90aGlzNC5wcm9kdWN0U2VsZWN0LnZhbHVlID0gc2VsZWN0ZWRWYXJpYW50LmlkO1xuXG4gICAgICAgICAgICBfdGhpczQucHJvZHVjdFNlbGVjdC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRBdGNCdXR0b25VbmF2YWlsYWJsZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBoYW5kbGVPcHRpb25DaGFuZ2Uob3B0aW9uR3JvdXBzWzBdKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidXBkYXRlUHJvZHVjdFByaWNlc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVByb2R1Y3RQcmljZXMoKSB7XG4gICAgICAgIHZhciBwcmljZSA9IHRoaXMuc2VsZWN0ZWRWYXJpYW50RGF0YS5wcmljZTtcbiAgICAgICAgdmFyIGNvbXBhcmVQcmljZSA9IHRoaXMuc2VsZWN0ZWRWYXJpYW50RGF0YS5jb21wYXJlX2F0X3ByaWNlO1xuXG4gICAgICAgIGlmICh0aGlzLmlzU2VsbGluZ1BsYW5TZWxlY3RlZCAmJiB0aGlzLnNlbGVjdGVkVmFyaWFudFNlbGxpbmdQbGFuKSB7XG4gICAgICAgICAgcHJpY2UgPSB0aGlzLnNlbGVjdGVkVmFyaWFudFNlbGxpbmdQbGFuLnByaWNlO1xuICAgICAgICAgIGNvbXBhcmVQcmljZSA9IHRoaXMuc2VsZWN0ZWRWYXJpYW50U2VsbGluZ1BsYW4uY29tcGFyZV9hdF9wcmljZTtcbiAgICAgICAgfSAvLyBCYXNlIHByaWNlc1xuXG5cbiAgICAgICAgdGhpcy5wcm9kdWN0UHJpY2VFbHMuZm9yRWFjaChmdW5jdGlvbiAocHJvZHVjdFByaWNlRWwpIHtcbiAgICAgICAgICBwcm9kdWN0UHJpY2VFbC50ZXh0Q29udGVudCA9IFNob3BpZnkuZm9ybWF0TW9uZXkocHJpY2UsIHRoZW1lLm1vbmV5Rm9ybWF0KTtcbiAgICAgICAgfSk7IC8vIENvbXBhcmUgYXQgcHJpY2VzXG5cbiAgICAgICAgdGhpcy5wcm9kdWN0Q29tcGFyZVByaWNlV3JhcEVscy5mb3JFYWNoKGZ1bmN0aW9uIChwcmljZVdyYXBFbCkge1xuICAgICAgICAgIHByaWNlV3JhcEVsLmNsYXNzTGlzdC50b2dnbGUoJ2Qtbm9uZScsICFjb21wYXJlUHJpY2UgfHwgcHJpY2UgPiBjb21wYXJlUHJpY2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wcm9kdWN0Q29tcGFyZVByaWNlRWxzLmZvckVhY2goZnVuY3Rpb24gKHByaWNlRWwpIHtcbiAgICAgICAgICBwcmljZUVsLnRleHRDb250ZW50ID0gU2hvcGlmeS5mb3JtYXRNb25leShjb21wYXJlUHJpY2UsIHRoZW1lLm1vbmV5Rm9ybWF0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInN1YnNjcmlwdGlvbk9wdGlvbnNJbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc3Vic2NyaXB0aW9uT3B0aW9uc0luaXQoKSB7XG4gICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzZWxsaW5nUGxhbnNHcm91cFdyYXAgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2R1Y3Qtc2VsbGluZy1wbGFuLWdyb3VwLXdyYXBdJyk7XG4gICAgICAgIHZhciBzZWxsaW5nUGxhbnNHcm91cEVscyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJvZHVjdC1zZWxsaW5nLXBsYW4tZ3JvdXBdJyk7XG5cbiAgICAgICAgaWYgKCFzZWxsaW5nUGxhbnNHcm91cEVscy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uVG9nZ2xlUmFkaW9zID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcm9kdWN0LXN1YnNjcmlwdGlvbi10b2dnbGVdJyk7XG4gICAgICAgIHZhciBzZWxsaW5nUGxhbkhpZGRlbklucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcm9kdWN0LXNlbGxpbmctcGxhbi1pbnB1dF0nKTtcbiAgICAgICAgdmFyIGN1cnJlbnRTZWxsaW5nUGxhbkdyb3VwRWwgPSBudWxsO1xuICAgICAgICB2YXIgY3VycmVudFNlbGxpbmdQbGFuU2VsZWN0ID0gbnVsbDtcbiAgICAgICAgc2VsbGluZ1BsYW5zR3JvdXBFbHMuZm9yRWFjaChmdW5jdGlvbiAoc2VsbGluZ1BsYW5zR3JvdXBFbCkge1xuICAgICAgICAgIHZhciBzZWxsaW5nUGxhblNlbGVjdCA9IHNlbGxpbmdQbGFuc0dyb3VwRWwucXVlcnlTZWxlY3RvcignW2RhdGEtcHJvZHVjdC1zZWxsaW5nLXBsYW5zLXNlbGVjdF0nKTtcbiAgICAgICAgICBzZWxsaW5nUGxhblNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxsaW5nUGxhbkhpZGRlbklucHV0LnZhbHVlID0gc2VsbGluZ1BsYW5TZWxlY3QudmFsdWU7XG4gICAgICAgICAgICBfdGhpczUuc2VsZWN0ZWRWYXJpYW50U2VsbGluZ1BsYW4gPSBfdGhpczUuc2VsZWN0ZWRWYXJpYW50RGF0YS5zZWxsaW5nX3BsYW5fYWxsb2NhdGlvbnMuZmluZChmdW5jdGlvbiAoYWxsb2NhdGlvbikge1xuICAgICAgICAgICAgICByZXR1cm4gYWxsb2NhdGlvbi5zZWxsaW5nX3BsYW5faWQgPT09IE51bWJlcihzZWxsaW5nUGxhblNlbGVjdC52YWx1ZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgX3RoaXM1LnVwZGF0ZVByb2R1Y3RQcmljZXMoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHVwZGF0ZUN1cnJlbnRTZWxsaW5nUGxhbiA9IGZ1bmN0aW9uIHVwZGF0ZUN1cnJlbnRTZWxsaW5nUGxhbigpIHtcbiAgICAgICAgICB2YXIgdmFyaWFudFNlbGxpbmdQbGFuR3JvdXBJZHMgPSBfdGhpczUuc2VsZWN0ZWRWYXJpYW50RGF0YS5zZWxsaW5nX3BsYW5fYWxsb2NhdGlvbnMubWFwKGZ1bmN0aW9uIChhbGxvY2F0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gYWxsb2NhdGlvbi5zZWxsaW5nX3BsYW5fZ3JvdXBfaWQ7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjdXJyZW50U2VsbGluZ1BsYW5Hcm91cEVsID0gX3RvQ29uc3VtYWJsZUFycmF5KHNlbGxpbmdQbGFuc0dyb3VwRWxzKS5maW5kKGZ1bmN0aW9uIChncm91cEVsKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFyaWFudFNlbGxpbmdQbGFuR3JvdXBJZHMuaW5jbHVkZXMoZ3JvdXBFbC5kYXRhc2V0LmlkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjdXJyZW50U2VsbGluZ1BsYW5TZWxlY3QgPSBjdXJyZW50U2VsbGluZ1BsYW5Hcm91cEVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2R1Y3Qtc2VsbGluZy1wbGFucy1zZWxlY3RdJyk7XG4gICAgICAgICAgX3RoaXM1LnNlbGVjdGVkVmFyaWFudFNlbGxpbmdQbGFuID0gX3RoaXM1LnNlbGVjdGVkVmFyaWFudERhdGEuc2VsbGluZ19wbGFuX2FsbG9jYXRpb25zLmZpbmQoZnVuY3Rpb24gKGFsbG9jYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBhbGxvY2F0aW9uLnNlbGxpbmdfcGxhbl9pZCA9PT0gTnVtYmVyKGN1cnJlbnRTZWxsaW5nUGxhblNlbGVjdC52YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2VsbGluZ1BsYW5IaWRkZW5JbnB1dC52YWx1ZSA9IGN1cnJlbnRTZWxsaW5nUGxhblNlbGVjdC52YWx1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdXBkYXRlU2VsbGluZ1BsYW5Hcm91cHMgPSBmdW5jdGlvbiB1cGRhdGVTZWxsaW5nUGxhbkdyb3VwcygpIHtcbiAgICAgICAgICBzZWxsaW5nUGxhbnNHcm91cEVscy5mb3JFYWNoKGZ1bmN0aW9uIChncm91cEVsKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBFbC5jbGFzc0xpc3QudG9nZ2xlKCdkLW5vbmUnLCBncm91cEVsLmRhdGFzZXQuaWQgIT09IF90aGlzNS5zZWxlY3RlZFZhcmlhbnRTZWxsaW5nUGxhbi5zZWxsaW5nX3BsYW5fZ3JvdXBfaWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB1cGRhdGVTZWxsaW5nUGxhblByaWNlcyA9IGZ1bmN0aW9uIHVwZGF0ZVNlbGxpbmdQbGFuUHJpY2VzKCkge1xuICAgICAgICAgIGlmICghX3RoaXM1LnNlbGVjdGVkVmFyaWFudFNlbGxpbmdQbGFuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXM1LnByb2R1Y3RTdWJzY3JpYmVDb21wYXJlUHJpY2VFbHMuZm9yRWFjaChmdW5jdGlvbiAocHJpY2VFbCkge1xuICAgICAgICAgICAgcHJpY2VFbC50ZXh0Q29udGVudCA9IFNob3BpZnkuZm9ybWF0TW9uZXkoX3RoaXM1LnNlbGVjdGVkVmFyaWFudERhdGEucHJpY2UpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgX3RoaXM1LnByb2R1Y3RTdWJzY3JpYmVQcmljZUVsLnRleHRDb250ZW50ID0gU2hvcGlmeS5mb3JtYXRNb25leShfdGhpczUuc2VsZWN0ZWRWYXJpYW50U2VsbGluZ1BsYW4ucHJpY2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHN1YnNjcmlwdGlvblRvZ2dsZVJhZGlvcy5mb3JFYWNoKGZ1bmN0aW9uICh0b2dnbGVSYWRpbykge1xuICAgICAgICAgIHRvZ2dsZVJhZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzNS5pc1NlbGxpbmdQbGFuU2VsZWN0ZWQgPSB0b2dnbGVSYWRpby52YWx1ZSA9PT0gJ3N1YnNjcmlwdGlvbic7XG4gICAgICAgICAgICBzZWxsaW5nUGxhbnNHcm91cFdyYXAuY2xhc3NMaXN0LnRvZ2dsZSgnZC1ub25lJywgIV90aGlzNS5pc1NlbGxpbmdQbGFuU2VsZWN0ZWQpO1xuICAgICAgICAgICAgdXBkYXRlQ3VycmVudFNlbGxpbmdQbGFuKCk7XG4gICAgICAgICAgICB1cGRhdGVTZWxsaW5nUGxhbkdyb3VwcygpO1xuXG4gICAgICAgICAgICBfdGhpczUudXBkYXRlUHJvZHVjdFByaWNlcygpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wcm9kdWN0U2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHVwZGF0ZUN1cnJlbnRTZWxsaW5nUGxhbigpO1xuICAgICAgICAgIHVwZGF0ZVNlbGxpbmdQbGFuR3JvdXBzKCk7XG4gICAgICAgICAgdXBkYXRlU2VsbGluZ1BsYW5QcmljZXMoKTtcblxuICAgICAgICAgIF90aGlzNS51cGRhdGVQcm9kdWN0UHJpY2VzKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJwcm9kdWN0R2FsbGVyaWVzSW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2R1Y3RHYWxsZXJpZXNJbml0KCkge1xuICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgICB2YXIgZ2FsbGVyeUNhcm91c2VscyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbCgncHJvZHVjdC1nYWxsZXJ5LWNhcm91c2VsJyk7XG4gICAgICAgIHZhciBncmlkR2FsbGVyeSA9IHRoaXMucXVlcnlTZWxlY3RvcigncHJvZHVjdC1nYWxsZXJ5LWdyaWQnKTtcbiAgICAgICAgdmFyIHNpbXBsZUdhbGxlcnkgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3Byb2R1Y3QtZ2FsbGVyeS1zaW1wbGUnKTtcbiAgICAgICAgZ2FsbGVyeUNhcm91c2Vscy5mb3JFYWNoKGZ1bmN0aW9uIChjYXJvdXNlbCkge1xuICAgICAgICAgIGNhcm91c2VsLnNlbGVjdGVkVmFyaWFudCA9IF90aGlzNi5zZWxlY3RlZFZhcmlhbnREYXRhO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wcm9kdWN0U2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBnYWxsZXJ5Q2Fyb3VzZWxzLmZvckVhY2goZnVuY3Rpb24gKGNhcm91c2VsKSB7XG4gICAgICAgICAgICBjYXJvdXNlbC5zZWxlY3RlZFZhcmlhbnQgPSBfdGhpczYuc2VsZWN0ZWRWYXJpYW50RGF0YTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChncmlkR2FsbGVyeSkge1xuICAgICAgICAgICAgZ3JpZEdhbGxlcnkuc2VsZWN0ZWRWYXJpYW50ID0gX3RoaXM2LnNlbGVjdGVkVmFyaWFudERhdGE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNpbXBsZUdhbGxlcnkpIHtcbiAgICAgICAgICAgIHNpbXBsZUdhbGxlcnkuc2VsZWN0ZWRWYXJpYW50ID0gX3RoaXM2LnNlbGVjdGVkVmFyaWFudERhdGE7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUHJvZHVjdFdyYXA7XG4gIH0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEhUTUxFbGVtZW50KSk7XG5cbiAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgncHJvZHVjdC13cmFwJywgUHJvZHVjdFdyYXApO1xufSkoKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/sections/product/product.js\n");

/***/ }),

/***/ "./src/views/sections/product/product.scss":
/*!*************************************************!*\
  !*** ./src/views/sections/product/product.scss ***!
  \*************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3Mvc2VjdGlvbnMvcHJvZHVjdC9wcm9kdWN0LnNjc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc2VjdGlvbnMvcHJvZHVjdC9wcm9kdWN0LnNjc3M/YTkxZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/sections/product/product.scss\n");

/***/ }),

/***/ "./src/views/snippets/accordion/accordion.js":
/*!***************************************************!*\
  !*** ./src/views/snippets/accordion/accordion.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar accordion = /*#__PURE__*/function (_HTMLElement) {\n  _inherits(accordion, _HTMLElement);\n\n  var _super = _createSuper(accordion);\n\n  function accordion() {\n    var _this;\n\n    _classCallCheck(this, accordion);\n\n    _this = _super.call(this);\n    _this.closing = false;\n    _this.details = _this.querySelector('details');\n    _this.summary = _this.querySelector('summary');\n\n    if (_this.dataset.group) {\n      _this.uniqueId = Math.floor(Math.random() * 9999999);\n    }\n\n    return _this;\n  }\n\n  _createClass(accordion, [{\n    key: \"connectedCallback\",\n    value: function connectedCallback() {\n      var _this2 = this;\n\n      this.summary.addEventListener('click', function (event) {\n        event.preventDefault();\n\n        if (_this2.classList.contains('animating')) {\n          return;\n        }\n\n        if (_this2.details.open) {\n          _this2.close();\n        } else {\n          _this2.open();\n        }\n      });\n      this.addEventListener('transitionend', function (event) {\n        _this2.style.height = null;\n\n        _this2.classList.remove('animating');\n\n        if (_this2.closing) {\n          _this2.details.open = false;\n          _this2.closing = false;\n        }\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      if (this.details.open === true) {\n        return;\n      }\n\n      this.style.height = \"\".concat(this.summary.offsetHeight, \"px\");\n      this.details.open = true;\n      this.summary.setAttribute('aria-expanded', true);\n      this.classList.add('animating');\n      this.style.height = \"\".concat(this.details.offsetHeight, \"px\");\n      this.closing = false;\n      this.closeGroupSiblings();\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this.details.open === false) {\n        return;\n      }\n\n      this.style.height = \"\".concat(this.details.offsetHeight, \"px\");\n      this.classList.add('animating');\n      this.style.height = \"\".concat(this.summary.offsetHeight, \"px\");\n      this.closing = true;\n      this.summary.setAttribute('aria-expanded', false);\n    }\n  }, {\n    key: \"closeGroupSiblings\",\n    value: function closeGroupSiblings() {\n      var _this3 = this;\n\n      if (!this.dataset.group || !this.uniqueId) {\n        return;\n      }\n\n      var groupAccordions = document.querySelectorAll(\"custom-accordion[data-group=\\\"\".concat(this.dataset.group, \"\\\"]\"));\n      groupAccordions.forEach(function (groupAccordion) {\n        if (groupAccordion.uniqueId === _this3.uniqueId) {\n          return;\n        }\n\n        groupAccordion.close();\n      });\n    }\n  }]);\n\n  return accordion;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement));\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  window.customElements.define('custom-accordion', accordion);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3Mvc25pcHBldHMvYWNjb3JkaW9uL2FjY29yZGlvbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92aWV3cy9zbmlwcGV0cy9hY2NvcmRpb24vYWNjb3JkaW9uLmpzPzkxNDQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkOyBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzOyBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7IGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpOyBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTsgfSBmdW5jdGlvbiBXcmFwcGVyKCkgeyByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpOyB9OyByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0OyB9IGVsc2UgeyBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IHZhciBhID0gW251bGxdOyBhLnB1c2guYXBwbHkoYSwgYXJncyk7IHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTsgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7IGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpOyByZXR1cm4gaW5zdGFuY2U7IH07IH0gcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHsgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbnZhciBhY2NvcmRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9IVE1MRWxlbWVudCkge1xuICBfaW5oZXJpdHMoYWNjb3JkaW9uLCBfSFRNTEVsZW1lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoYWNjb3JkaW9uKTtcblxuICBmdW5jdGlvbiBhY2NvcmRpb24oKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIGFjY29yZGlvbik7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIF90aGlzLmNsb3NpbmcgPSBmYWxzZTtcbiAgICBfdGhpcy5kZXRhaWxzID0gX3RoaXMucXVlcnlTZWxlY3RvcignZGV0YWlscycpO1xuICAgIF90aGlzLnN1bW1hcnkgPSBfdGhpcy5xdWVyeVNlbGVjdG9yKCdzdW1tYXJ5Jyk7XG5cbiAgICBpZiAoX3RoaXMuZGF0YXNldC5ncm91cCkge1xuICAgICAgX3RoaXMudW5pcXVlSWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA5OTk5OTk5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoYWNjb3JkaW9uLCBbe1xuICAgIGtleTogXCJjb25uZWN0ZWRDYWxsYmFja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLnN1bW1hcnkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoX3RoaXMyLmNsYXNzTGlzdC5jb250YWlucygnYW5pbWF0aW5nJykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMyLmRldGFpbHMub3Blbikge1xuICAgICAgICAgIF90aGlzMi5jbG9zZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzMi5vcGVuKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIF90aGlzMi5zdHlsZS5oZWlnaHQgPSBudWxsO1xuXG4gICAgICAgIF90aGlzMi5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRpbmcnKTtcblxuICAgICAgICBpZiAoX3RoaXMyLmNsb3NpbmcpIHtcbiAgICAgICAgICBfdGhpczIuZGV0YWlscy5vcGVuID0gZmFsc2U7XG4gICAgICAgICAgX3RoaXMyLmNsb3NpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9wZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgIGlmICh0aGlzLmRldGFpbHMub3BlbiA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQodGhpcy5zdW1tYXJ5Lm9mZnNldEhlaWdodCwgXCJweFwiKTtcbiAgICAgIHRoaXMuZGV0YWlscy5vcGVuID0gdHJ1ZTtcbiAgICAgIHRoaXMuc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYW5pbWF0aW5nJyk7XG4gICAgICB0aGlzLnN0eWxlLmhlaWdodCA9IFwiXCIuY29uY2F0KHRoaXMuZGV0YWlscy5vZmZzZXRIZWlnaHQsIFwicHhcIik7XG4gICAgICB0aGlzLmNsb3NpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2xvc2VHcm91cFNpYmxpbmdzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsb3NlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgaWYgKHRoaXMuZGV0YWlscy5vcGVuID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQodGhpcy5kZXRhaWxzLm9mZnNldEhlaWdodCwgXCJweFwiKTtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYW5pbWF0aW5nJyk7XG4gICAgICB0aGlzLnN0eWxlLmhlaWdodCA9IFwiXCIuY29uY2F0KHRoaXMuc3VtbWFyeS5vZmZzZXRIZWlnaHQsIFwicHhcIik7XG4gICAgICB0aGlzLmNsb3NpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5zdW1tYXJ5LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvc2VHcm91cFNpYmxpbmdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlR3JvdXBTaWJsaW5ncygpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuZGF0YXNldC5ncm91cCB8fCAhdGhpcy51bmlxdWVJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBncm91cEFjY29yZGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiY3VzdG9tLWFjY29yZGlvbltkYXRhLWdyb3VwPVxcXCJcIi5jb25jYXQodGhpcy5kYXRhc2V0Lmdyb3VwLCBcIlxcXCJdXCIpKTtcbiAgICAgIGdyb3VwQWNjb3JkaW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChncm91cEFjY29yZGlvbikge1xuICAgICAgICBpZiAoZ3JvdXBBY2NvcmRpb24udW5pcXVlSWQgPT09IF90aGlzMy51bmlxdWVJZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGdyb3VwQWNjb3JkaW9uLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gYWNjb3JkaW9uO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY3VzdG9tLWFjY29yZGlvbicsIGFjY29yZGlvbik7XG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/snippets/accordion/accordion.js\n");

/***/ }),

/***/ "./src/views/snippets/back-in-stock-form/back-in-stock-form.js":
/*!*********************************************************************!*\
  !*** ./src/views/snippets/back-in-stock-form/back-in-stock-form.js ***!
  \*********************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scripts_core_custom_html_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @scripts/core/custom-html-element */ \"./src/scripts/core/custom-html-element.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\nObject(_scripts_core_custom_html_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('bis-form', /*#__PURE__*/function (_HTMLElement) {\n  _inherits(_class, _HTMLElement);\n\n  var _super = _createSuper(_class);\n\n  function _class() {\n    var _this;\n\n    _classCallCheck(this, _class);\n\n    _this = _super.call(this);\n    _this.parentProductEl = _this.closest('product-wrap');\n\n    if (!_this.parentProductEl) {\n      return _possibleConstructorReturn(_this);\n    }\n\n    _this.bisForm = _this.querySelector('[data-bis-form]');\n    _this.bisVariantInput = _this.querySelector('[data-bis-variant]');\n    _this.bisEmailInput = _this.querySelector('[data-bis-email]');\n    _this.successEl = _this.querySelector('[data-bis-success-response]');\n    _this.errorEl = _this.querySelector('[data-bis-error-response]');\n    _this.app = _this.getAttribute('data-app');\n\n    if (_this.parentProductEl) {\n      _this.selectedVariantData = _this.parentProductEl.selectedVariantData;\n    }\n\n    _this.bisInit();\n\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: \"bisInit\",\n    value: function bisInit() {\n      var _this2 = this;\n\n      this.bisForm.addEventListener('submit', /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(event) {\n          var variantId;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  event.preventDefault();\n                  variantId = Number(_this2.bisVariantInput.value);\n                  _context.prev = 2;\n\n                  if (!(_this2.app === 'back_in_stock')) {\n                    _context.next = 8;\n                    break;\n                  }\n\n                  _context.next = 6;\n                  return _this2.handleBisAppSubmit(variantId);\n\n                case 6:\n                  _context.next = 14;\n                  break;\n\n                case 8:\n                  if (!(_this2.app === 'klaviyo')) {\n                    _context.next = 13;\n                    break;\n                  }\n\n                  _context.next = 11;\n                  return _this2.handleKlaviyoBisSubmit();\n\n                case 11:\n                  _context.next = 14;\n                  break;\n\n                case 13:\n                  throw new Error('app not defined');\n\n                case 14:\n                  _this2.bisForm.classList.add('d-none');\n\n                  _this2.successEl.classList.remove('d-none');\n\n                  _this2.errorEl.classList.add('d-none');\n\n                  _context.next = 25;\n                  break;\n\n                case 19:\n                  _context.prev = 19;\n                  _context.t0 = _context[\"catch\"](2);\n\n                  _this2.bisForm.classList.add('d-none');\n\n                  _this2.successEl.classList.add('d-none');\n\n                  _this2.errorEl.classList.remove('d-none');\n\n                  console.error(_context.t0);\n\n                case 25:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[2, 19]]);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"handleVariantUpdate\",\n    value: function handleVariantUpdate(variantData) {\n      if (variantData) {\n        this.selectedVariantData = variantData;\n        this.bisVariantInput.value = Number(variantData.id);\n      }\n\n      this.classList.toggle('d-none', !variantData || variantData.available);\n    }\n  }, {\n    key: \"handleBisAppSubmit\",\n    value: function () {\n      var _handleBisAppSubmit = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(variantId) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  if (typeof window.BISPopover === 'undefined') {\n                    reject(Error('BISPopover not defined'));\n                  }\n\n                  BISPopover.create(bisEmailInput.value, variantId).then(function (data) {\n                    // eslint-disable-line\n                    if (data.status !== 'OK') {\n                      reject(Error(data.errors.base[0]));\n                    } else {\n                      resolve(data);\n                    }\n                  });\n                }));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function handleBisAppSubmit(_x2) {\n        return _handleBisAppSubmit.apply(this, arguments);\n      }\n\n      return handleBisAppSubmit;\n    }()\n  }, {\n    key: \"handleKlaviyoBisSubmit\",\n    value: function () {\n      var _handleKlaviyoBisSubmit = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var data;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                data = new window.FormData(this.bisForm);\n                _context3.prev = 1;\n                return _context3.abrupt(\"return\", fetch('https://a.klaviyo.com/onsite/components/back-in-stock/subscribe', {\n                  method: 'POST',\n                  body: data\n                }).then(function (response) {\n                  return response;\n                }));\n\n              case 5:\n                _context3.prev = 5;\n                _context3.t0 = _context3[\"catch\"](1);\n                return _context3.abrupt(\"return\", Promise.reject(_context3.t0));\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[1, 5]]);\n      }));\n\n      function handleKlaviyoBisSubmit() {\n        return _handleKlaviyoBisSubmit.apply(this, arguments);\n      }\n\n      return handleKlaviyoBisSubmit;\n    }()\n  }]);\n\n  return _class;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3Mvc25pcHBldHMvYmFjay1pbi1zdG9jay1mb3JtL2JhY2staW4tc3RvY2stZm9ybS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92aWV3cy9zbmlwcGV0cy9iYWNrLWluLXN0b2NrLWZvcm0vYmFjay1pbi1zdG9jay1mb3JtLmpzPzgwMjMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkOyBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzOyBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7IGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpOyBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTsgfSBmdW5jdGlvbiBXcmFwcGVyKCkgeyByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpOyB9OyByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0OyB9IGVsc2UgeyBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IHZhciBhID0gW251bGxdOyBhLnB1c2guYXBwbHkoYSwgYXJncyk7IHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTsgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7IGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpOyByZXR1cm4gaW5zdGFuY2U7IH07IH0gcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHsgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmltcG9ydCBuZXdDdXN0b21FbGVtZW50IGZyb20gJ0BzY3JpcHRzL2NvcmUvY3VzdG9tLWh0bWwtZWxlbWVudCc7XG5uZXdDdXN0b21FbGVtZW50KCdiaXMtZm9ybScsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7XG4gIF9pbmhlcml0cyhfY2xhc3MsIF9IVE1MRWxlbWVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihfY2xhc3MpO1xuXG4gIGZ1bmN0aW9uIF9jbGFzcygpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgX2NsYXNzKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgX3RoaXMucGFyZW50UHJvZHVjdEVsID0gX3RoaXMuY2xvc2VzdCgncHJvZHVjdC13cmFwJyk7XG5cbiAgICBpZiAoIV90aGlzLnBhcmVudFByb2R1Y3RFbCkge1xuICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzKTtcbiAgICB9XG5cbiAgICBfdGhpcy5iaXNGb3JtID0gX3RoaXMucXVlcnlTZWxlY3RvcignW2RhdGEtYmlzLWZvcm1dJyk7XG4gICAgX3RoaXMuYmlzVmFyaWFudElucHV0ID0gX3RoaXMucXVlcnlTZWxlY3RvcignW2RhdGEtYmlzLXZhcmlhbnRdJyk7XG4gICAgX3RoaXMuYmlzRW1haWxJbnB1dCA9IF90aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJpcy1lbWFpbF0nKTtcbiAgICBfdGhpcy5zdWNjZXNzRWwgPSBfdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1iaXMtc3VjY2Vzcy1yZXNwb25zZV0nKTtcbiAgICBfdGhpcy5lcnJvckVsID0gX3RoaXMucXVlcnlTZWxlY3RvcignW2RhdGEtYmlzLWVycm9yLXJlc3BvbnNlXScpO1xuICAgIF90aGlzLmFwcCA9IF90aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1hcHAnKTtcblxuICAgIGlmIChfdGhpcy5wYXJlbnRQcm9kdWN0RWwpIHtcbiAgICAgIF90aGlzLnNlbGVjdGVkVmFyaWFudERhdGEgPSBfdGhpcy5wYXJlbnRQcm9kdWN0RWwuc2VsZWN0ZWRWYXJpYW50RGF0YTtcbiAgICB9XG5cbiAgICBfdGhpcy5iaXNJbml0KCk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoX2NsYXNzLCBbe1xuICAgIGtleTogXCJiaXNJbml0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGJpc0luaXQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdGhpcy5iaXNGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGV2ZW50KSB7XG4gICAgICAgICAgdmFyIHZhcmlhbnRJZDtcbiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgdmFyaWFudElkID0gTnVtYmVyKF90aGlzMi5iaXNWYXJpYW50SW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7XG5cbiAgICAgICAgICAgICAgICAgIGlmICghKF90aGlzMi5hcHAgPT09ICdiYWNrX2luX3N0b2NrJykpIHtcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlQmlzQXBwU3VibWl0KHZhcmlhbnRJZCk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgIGlmICghKF90aGlzMi5hcHAgPT09ICdrbGF2aXlvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVLbGF2aXlvQmlzU3VibWl0KCk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhcHAgbm90IGRlZmluZWQnKTtcblxuICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgICBfdGhpczIuYmlzRm9ybS5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcblxuICAgICAgICAgICAgICAgICAgX3RoaXMyLnN1Y2Nlc3NFbC5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcblxuICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9yRWwuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XG5cbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOTtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgyKTtcblxuICAgICAgICAgICAgICAgICAgX3RoaXMyLmJpc0Zvcm0uY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XG5cbiAgICAgICAgICAgICAgICAgIF90aGlzMi5zdWNjZXNzRWwuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XG5cbiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvckVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xuXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKF9jb250ZXh0LnQwKTtcblxuICAgICAgICAgICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgMTldXSk7XG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7XG4gICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICAgIH0oKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZVZhcmlhbnRVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVmFyaWFudFVwZGF0ZSh2YXJpYW50RGF0YSkge1xuICAgICAgaWYgKHZhcmlhbnREYXRhKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRWYXJpYW50RGF0YSA9IHZhcmlhbnREYXRhO1xuICAgICAgICB0aGlzLmJpc1ZhcmlhbnRJbnB1dC52YWx1ZSA9IE51bWJlcih2YXJpYW50RGF0YS5pZCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgnZC1ub25lJywgIXZhcmlhbnREYXRhIHx8IHZhcmlhbnREYXRhLmF2YWlsYWJsZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZUJpc0FwcFN1Ym1pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2hhbmRsZUJpc0FwcFN1Ym1pdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodmFyaWFudElkKSB7XG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuQklTUG9wb3ZlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KEVycm9yKCdCSVNQb3BvdmVyIG5vdCBkZWZpbmVkJykpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBCSVNQb3BvdmVyLmNyZWF0ZShiaXNFbWFpbElucHV0LnZhbHVlLCB2YXJpYW50SWQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgIT09ICdPSycpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZWplY3QoRXJyb3IoZGF0YS5lcnJvcnMuYmFzZVswXSkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlQmlzQXBwU3VibWl0KF94Mikge1xuICAgICAgICByZXR1cm4gX2hhbmRsZUJpc0FwcFN1Ym1pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGFuZGxlQmlzQXBwU3VibWl0O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZUtsYXZpeW9CaXNTdWJtaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9oYW5kbGVLbGF2aXlvQmlzU3VibWl0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHtcbiAgICAgICAgdmFyIGRhdGE7XG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZGF0YSA9IG5ldyB3aW5kb3cuRm9ybURhdGEodGhpcy5iaXNGb3JtKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgZmV0Y2goJ2h0dHBzOi8vYS5rbGF2aXlvLmNvbS9vbnNpdGUvY29tcG9uZW50cy9iYWNrLWluLXN0b2NrL3N1YnNjcmliZScsIHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgYm9keTogZGF0YVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDU7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzW1wiY2F0Y2hcIl0oMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgUHJvbWlzZS5yZWplY3QoX2NvbnRleHQzLnQwKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMywgdGhpcywgW1sxLCA1XV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVLbGF2aXlvQmlzU3VibWl0KCkge1xuICAgICAgICByZXR1cm4gX2hhbmRsZUtsYXZpeW9CaXNTdWJtaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhhbmRsZUtsYXZpeW9CaXNTdWJtaXQ7XG4gICAgfSgpXG4gIH1dKTtcblxuICByZXR1cm4gX2NsYXNzO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKSk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/views/snippets/back-in-stock-form/back-in-stock-form.js\n");

/***/ }),

/***/ "./src/views/snippets/collection-item/collection-item.js":
/*!***************************************************************!*\
  !*** ./src/views/snippets/collection-item/collection-item.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n(function () {\n  if (typeof window.customElements.get('collection-item') !== 'undefined') {\n    return;\n  }\n\n  var CollecitonItem = /*#__PURE__*/function (_HTMLElement) {\n    _inherits(CollecitonItem, _HTMLElement);\n\n    var _super = _createSuper(CollecitonItem);\n\n    function CollecitonItem() {\n      var _this;\n\n      _classCallCheck(this, CollecitonItem);\n\n      _this = _super.call(this);\n\n      _this.colorOptionsInit();\n\n      _this.quickviewToggleInit();\n\n      return _this;\n    }\n\n    _createClass(CollecitonItem, [{\n      key: \"colorOptionsInit\",\n      value: function colorOptionsInit() {\n        var colorOptionWrap = this.querySelector('[data-product-option-group]');\n        var images = this.querySelectorAll('[data-collection-item-image]');\n\n        if (!colorOptionWrap || !images.length) {\n          return;\n        }\n\n        colorOptionWrap.addEventListener('change', function (event) {\n          var matchingImage = _toConsumableArray(images).find(function (image) {\n            return image.dataset.color === event.target.value;\n          });\n\n          if (!matchingImage) {\n            return;\n          }\n\n          images.forEach(function (image) {\n            return image.classList.toggle('hide', image !== matchingImage);\n          });\n        });\n      }\n    }, {\n      key: \"quickviewToggleInit\",\n      value: function quickviewToggleInit() {\n        var quickviewToggle = this.querySelector('[data-quickview-view-toggle]');\n\n        if (!quickviewToggle) {\n          return;\n        }\n\n        var quickViewModalContent = document.querySelector('[data-product-quickview-content]');\n        var _quickviewToggle$data = quickviewToggle.dataset,\n            url = _quickviewToggle$data.url,\n            template = _quickviewToggle$data.template,\n            sectionId = _quickviewToggle$data.sectionId;\n        var fetchUrl = new URL(url);\n        template && fetchUrl.searchParams.set('view', template);\n        sectionId && fetchUrl.searchParams.set('section_id', sectionId);\n        quickviewToggle.addEventListener('click', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          var productSectionRes;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  quickViewModalContent.innerHTML = \"<p>\".concat(window.theme.strings.loading, \"</p>\");\n                  _context.prev = 1;\n                  _context.next = 4;\n                  return fetch(fetchUrl.toString());\n\n                case 4:\n                  productSectionRes = _context.sent;\n                  _context.next = 7;\n                  return productSectionRes.text();\n\n                case 7:\n                  quickViewModalContent.innerHTML = _context.sent;\n                  _context.next = 14;\n                  break;\n\n                case 10:\n                  _context.prev = 10;\n                  _context.t0 = _context[\"catch\"](1);\n                  quickViewModalContent.innerHTML = \"<p>\".concat(window.theme.strings.error, \"</p>\");\n                  console.error(_context.t0);\n\n                case 14:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[1, 10]]);\n        })));\n      }\n    }]);\n\n    return CollecitonItem;\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement));\n\n  window.customElements.define('collection-item', CollecitonItem);\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3Mvc25pcHBldHMvY29sbGVjdGlvbi1pdGVtL2NvbGxlY3Rpb24taXRlbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92aWV3cy9zbmlwcGV0cy9jb2xsZWN0aW9uLWl0ZW0vY29sbGVjdGlvbi1pdGVtLmpzP2I0OWEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7IF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7IGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHsgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7IF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpOyB9IGZ1bmN0aW9uIFdyYXBwZXIoKSB7IHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7IH0gV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogV3JhcHBlciwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7IH07IHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTsgfVxuXG5mdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgeyBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7IH0gZWxzZSB7IF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgdmFyIGEgPSBbbnVsbF07IGEucHVzaC5hcHBseShhLCBhcmdzKTsgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsIGEpOyB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTsgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7IHJldHVybiBpbnN0YW5jZTsgfTsgfSByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikgeyByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuKGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZ2V0KCdjb2xsZWN0aW9uLWl0ZW0nKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgQ29sbGVjaXRvbkl0ZW0gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9IVE1MRWxlbWVudCkge1xuICAgIF9pbmhlcml0cyhDb2xsZWNpdG9uSXRlbSwgX0hUTUxFbGVtZW50KTtcblxuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ29sbGVjaXRvbkl0ZW0pO1xuXG4gICAgZnVuY3Rpb24gQ29sbGVjaXRvbkl0ZW0oKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xsZWNpdG9uSXRlbSk7XG5cbiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG5cbiAgICAgIF90aGlzLmNvbG9yT3B0aW9uc0luaXQoKTtcblxuICAgICAgX3RoaXMucXVpY2t2aWV3VG9nZ2xlSW5pdCgpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENvbGxlY2l0b25JdGVtLCBbe1xuICAgICAga2V5OiBcImNvbG9yT3B0aW9uc0luaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb2xvck9wdGlvbnNJbml0KCkge1xuICAgICAgICB2YXIgY29sb3JPcHRpb25XcmFwID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcm9kdWN0LW9wdGlvbi1ncm91cF0nKTtcbiAgICAgICAgdmFyIGltYWdlcyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29sbGVjdGlvbi1pdGVtLWltYWdlXScpO1xuXG4gICAgICAgIGlmICghY29sb3JPcHRpb25XcmFwIHx8ICFpbWFnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29sb3JPcHRpb25XcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHZhciBtYXRjaGluZ0ltYWdlID0gX3RvQ29uc3VtYWJsZUFycmF5KGltYWdlcykuZmluZChmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpbWFnZS5kYXRhc2V0LmNvbG9yID09PSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIW1hdGNoaW5nSW1hZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpbWFnZXMuZm9yRWFjaChmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpbWFnZS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlJywgaW1hZ2UgIT09IG1hdGNoaW5nSW1hZ2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicXVpY2t2aWV3VG9nZ2xlSW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHF1aWNrdmlld1RvZ2dsZUluaXQoKSB7XG4gICAgICAgIHZhciBxdWlja3ZpZXdUb2dnbGUgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXF1aWNrdmlldy12aWV3LXRvZ2dsZV0nKTtcblxuICAgICAgICBpZiAoIXF1aWNrdmlld1RvZ2dsZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBxdWlja1ZpZXdNb2RhbENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcm9kdWN0LXF1aWNrdmlldy1jb250ZW50XScpO1xuICAgICAgICB2YXIgX3F1aWNrdmlld1RvZ2dsZSRkYXRhID0gcXVpY2t2aWV3VG9nZ2xlLmRhdGFzZXQsXG4gICAgICAgICAgICB1cmwgPSBfcXVpY2t2aWV3VG9nZ2xlJGRhdGEudXJsLFxuICAgICAgICAgICAgdGVtcGxhdGUgPSBfcXVpY2t2aWV3VG9nZ2xlJGRhdGEudGVtcGxhdGUsXG4gICAgICAgICAgICBzZWN0aW9uSWQgPSBfcXVpY2t2aWV3VG9nZ2xlJGRhdGEuc2VjdGlvbklkO1xuICAgICAgICB2YXIgZmV0Y2hVcmwgPSBuZXcgVVJMKHVybCk7XG4gICAgICAgIHRlbXBsYXRlICYmIGZldGNoVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3ZpZXcnLCB0ZW1wbGF0ZSk7XG4gICAgICAgIHNlY3Rpb25JZCAmJiBmZXRjaFVybC5zZWFyY2hQYXJhbXMuc2V0KCdzZWN0aW9uX2lkJywgc2VjdGlvbklkKTtcbiAgICAgICAgcXVpY2t2aWV3VG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgICAgICB2YXIgcHJvZHVjdFNlY3Rpb25SZXM7XG4gICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgcXVpY2tWaWV3TW9kYWxDb250ZW50LmlubmVySFRNTCA9IFwiPHA+XCIuY29uY2F0KHdpbmRvdy50aGVtZS5zdHJpbmdzLmxvYWRpbmcsIFwiPC9wPlwiKTtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxO1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goZmV0Y2hVcmwudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICBwcm9kdWN0U2VjdGlvblJlcyA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9kdWN0U2VjdGlvblJlcy50ZXh0KCk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICBxdWlja1ZpZXdNb2RhbENvbnRlbnQuaW5uZXJIVE1MID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMDtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgxKTtcbiAgICAgICAgICAgICAgICAgIHF1aWNrVmlld01vZGFsQ29udGVudC5pbm5lckhUTUwgPSBcIjxwPlwiLmNvbmNhdCh3aW5kb3cudGhlbWUuc3RyaW5ncy5lcnJvciwgXCI8L3A+XCIpO1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dC50MCk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDEwXV0pO1xuICAgICAgICB9KSkpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb2xsZWNpdG9uSXRlbTtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKTtcblxuICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjb2xsZWN0aW9uLWl0ZW0nLCBDb2xsZWNpdG9uSXRlbSk7XG59KSgpOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/views/snippets/collection-item/collection-item.js\n");

/***/ }),

/***/ "./src/views/snippets/product-gallery/product-gallery.js":
/*!***************************************************************!*\
  !*** ./src/views/snippets/product-gallery/product-gallery.js ***!
  \***************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scripts_core_custom_html_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @scripts/core/custom-html-element */ \"./src/scripts/core/custom-html-element.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\nObject(_scripts_core_custom_html_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('product-gallery-carousel', /*#__PURE__*/function (_HTMLElement) {\n  _inherits(_class, _HTMLElement);\n\n  var _super = _createSuper(_class);\n\n  function _class() {\n    var _this;\n\n    _classCallCheck(this, _class);\n\n    _this = _super.call(this);\n    _this.parentProductEl = _this.closest('product-wrap');\n    _this.slideEls = _this.querySelectorAll('[data-product-gallery-slide]');\n    _this.mediaEls = _this.querySelectorAll('[data-product-media-item]');\n    _this.paginationStyle = _this.getAttribute('data-pagination-style');\n    _this.isFilterItemsByColor = _this.getAttribute('data-filter-by-color');\n    _this.colorOptionIndex = _this.getAttribute('data-color-option-index');\n    _this.activeSlide = _toConsumableArray(_this.slideEls).find(function (slide) {\n      return slide.matches('[data-first-slide-index]');\n    });\n    _this.filteredSlides = _toConsumableArray(_this.slideEls);\n    _this.swiper = null;\n    _this.thumbSwiper = null;\n    _this.variantData = {};\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: \"initCarouselGallery\",\n    value: function initCarouselGallery() {\n      if (this.isFilterItemsByColor === 'true') {\n        this.filteredSlides = this.filterItemsByColor();\n\n        if (this.filteredSlides.length) {\n          var filteredItemIds = this.filteredSlides.map(function (slide) {\n            return slide.dataset.mediaId;\n          });\n          this.slideEls.forEach(function (slideEl) {\n            slideEl.classList.remove('hide');\n\n            if (!filteredItemIds.includes(slideEl.dataset.mediaId)) {\n              slideEl.remove();\n            }\n          });\n        }\n      } else {\n        this.slideEls.forEach(function (slideEl) {\n          slideEl.classList.remove('hide');\n        });\n      }\n\n      if (this.paginationStyle === 'thumbnail_carousel') {\n        this.thumbSwiper = this.initPaginationSwiper();\n      }\n\n      this.swiper = this.initSwiper();\n    }\n  }, {\n    key: \"buildPaginationSwiperSlides\",\n    value: function buildPaginationSwiperSlides() {\n      return this.filteredSlides.map(function (slide) {\n        return \"<div class=\\\"swiper-slide swiper-pagination-thumbnail swiper-pagination-thumbnail--slide\\\">\".concat(slide.dataset.thumbImage, \"</div>\");\n      });\n    }\n  }, {\n    key: \"filterItemsByColor\",\n    value: function filterItemsByColor() {\n      var variantColor = this.variantData[\"option\".concat(this.colorOptionIndex)];\n\n      if (!variantColor) {\n        return _toConsumableArray(this.slideEls);\n      }\n\n      return _toConsumableArray(this.slideEls).filter(function (slide) {\n        var slideAltSplit = slide.dataset.altText.split('|');\n        var slideColor = slideAltSplit.length > 1 ? slideAltSplit[1].trim() : false;\n        return !slideColor || slideColor === variantColor;\n      });\n    }\n  }, {\n    key: \"initSwiper\",\n    value: function initSwiper() {\n      var _this2 = this;\n\n      var paginationEl = this.querySelector('[data-product-gallery-pagination]');\n      var swiperOptions = {\n        loop: false,\n        slidesPerView: 1,\n        threshold: 5,\n        observer: true,\n        observeParents: true\n      };\n\n      if (this.activeSlide) {\n        swiperOptions.initialSlide = Number(this.activeSlide.getAttribute('data-first-slide-index'));\n      }\n\n      if (this.paginationStyle === 'dots') {\n        swiperOptions.pagination = {\n          el: paginationEl,\n          clickable: true,\n          type: 'bullets'\n        };\n      } else if (this.paginationStyle === 'thumbnail_carousel') {\n        swiperOptions.thumbs = {\n          swiper: this.thumbSwiper,\n          autoScrollOffset: 1\n        };\n      } else if (this.paginationStyle === 'thumbnails') {\n        swiperOptions.pagination = {\n          el: paginationEl,\n          clickable: true,\n          bulletClass: 'swiper-pagination-thumbnail',\n          renderBullet: function renderBullet(index, className) {\n            var matchingSlide = _this2.filteredSlides.find(function (slide, i) {\n              return i === index;\n            });\n\n            if (!matchingSlide) {\n              return '';\n            }\n\n            return \"<span class=\\\"\".concat(className, \"\\\">\").concat(matchingSlide.dataset.thumbImage, \"</span>\");\n          }\n        };\n      }\n\n      return new Swiper(this, swiperOptions);\n    }\n  }, {\n    key: \"initPaginationSwiper\",\n    value: function initPaginationSwiper() {\n      var thumbSliderEl = this.querySelector('[data-product-gallery-thumbs-slider]');\n      var swiperOptions = {\n        loop: false,\n        slidesPerView: 'auto',\n        observer: true,\n        observeParents: true\n      };\n\n      if (this.activeSlide) {\n        swiperOptions.initialSlide = Number(this.activeSlide.getAttribute('data-first-slide-index'));\n      }\n\n      var thumbSwiper = new Swiper(thumbSliderEl, swiperOptions);\n      var thumbSlides = this.buildPaginationSwiperSlides();\n      thumbSwiper.appendSlide(thumbSlides);\n      thumbSwiper.update();\n      return thumbSwiper;\n    }\n  }, {\n    key: \"selectedVariant\",\n    get: function get() {\n      return this.variantData;\n    },\n    set: function set(variantJson) {\n      this.variantData = variantJson;\n\n      if (!this.swiper) {\n        this.initCarouselGallery();\n        return;\n      }\n\n      if (this.isFilterItemsByColor === 'true') {\n        this.filteredSlides = this.filterItemsByColor(); // Update main slider\n\n        this.swiper.removeAllSlides();\n        this.swiper.appendSlide(this.filteredSlides);\n        this.swiper.update();\n        this.swiper.slideTo(0, false); // Update thumbnail carousel\n\n        if (this.thumbSwiper) {\n          var filteredThumbs = this.buildPaginationSwiperSlides();\n          this.thumbSwiper.removeAllSlides();\n          this.thumbSwiper.appendSlide(filteredThumbs);\n          this.thumbSwiper.update();\n          this.thumbSwiper.slideTo(0, false);\n        }\n      } else {\n        var matchingMediaItem = _toConsumableArray(this.mediaEls).find(function (mediaItem) {\n          var _mediaItem$dataset$va;\n\n          return (_mediaItem$dataset$va = mediaItem.dataset.variantIds) === null || _mediaItem$dataset$va === void 0 ? void 0 : _mediaItem$dataset$va.includes(variantJson.id);\n        });\n\n        if (!matchingMediaItem) {\n          return;\n        }\n\n        var slideIndex = Number(matchingMediaItem.dataset.itemIndex);\n        this.swiper.slideTo(slideIndex, false);\n\n        if (this.thumbSwiper) {\n          this.thumbSwiper.slideTo(slideIndex, false);\n        }\n      }\n    }\n  }]);\n\n  return _class;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\nObject(_scripts_core_custom_html_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('product-gallery-simple', /*#__PURE__*/function (_HTMLElement2) {\n  _inherits(_class2, _HTMLElement2);\n\n  var _super2 = _createSuper(_class2);\n\n  function _class2() {\n    var _this3;\n\n    _classCallCheck(this, _class2);\n\n    _this3 = _super2.call(this);\n    _this3.productEl = _this3.closest('product-wrap');\n    _this3.thumbnails = _this3.productEl.querySelectorAll('[data-product-thumbnail]');\n    _this3.mediaItems = _this3.querySelectorAll('[data-product-media-item]');\n    _this3.isFilterItemsByColor = _this3.dataset.filterByColor === 'true';\n    _this3.colorOptionIndex = _this3.dataset.colorOptionIndex;\n    _this3.selectedVariant = null;\n\n    _this3.simpleGalleryInit();\n\n    return _this3;\n  }\n\n  _createClass(_class2, [{\n    key: \"simpleGalleryInit\",\n    value: function simpleGalleryInit() {\n      var _this4 = this;\n\n      this.thumbnails.forEach(function (thumbnail) {\n        thumbnail.addEventListener('click', function () {\n          _this4.mediaItems.forEach(function (mediaItem) {\n            var isClickedButton = mediaItem.dataset.mediaId === thumbnail.dataset.mediaId;\n            mediaItem.classList.toggle('hide', !isClickedButton);\n          });\n\n          _this4.thumbnails.forEach(function (btn) {\n            var isClickedButton = btn === thumbnail;\n            btn.classList.toggle('active', isClickedButton);\n            btn.setAttribute('aria-select', isClickedButton);\n          });\n        });\n      });\n    }\n  }, {\n    key: \"selectedVariant\",\n    get: function get() {\n      return this.selectedVariant;\n    },\n    set: function set(variantJson) {\n      var variantColor = variantJson[\"option\".concat(this.colorOptionIndex)];\n\n      var activeMediaItem = _toConsumableArray(this.mediaItems).find(function (mediaItem) {\n        var _mediaItem$dataset$va2;\n\n        return (_mediaItem$dataset$va2 = mediaItem.dataset.variantIds) === null || _mediaItem$dataset$va2 === void 0 ? void 0 : _mediaItem$dataset$va2.includes(variantJson.id);\n      });\n\n      if (!variantColor || !activeMediaItem || this.isFilterItemsByColor === false) {\n        return;\n      }\n\n      this.mediaItems.forEach(function (mediaItem) {\n        mediaItem.classList.toggle('hide', mediaItem !== activeMediaItem);\n      });\n\n      var activeThumbnail = _toConsumableArray(this.thumbnails).find(function (thumbnail) {\n        return thumbnail.dataset.mediaId === activeMediaItem.dataset.mediaId;\n      });\n\n      this.thumbnails.forEach(function (thumb) {\n        var isActiveButton = thumb === activeThumbnail;\n        var itemAltSplit = thumb.dataset.altText.split('|');\n        var thumbColor = itemAltSplit.length > 1 ? itemAltSplit[1].trim() : false;\n        thumb.classList.toggle('active', isActiveButton);\n        thumb.setAttribute('aria-selected', isActiveButton);\n        thumb.classList.toggle('hide', thumbColor && thumbColor !== variantColor);\n      });\n    }\n  }]);\n\n  return _class2;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\nObject(_scripts_core_custom_html_element__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('product-gallery-grid', /*#__PURE__*/function (_HTMLElement3) {\n  _inherits(_class3, _HTMLElement3);\n\n  var _super3 = _createSuper(_class3);\n\n  function _class3() {\n    var _this5;\n\n    _classCallCheck(this, _class3);\n\n    _this5 = _super3.call(this);\n    _this5.gridItems = _this5.querySelectorAll('[data-grid-gallery-item]');\n    _this5.colorOptionIndex = _this5.dataset.colorOptionIndex;\n    _this5.isFilterItemsByColor = _this5.dataset.filterByColor === 'true';\n    _this5.selectedVariant = null;\n    return _this5;\n  }\n\n  _createClass(_class3, [{\n    key: \"selectedVariant\",\n    get: function get() {\n      return this.selectedVariant;\n    },\n    set: function set(variantJson) {\n      var variantColor = variantJson[\"option\".concat(this.colorOptionIndex)];\n\n      if (!variantColor || this.isFilterItemsByColor === false) {\n        return;\n      }\n\n      this.gridItems.forEach(function (gridItem) {\n        var itemAltSplit = gridItem.dataset.altText.split('|');\n        var itemColor = itemAltSplit.length > 1 ? itemAltSplit[1].trim() : false;\n        gridItem.classList.toggle('hide', itemColor && itemColor !== variantColor);\n      });\n    }\n  }]);\n\n  return _class3;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3Mvc25pcHBldHMvcHJvZHVjdC1nYWxsZXJ5L3Byb2R1Y3QtZ2FsbGVyeS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92aWV3cy9zbmlwcGV0cy9wcm9kdWN0LWdhbGxlcnkvcHJvZHVjdC1nYWxsZXJ5LmpzPzFkYmMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7IF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7IGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHsgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7IF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpOyB9IGZ1bmN0aW9uIFdyYXBwZXIoKSB7IHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7IH0gV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogV3JhcHBlciwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7IH07IHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTsgfVxuXG5mdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgeyBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7IH0gZWxzZSB7IF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgdmFyIGEgPSBbbnVsbF07IGEucHVzaC5hcHBseShhLCBhcmdzKTsgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsIGEpOyB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTsgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7IHJldHVybiBpbnN0YW5jZTsgfTsgfSByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikgeyByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuaW1wb3J0IG5ld0N1c3RvbUVsZW1lbnQgZnJvbSAnQHNjcmlwdHMvY29yZS9jdXN0b20taHRtbC1lbGVtZW50Jztcbm5ld0N1c3RvbUVsZW1lbnQoJ3Byb2R1Y3QtZ2FsbGVyeS1jYXJvdXNlbCcsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7XG4gIF9pbmhlcml0cyhfY2xhc3MsIF9IVE1MRWxlbWVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihfY2xhc3MpO1xuXG4gIGZ1bmN0aW9uIF9jbGFzcygpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgX2NsYXNzKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgX3RoaXMucGFyZW50UHJvZHVjdEVsID0gX3RoaXMuY2xvc2VzdCgncHJvZHVjdC13cmFwJyk7XG4gICAgX3RoaXMuc2xpZGVFbHMgPSBfdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcm9kdWN0LWdhbGxlcnktc2xpZGVdJyk7XG4gICAgX3RoaXMubWVkaWFFbHMgPSBfdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcm9kdWN0LW1lZGlhLWl0ZW1dJyk7XG4gICAgX3RoaXMucGFnaW5hdGlvblN0eWxlID0gX3RoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXBhZ2luYXRpb24tc3R5bGUnKTtcbiAgICBfdGhpcy5pc0ZpbHRlckl0ZW1zQnlDb2xvciA9IF90aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1maWx0ZXItYnktY29sb3InKTtcbiAgICBfdGhpcy5jb2xvck9wdGlvbkluZGV4ID0gX3RoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbG9yLW9wdGlvbi1pbmRleCcpO1xuICAgIF90aGlzLmFjdGl2ZVNsaWRlID0gX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzLnNsaWRlRWxzKS5maW5kKGZ1bmN0aW9uIChzbGlkZSkge1xuICAgICAgcmV0dXJuIHNsaWRlLm1hdGNoZXMoJ1tkYXRhLWZpcnN0LXNsaWRlLWluZGV4XScpO1xuICAgIH0pO1xuICAgIF90aGlzLmZpbHRlcmVkU2xpZGVzID0gX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzLnNsaWRlRWxzKTtcbiAgICBfdGhpcy5zd2lwZXIgPSBudWxsO1xuICAgIF90aGlzLnRodW1iU3dpcGVyID0gbnVsbDtcbiAgICBfdGhpcy52YXJpYW50RGF0YSA9IHt9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhfY2xhc3MsIFt7XG4gICAga2V5OiBcImluaXRDYXJvdXNlbEdhbGxlcnlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdENhcm91c2VsR2FsbGVyeSgpIHtcbiAgICAgIGlmICh0aGlzLmlzRmlsdGVySXRlbXNCeUNvbG9yID09PSAndHJ1ZScpIHtcbiAgICAgICAgdGhpcy5maWx0ZXJlZFNsaWRlcyA9IHRoaXMuZmlsdGVySXRlbXNCeUNvbG9yKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyZWRTbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGZpbHRlcmVkSXRlbUlkcyA9IHRoaXMuZmlsdGVyZWRTbGlkZXMubWFwKGZ1bmN0aW9uIChzbGlkZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNsaWRlLmRhdGFzZXQubWVkaWFJZDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLnNsaWRlRWxzLmZvckVhY2goZnVuY3Rpb24gKHNsaWRlRWwpIHtcbiAgICAgICAgICAgIHNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xuXG4gICAgICAgICAgICBpZiAoIWZpbHRlcmVkSXRlbUlkcy5pbmNsdWRlcyhzbGlkZUVsLmRhdGFzZXQubWVkaWFJZCkpIHtcbiAgICAgICAgICAgICAgc2xpZGVFbC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zbGlkZUVscy5mb3JFYWNoKGZ1bmN0aW9uIChzbGlkZUVsKSB7XG4gICAgICAgICAgc2xpZGVFbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wYWdpbmF0aW9uU3R5bGUgPT09ICd0aHVtYm5haWxfY2Fyb3VzZWwnKSB7XG4gICAgICAgIHRoaXMudGh1bWJTd2lwZXIgPSB0aGlzLmluaXRQYWdpbmF0aW9uU3dpcGVyKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3dpcGVyID0gdGhpcy5pbml0U3dpcGVyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImJ1aWxkUGFnaW5hdGlvblN3aXBlclNsaWRlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZFBhZ2luYXRpb25Td2lwZXJTbGlkZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXJlZFNsaWRlcy5tYXAoZnVuY3Rpb24gKHNsaWRlKSB7XG4gICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcInN3aXBlci1zbGlkZSBzd2lwZXItcGFnaW5hdGlvbi10aHVtYm5haWwgc3dpcGVyLXBhZ2luYXRpb24tdGh1bWJuYWlsLS1zbGlkZVxcXCI+XCIuY29uY2F0KHNsaWRlLmRhdGFzZXQudGh1bWJJbWFnZSwgXCI8L2Rpdj5cIik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmlsdGVySXRlbXNCeUNvbG9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlckl0ZW1zQnlDb2xvcigpIHtcbiAgICAgIHZhciB2YXJpYW50Q29sb3IgPSB0aGlzLnZhcmlhbnREYXRhW1wib3B0aW9uXCIuY29uY2F0KHRoaXMuY29sb3JPcHRpb25JbmRleCldO1xuXG4gICAgICBpZiAoIXZhcmlhbnRDb2xvcikge1xuICAgICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuc2xpZGVFbHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuc2xpZGVFbHMpLmZpbHRlcihmdW5jdGlvbiAoc2xpZGUpIHtcbiAgICAgICAgdmFyIHNsaWRlQWx0U3BsaXQgPSBzbGlkZS5kYXRhc2V0LmFsdFRleHQuc3BsaXQoJ3wnKTtcbiAgICAgICAgdmFyIHNsaWRlQ29sb3IgPSBzbGlkZUFsdFNwbGl0Lmxlbmd0aCA+IDEgPyBzbGlkZUFsdFNwbGl0WzFdLnRyaW0oKSA6IGZhbHNlO1xuICAgICAgICByZXR1cm4gIXNsaWRlQ29sb3IgfHwgc2xpZGVDb2xvciA9PT0gdmFyaWFudENvbG9yO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImluaXRTd2lwZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFN3aXBlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgcGFnaW5hdGlvbkVsID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcm9kdWN0LWdhbGxlcnktcGFnaW5hdGlvbl0nKTtcbiAgICAgIHZhciBzd2lwZXJPcHRpb25zID0ge1xuICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgICAgdGhyZXNob2xkOiA1LFxuICAgICAgICBvYnNlcnZlcjogdHJ1ZSxcbiAgICAgICAgb2JzZXJ2ZVBhcmVudHM6IHRydWVcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLmFjdGl2ZVNsaWRlKSB7XG4gICAgICAgIHN3aXBlck9wdGlvbnMuaW5pdGlhbFNsaWRlID0gTnVtYmVyKHRoaXMuYWN0aXZlU2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWZpcnN0LXNsaWRlLWluZGV4JykpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wYWdpbmF0aW9uU3R5bGUgPT09ICdkb3RzJykge1xuICAgICAgICBzd2lwZXJPcHRpb25zLnBhZ2luYXRpb24gPSB7XG4gICAgICAgICAgZWw6IHBhZ2luYXRpb25FbCxcbiAgICAgICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgICAgICAgdHlwZTogJ2J1bGxldHMnXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucGFnaW5hdGlvblN0eWxlID09PSAndGh1bWJuYWlsX2Nhcm91c2VsJykge1xuICAgICAgICBzd2lwZXJPcHRpb25zLnRodW1icyA9IHtcbiAgICAgICAgICBzd2lwZXI6IHRoaXMudGh1bWJTd2lwZXIsXG4gICAgICAgICAgYXV0b1Njcm9sbE9mZnNldDogMVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnBhZ2luYXRpb25TdHlsZSA9PT0gJ3RodW1ibmFpbHMnKSB7XG4gICAgICAgIHN3aXBlck9wdGlvbnMucGFnaW5hdGlvbiA9IHtcbiAgICAgICAgICBlbDogcGFnaW5hdGlvbkVsLFxuICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgICAgICBidWxsZXRDbGFzczogJ3N3aXBlci1wYWdpbmF0aW9uLXRodW1ibmFpbCcsXG4gICAgICAgICAgcmVuZGVyQnVsbGV0OiBmdW5jdGlvbiByZW5kZXJCdWxsZXQoaW5kZXgsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgdmFyIG1hdGNoaW5nU2xpZGUgPSBfdGhpczIuZmlsdGVyZWRTbGlkZXMuZmluZChmdW5jdGlvbiAoc2xpZGUsIGkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGkgPT09IGluZGV4O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghbWF0Y2hpbmdTbGlkZSkge1xuICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBcIjxzcGFuIGNsYXNzPVxcXCJcIi5jb25jYXQoY2xhc3NOYW1lLCBcIlxcXCI+XCIpLmNvbmNhdChtYXRjaGluZ1NsaWRlLmRhdGFzZXQudGh1bWJJbWFnZSwgXCI8L3NwYW4+XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBTd2lwZXIodGhpcywgc3dpcGVyT3B0aW9ucyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImluaXRQYWdpbmF0aW9uU3dpcGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRQYWdpbmF0aW9uU3dpcGVyKCkge1xuICAgICAgdmFyIHRodW1iU2xpZGVyRWwgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2R1Y3QtZ2FsbGVyeS10aHVtYnMtc2xpZGVyXScpO1xuICAgICAgdmFyIHN3aXBlck9wdGlvbnMgPSB7XG4gICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICAgIG9ic2VydmVyOiB0cnVlLFxuICAgICAgICBvYnNlcnZlUGFyZW50czogdHJ1ZVxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuYWN0aXZlU2xpZGUpIHtcbiAgICAgICAgc3dpcGVyT3B0aW9ucy5pbml0aWFsU2xpZGUgPSBOdW1iZXIodGhpcy5hY3RpdmVTbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmlyc3Qtc2xpZGUtaW5kZXgnKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0aHVtYlN3aXBlciA9IG5ldyBTd2lwZXIodGh1bWJTbGlkZXJFbCwgc3dpcGVyT3B0aW9ucyk7XG4gICAgICB2YXIgdGh1bWJTbGlkZXMgPSB0aGlzLmJ1aWxkUGFnaW5hdGlvblN3aXBlclNsaWRlcygpO1xuICAgICAgdGh1bWJTd2lwZXIuYXBwZW5kU2xpZGUodGh1bWJTbGlkZXMpO1xuICAgICAgdGh1bWJTd2lwZXIudXBkYXRlKCk7XG4gICAgICByZXR1cm4gdGh1bWJTd2lwZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNlbGVjdGVkVmFyaWFudFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFyaWFudERhdGE7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YXJpYW50SnNvbikge1xuICAgICAgdGhpcy52YXJpYW50RGF0YSA9IHZhcmlhbnRKc29uO1xuXG4gICAgICBpZiAoIXRoaXMuc3dpcGVyKSB7XG4gICAgICAgIHRoaXMuaW5pdENhcm91c2VsR2FsbGVyeSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzRmlsdGVySXRlbXNCeUNvbG9yID09PSAndHJ1ZScpIHtcbiAgICAgICAgdGhpcy5maWx0ZXJlZFNsaWRlcyA9IHRoaXMuZmlsdGVySXRlbXNCeUNvbG9yKCk7IC8vIFVwZGF0ZSBtYWluIHNsaWRlclxuXG4gICAgICAgIHRoaXMuc3dpcGVyLnJlbW92ZUFsbFNsaWRlcygpO1xuICAgICAgICB0aGlzLnN3aXBlci5hcHBlbmRTbGlkZSh0aGlzLmZpbHRlcmVkU2xpZGVzKTtcbiAgICAgICAgdGhpcy5zd2lwZXIudXBkYXRlKCk7XG4gICAgICAgIHRoaXMuc3dpcGVyLnNsaWRlVG8oMCwgZmFsc2UpOyAvLyBVcGRhdGUgdGh1bWJuYWlsIGNhcm91c2VsXG5cbiAgICAgICAgaWYgKHRoaXMudGh1bWJTd2lwZXIpIHtcbiAgICAgICAgICB2YXIgZmlsdGVyZWRUaHVtYnMgPSB0aGlzLmJ1aWxkUGFnaW5hdGlvblN3aXBlclNsaWRlcygpO1xuICAgICAgICAgIHRoaXMudGh1bWJTd2lwZXIucmVtb3ZlQWxsU2xpZGVzKCk7XG4gICAgICAgICAgdGhpcy50aHVtYlN3aXBlci5hcHBlbmRTbGlkZShmaWx0ZXJlZFRodW1icyk7XG4gICAgICAgICAgdGhpcy50aHVtYlN3aXBlci51cGRhdGUoKTtcbiAgICAgICAgICB0aGlzLnRodW1iU3dpcGVyLnNsaWRlVG8oMCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbWF0Y2hpbmdNZWRpYUl0ZW0gPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5tZWRpYUVscykuZmluZChmdW5jdGlvbiAobWVkaWFJdGVtKSB7XG4gICAgICAgICAgdmFyIF9tZWRpYUl0ZW0kZGF0YXNldCR2YTtcblxuICAgICAgICAgIHJldHVybiAoX21lZGlhSXRlbSRkYXRhc2V0JHZhID0gbWVkaWFJdGVtLmRhdGFzZXQudmFyaWFudElkcykgPT09IG51bGwgfHwgX21lZGlhSXRlbSRkYXRhc2V0JHZhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWVkaWFJdGVtJGRhdGFzZXQkdmEuaW5jbHVkZXModmFyaWFudEpzb24uaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIW1hdGNoaW5nTWVkaWFJdGVtKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNsaWRlSW5kZXggPSBOdW1iZXIobWF0Y2hpbmdNZWRpYUl0ZW0uZGF0YXNldC5pdGVtSW5kZXgpO1xuICAgICAgICB0aGlzLnN3aXBlci5zbGlkZVRvKHNsaWRlSW5kZXgsIGZhbHNlKTtcblxuICAgICAgICBpZiAodGhpcy50aHVtYlN3aXBlcikge1xuICAgICAgICAgIHRoaXMudGh1bWJTd2lwZXIuc2xpZGVUbyhzbGlkZUluZGV4LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gX2NsYXNzO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKSk7XG5uZXdDdXN0b21FbGVtZW50KCdwcm9kdWN0LWdhbGxlcnktc2ltcGxlJywgLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSFRNTEVsZW1lbnQyKSB7XG4gIF9pbmhlcml0cyhfY2xhc3MyLCBfSFRNTEVsZW1lbnQyKTtcblxuICB2YXIgX3N1cGVyMiA9IF9jcmVhdGVTdXBlcihfY2xhc3MyKTtcblxuICBmdW5jdGlvbiBfY2xhc3MyKCkge1xuICAgIHZhciBfdGhpczM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgX2NsYXNzMik7XG5cbiAgICBfdGhpczMgPSBfc3VwZXIyLmNhbGwodGhpcyk7XG4gICAgX3RoaXMzLnByb2R1Y3RFbCA9IF90aGlzMy5jbG9zZXN0KCdwcm9kdWN0LXdyYXAnKTtcbiAgICBfdGhpczMudGh1bWJuYWlscyA9IF90aGlzMy5wcm9kdWN0RWwucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJvZHVjdC10aHVtYm5haWxdJyk7XG4gICAgX3RoaXMzLm1lZGlhSXRlbXMgPSBfdGhpczMucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJvZHVjdC1tZWRpYS1pdGVtXScpO1xuICAgIF90aGlzMy5pc0ZpbHRlckl0ZW1zQnlDb2xvciA9IF90aGlzMy5kYXRhc2V0LmZpbHRlckJ5Q29sb3IgPT09ICd0cnVlJztcbiAgICBfdGhpczMuY29sb3JPcHRpb25JbmRleCA9IF90aGlzMy5kYXRhc2V0LmNvbG9yT3B0aW9uSW5kZXg7XG4gICAgX3RoaXMzLnNlbGVjdGVkVmFyaWFudCA9IG51bGw7XG5cbiAgICBfdGhpczMuc2ltcGxlR2FsbGVyeUluaXQoKTtcblxuICAgIHJldHVybiBfdGhpczM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoX2NsYXNzMiwgW3tcbiAgICBrZXk6IFwic2ltcGxlR2FsbGVyeUluaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2ltcGxlR2FsbGVyeUluaXQoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdGhpcy50aHVtYm5haWxzLmZvckVhY2goZnVuY3Rpb24gKHRodW1ibmFpbCkge1xuICAgICAgICB0aHVtYm5haWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXM0Lm1lZGlhSXRlbXMuZm9yRWFjaChmdW5jdGlvbiAobWVkaWFJdGVtKSB7XG4gICAgICAgICAgICB2YXIgaXNDbGlja2VkQnV0dG9uID0gbWVkaWFJdGVtLmRhdGFzZXQubWVkaWFJZCA9PT0gdGh1bWJuYWlsLmRhdGFzZXQubWVkaWFJZDtcbiAgICAgICAgICAgIG1lZGlhSXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlJywgIWlzQ2xpY2tlZEJ1dHRvbik7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBfdGhpczQudGh1bWJuYWlscy5mb3JFYWNoKGZ1bmN0aW9uIChidG4pIHtcbiAgICAgICAgICAgIHZhciBpc0NsaWNrZWRCdXR0b24gPSBidG4gPT09IHRodW1ibmFpbDtcbiAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCBpc0NsaWNrZWRCdXR0b24pO1xuICAgICAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3QnLCBpc0NsaWNrZWRCdXR0b24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZWxlY3RlZFZhcmlhbnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkVmFyaWFudDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhcmlhbnRKc29uKSB7XG4gICAgICB2YXIgdmFyaWFudENvbG9yID0gdmFyaWFudEpzb25bXCJvcHRpb25cIi5jb25jYXQodGhpcy5jb2xvck9wdGlvbkluZGV4KV07XG5cbiAgICAgIHZhciBhY3RpdmVNZWRpYUl0ZW0gPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5tZWRpYUl0ZW1zKS5maW5kKGZ1bmN0aW9uIChtZWRpYUl0ZW0pIHtcbiAgICAgICAgdmFyIF9tZWRpYUl0ZW0kZGF0YXNldCR2YTI7XG5cbiAgICAgICAgcmV0dXJuIChfbWVkaWFJdGVtJGRhdGFzZXQkdmEyID0gbWVkaWFJdGVtLmRhdGFzZXQudmFyaWFudElkcykgPT09IG51bGwgfHwgX21lZGlhSXRlbSRkYXRhc2V0JHZhMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21lZGlhSXRlbSRkYXRhc2V0JHZhMi5pbmNsdWRlcyh2YXJpYW50SnNvbi5pZCk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKCF2YXJpYW50Q29sb3IgfHwgIWFjdGl2ZU1lZGlhSXRlbSB8fCB0aGlzLmlzRmlsdGVySXRlbXNCeUNvbG9yID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWVkaWFJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChtZWRpYUl0ZW0pIHtcbiAgICAgICAgbWVkaWFJdGVtLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGUnLCBtZWRpYUl0ZW0gIT09IGFjdGl2ZU1lZGlhSXRlbSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGFjdGl2ZVRodW1ibmFpbCA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnRodW1ibmFpbHMpLmZpbmQoZnVuY3Rpb24gKHRodW1ibmFpbCkge1xuICAgICAgICByZXR1cm4gdGh1bWJuYWlsLmRhdGFzZXQubWVkaWFJZCA9PT0gYWN0aXZlTWVkaWFJdGVtLmRhdGFzZXQubWVkaWFJZDtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnRodW1ibmFpbHMuZm9yRWFjaChmdW5jdGlvbiAodGh1bWIpIHtcbiAgICAgICAgdmFyIGlzQWN0aXZlQnV0dG9uID0gdGh1bWIgPT09IGFjdGl2ZVRodW1ibmFpbDtcbiAgICAgICAgdmFyIGl0ZW1BbHRTcGxpdCA9IHRodW1iLmRhdGFzZXQuYWx0VGV4dC5zcGxpdCgnfCcpO1xuICAgICAgICB2YXIgdGh1bWJDb2xvciA9IGl0ZW1BbHRTcGxpdC5sZW5ndGggPiAxID8gaXRlbUFsdFNwbGl0WzFdLnRyaW0oKSA6IGZhbHNlO1xuICAgICAgICB0aHVtYi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCBpc0FjdGl2ZUJ1dHRvbik7XG4gICAgICAgIHRodW1iLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlQnV0dG9uKTtcbiAgICAgICAgdGh1bWIuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZScsIHRodW1iQ29sb3IgJiYgdGh1bWJDb2xvciAhPT0gdmFyaWFudENvbG9yKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBfY2xhc3MyO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKSk7XG5uZXdDdXN0b21FbGVtZW50KCdwcm9kdWN0LWdhbGxlcnktZ3JpZCcsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50Mykge1xuICBfaW5oZXJpdHMoX2NsYXNzMywgX0hUTUxFbGVtZW50Myk7XG5cbiAgdmFyIF9zdXBlcjMgPSBfY3JlYXRlU3VwZXIoX2NsYXNzMyk7XG5cbiAgZnVuY3Rpb24gX2NsYXNzMygpIHtcbiAgICB2YXIgX3RoaXM1O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIF9jbGFzczMpO1xuXG4gICAgX3RoaXM1ID0gX3N1cGVyMy5jYWxsKHRoaXMpO1xuICAgIF90aGlzNS5ncmlkSXRlbXMgPSBfdGhpczUucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZ3JpZC1nYWxsZXJ5LWl0ZW1dJyk7XG4gICAgX3RoaXM1LmNvbG9yT3B0aW9uSW5kZXggPSBfdGhpczUuZGF0YXNldC5jb2xvck9wdGlvbkluZGV4O1xuICAgIF90aGlzNS5pc0ZpbHRlckl0ZW1zQnlDb2xvciA9IF90aGlzNS5kYXRhc2V0LmZpbHRlckJ5Q29sb3IgPT09ICd0cnVlJztcbiAgICBfdGhpczUuc2VsZWN0ZWRWYXJpYW50ID0gbnVsbDtcbiAgICByZXR1cm4gX3RoaXM1O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKF9jbGFzczMsIFt7XG4gICAga2V5OiBcInNlbGVjdGVkVmFyaWFudFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRWYXJpYW50O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFyaWFudEpzb24pIHtcbiAgICAgIHZhciB2YXJpYW50Q29sb3IgPSB2YXJpYW50SnNvbltcIm9wdGlvblwiLmNvbmNhdCh0aGlzLmNvbG9yT3B0aW9uSW5kZXgpXTtcblxuICAgICAgaWYgKCF2YXJpYW50Q29sb3IgfHwgdGhpcy5pc0ZpbHRlckl0ZW1zQnlDb2xvciA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmdyaWRJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChncmlkSXRlbSkge1xuICAgICAgICB2YXIgaXRlbUFsdFNwbGl0ID0gZ3JpZEl0ZW0uZGF0YXNldC5hbHRUZXh0LnNwbGl0KCd8Jyk7XG4gICAgICAgIHZhciBpdGVtQ29sb3IgPSBpdGVtQWx0U3BsaXQubGVuZ3RoID4gMSA/IGl0ZW1BbHRTcGxpdFsxXS50cmltKCkgOiBmYWxzZTtcbiAgICAgICAgZ3JpZEl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZScsIGl0ZW1Db2xvciAmJiBpdGVtQ29sb3IgIT09IHZhcmlhbnRDb2xvcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gX2NsYXNzMztcbn0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEhUTUxFbGVtZW50KSkpOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/snippets/product-gallery/product-gallery.js\n");

/***/ }),

/***/ "./src/views/snippets/quantity-selector/quantity-selector.js":
/*!*******************************************************************!*\
  !*** ./src/views/snippets/quantity-selector/quantity-selector.js ***!
  \*******************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scripts_components_sr_speak__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @scripts/components/sr-speak */ \"./src/scripts/components/sr-speak.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\nvar quantitySelector = /*#__PURE__*/function (_HTMLElement) {\n  _inherits(quantitySelector, _HTMLElement);\n\n  var _super = _createSuper(quantitySelector);\n\n  function quantitySelector() {\n    var _this;\n\n    _classCallCheck(this, quantitySelector);\n\n    _this = _super.call(this);\n\n    _this.initSelector();\n\n    return _this;\n  }\n\n  _createClass(quantitySelector, [{\n    key: \"initSelector\",\n    value: function initSelector() {\n      var quantityButtons = this.querySelectorAll('[data-quantity-button]');\n      var quantityInput = this.querySelector('[data-quantity-input]');\n      var quantityLimitNotice = this.querySelector('[data-quantity-limit-notice]');\n      quantityButtons.forEach(function (quantityButton) {\n        quantityButton.addEventListener('click', function (event) {\n          var prevValue = quantityInput.value;\n\n          if (quantityButton.dataset.action === 'plus') {\n            quantityInput.stepUp();\n          } else if (quantityButton.dataset.action === 'minus') {\n            quantityInput.stepDown();\n          }\n\n          if (prevValue !== quantityInput.value) {\n            quantityInput.dispatchEvent(new Event('change'));\n            Object(_scripts_components_sr_speak__WEBPACK_IMPORTED_MODULE_0__[\"srSpeak\"])(quantityInput.value, 'assertive');\n          }\n\n          var isAtMax = quantityInput.value === quantityInput.max;\n          quantityLimitNotice.classList.toggle('hide', !isAtMax);\n          quantityLimitNotice.textContent = quantityLimitNotice.dataset.text.replace('{{ limit }}', quantityInput.max);\n\n          if (isAtMax) {\n            Object(_scripts_components_sr_speak__WEBPACK_IMPORTED_MODULE_0__[\"srSpeak\"])(quantityLimitNotice.textContent, 'polite');\n          }\n        });\n      });\n    }\n  }]);\n\n  return quantitySelector;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement));\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  window.customElements.define('quantity-selector', quantitySelector);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3Mvc25pcHBldHMvcXVhbnRpdHktc2VsZWN0b3IvcXVhbnRpdHktc2VsZWN0b3IuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc25pcHBldHMvcXVhbnRpdHktc2VsZWN0b3IvcXVhbnRpdHktc2VsZWN0b3IuanM/ODM1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfSwgX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7IF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7IGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHsgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7IF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpOyB9IGZ1bmN0aW9uIFdyYXBwZXIoKSB7IHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7IH0gV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogV3JhcHBlciwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7IH07IHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTsgfVxuXG5mdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgeyBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7IH0gZWxzZSB7IF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgdmFyIGEgPSBbbnVsbF07IGEucHVzaC5hcHBseShhLCBhcmdzKTsgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsIGEpOyB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTsgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7IHJldHVybiBpbnN0YW5jZTsgfTsgfSByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikgeyByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuaW1wb3J0IHsgc3JTcGVhayB9IGZyb20gJ0BzY3JpcHRzL2NvbXBvbmVudHMvc3Itc3BlYWsnO1xuXG52YXIgcXVhbnRpdHlTZWxlY3RvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7XG4gIF9pbmhlcml0cyhxdWFudGl0eVNlbGVjdG9yLCBfSFRNTEVsZW1lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIocXVhbnRpdHlTZWxlY3Rvcik7XG5cbiAgZnVuY3Rpb24gcXVhbnRpdHlTZWxlY3RvcigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgcXVhbnRpdHlTZWxlY3Rvcik7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuXG4gICAgX3RoaXMuaW5pdFNlbGVjdG9yKCk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MocXVhbnRpdHlTZWxlY3RvciwgW3tcbiAgICBrZXk6IFwiaW5pdFNlbGVjdG9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRTZWxlY3RvcigpIHtcbiAgICAgIHZhciBxdWFudGl0eUJ1dHRvbnMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXF1YW50aXR5LWJ1dHRvbl0nKTtcbiAgICAgIHZhciBxdWFudGl0eUlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1xdWFudGl0eS1pbnB1dF0nKTtcbiAgICAgIHZhciBxdWFudGl0eUxpbWl0Tm90aWNlID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1xdWFudGl0eS1saW1pdC1ub3RpY2VdJyk7XG4gICAgICBxdWFudGl0eUJ1dHRvbnMuZm9yRWFjaChmdW5jdGlvbiAocXVhbnRpdHlCdXR0b24pIHtcbiAgICAgICAgcXVhbnRpdHlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICB2YXIgcHJldlZhbHVlID0gcXVhbnRpdHlJbnB1dC52YWx1ZTtcblxuICAgICAgICAgIGlmIChxdWFudGl0eUJ1dHRvbi5kYXRhc2V0LmFjdGlvbiA9PT0gJ3BsdXMnKSB7XG4gICAgICAgICAgICBxdWFudGl0eUlucHV0LnN0ZXBVcCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocXVhbnRpdHlCdXR0b24uZGF0YXNldC5hY3Rpb24gPT09ICdtaW51cycpIHtcbiAgICAgICAgICAgIHF1YW50aXR5SW5wdXQuc3RlcERvd24oKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJldlZhbHVlICE9PSBxdWFudGl0eUlucHV0LnZhbHVlKSB7XG4gICAgICAgICAgICBxdWFudGl0eUlucHV0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSk7XG4gICAgICAgICAgICBzclNwZWFrKHF1YW50aXR5SW5wdXQudmFsdWUsICdhc3NlcnRpdmUnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgaXNBdE1heCA9IHF1YW50aXR5SW5wdXQudmFsdWUgPT09IHF1YW50aXR5SW5wdXQubWF4O1xuICAgICAgICAgIHF1YW50aXR5TGltaXROb3RpY2UuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZScsICFpc0F0TWF4KTtcbiAgICAgICAgICBxdWFudGl0eUxpbWl0Tm90aWNlLnRleHRDb250ZW50ID0gcXVhbnRpdHlMaW1pdE5vdGljZS5kYXRhc2V0LnRleHQucmVwbGFjZSgne3sgbGltaXQgfX0nLCBxdWFudGl0eUlucHV0Lm1heCk7XG5cbiAgICAgICAgICBpZiAoaXNBdE1heCkge1xuICAgICAgICAgICAgc3JTcGVhayhxdWFudGl0eUxpbWl0Tm90aWNlLnRleHRDb250ZW50LCAncG9saXRlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBxdWFudGl0eVNlbGVjdG9yO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgncXVhbnRpdHktc2VsZWN0b3InLCBxdWFudGl0eVNlbGVjdG9yKTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/views/snippets/quantity-selector/quantity-selector.js\n");

/***/ })

/******/ });