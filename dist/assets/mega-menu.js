/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/views/sections/mega-menu/mega-menu.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/scripts/core/trap-focus.js":
/*!****************************************!*\
  !*** ./src/scripts/core/trap-focus.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar trapFocus = {\n  targetEl: null,\n  isOpen: false,\n  lastFocusedEl: null,\n  focusableEls: [],\n  open: function open(target) {\n    var _this = this;\n\n    if (this.isOpen === true) {\n      document.body.removeEventListener('focusin', checkIfFocusIsInTarget);\n    }\n\n    this.targetEl = target;\n    this.setFocusableEls();\n    this.lastFocusedEl = document.activeElement;\n    this.isOpen = true;\n    window.addEventListener('focusin', checkIfFocusIsInTarget);\n    setTimeout(function () {\n      _this.focusableEls[0].focus();\n    }, 50);\n  },\n  close: function close() {\n    var _this2 = this;\n\n    if (this.isOpen === false) {\n      return;\n    }\n\n    window.removeEventListener('focusin', checkIfFocusIsInTarget);\n    this.isOpen = false;\n    setTimeout(function () {\n      var _this2$lastFocusedEl;\n\n      (_this2$lastFocusedEl = _this2.lastFocusedEl) === null || _this2$lastFocusedEl === void 0 ? void 0 : _this2$lastFocusedEl.focus({\n        focusVisible: true\n      });\n    }, 500);\n  },\n  setFocusableEls: function setFocusableEls() {\n    this.focusableEls = _toConsumableArray(this.targetEl.querySelectorAll('a, button, input, textarea, select, summary, [tabindex]:not([tabindex=\"-1\"])')).filter(function (el) {\n      return !el.hasAttribute('disabled') && el.offsetParent !== null;\n    });\n  }\n};\n\nfunction checkIfFocusIsInTarget(event) {\n  if (trapFocus.targetEl && trapFocus.targetEl.contains(event.target)) {\n    return;\n  }\n\n  trapFocus.setFocusableEls();\n\n  if (event.relatedTarget === trapFocus.focusableEls[0]) {\n    trapFocus.focusableEls[trapFocus.focusableEls.length - 1].focus();\n  } else {\n    trapFocus.focusableEls[0].focus();\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (trapFocus);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL3RyYXAtZm9jdXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL3RyYXAtZm9jdXMuanM/Y2I3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbnZhciB0cmFwRm9jdXMgPSB7XG4gIHRhcmdldEVsOiBudWxsLFxuICBpc09wZW46IGZhbHNlLFxuICBsYXN0Rm9jdXNlZEVsOiBudWxsLFxuICBmb2N1c2FibGVFbHM6IFtdLFxuICBvcGVuOiBmdW5jdGlvbiBvcGVuKHRhcmdldCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5pc09wZW4gPT09IHRydWUpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIGNoZWNrSWZGb2N1c0lzSW5UYXJnZXQpO1xuICAgIH1cblxuICAgIHRoaXMudGFyZ2V0RWwgPSB0YXJnZXQ7XG4gICAgdGhpcy5zZXRGb2N1c2FibGVFbHMoKTtcbiAgICB0aGlzLmxhc3RGb2N1c2VkRWwgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIGNoZWNrSWZGb2N1c0lzSW5UYXJnZXQpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuZm9jdXNhYmxlRWxzWzBdLmZvY3VzKCk7XG4gICAgfSwgNTApO1xuICB9LFxuICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5pc09wZW4gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBjaGVja0lmRm9jdXNJc0luVGFyZ2V0KTtcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzMiRsYXN0Rm9jdXNlZEVsO1xuXG4gICAgICAoX3RoaXMyJGxhc3RGb2N1c2VkRWwgPSBfdGhpczIubGFzdEZvY3VzZWRFbCkgPT09IG51bGwgfHwgX3RoaXMyJGxhc3RGb2N1c2VkRWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMiRsYXN0Rm9jdXNlZEVsLmZvY3VzKHtcbiAgICAgICAgZm9jdXNWaXNpYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9LCA1MDApO1xuICB9LFxuICBzZXRGb2N1c2FibGVFbHM6IGZ1bmN0aW9uIHNldEZvY3VzYWJsZUVscygpIHtcbiAgICB0aGlzLmZvY3VzYWJsZUVscyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnRhcmdldEVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EsIGJ1dHRvbiwgaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QsIHN1bW1hcnksIFt0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKScpKS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICByZXR1cm4gIWVsLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiBlbC5vZmZzZXRQYXJlbnQgIT09IG51bGw7XG4gICAgfSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNoZWNrSWZGb2N1c0lzSW5UYXJnZXQoZXZlbnQpIHtcbiAgaWYgKHRyYXBGb2N1cy50YXJnZXRFbCAmJiB0cmFwRm9jdXMudGFyZ2V0RWwuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRyYXBGb2N1cy5zZXRGb2N1c2FibGVFbHMoKTtcblxuICBpZiAoZXZlbnQucmVsYXRlZFRhcmdldCA9PT0gdHJhcEZvY3VzLmZvY3VzYWJsZUVsc1swXSkge1xuICAgIHRyYXBGb2N1cy5mb2N1c2FibGVFbHNbdHJhcEZvY3VzLmZvY3VzYWJsZUVscy5sZW5ndGggLSAxXS5mb2N1cygpO1xuICB9IGVsc2Uge1xuICAgIHRyYXBGb2N1cy5mb2N1c2FibGVFbHNbMF0uZm9jdXMoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB0cmFwRm9jdXM7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/trap-focus.js\n");

/***/ }),

/***/ "./src/views/sections/mega-menu/mega-menu.js":
/*!***************************************************!*\
  !*** ./src/views/sections/mega-menu/mega-menu.js ***!
  \***************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @scripts/core/trap-focus */ \"./src/scripts/core/trap-focus.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n(function () {\n  if (typeof window.customElements.get('mega-menu') !== 'undefined') {\n    return;\n  }\n\n  window.customElements.define('mega-menu', /*#__PURE__*/function (_HTMLElement) {\n    _inherits(MegaMenu, _HTMLElement);\n\n    var _super = _createSuper(MegaMenu);\n\n    // eslint-disable-line\n    function MegaMenu() {\n      var _this;\n\n      _classCallCheck(this, MegaMenu);\n\n      _this = _super.call(this);\n      _this.navItems = _this.querySelectorAll('[data-mega-menu-nav-item]');\n      _this.dropdowns = _this.querySelectorAll('[data-mega-menu-dropdown]');\n      _this.primaryLinks = _this.querySelectorAll('[data-mega-menu-primary-link]');\n      _this.tabbableElements = null;\n      _this.primaryLinks = _toConsumableArray(_this.primaryLinks);\n      _this.menuEnterTimer = setTimeout(function () {});\n      _this.menuLeaveTimer = setTimeout(function () {});\n      _this.isDropdownOpen = false;\n      _this.activeDropdown = null;\n\n      _this.init();\n\n      return _this;\n    }\n\n    _createClass(MegaMenu, [{\n      key: \"init\",\n      value: function init() {\n        var _this2 = this;\n\n        window.addEventListener('keydown', function (event) {\n          if (event.key === 'Escape' && _this2.isDropdownOpen) {\n            _this2.closeDropdowns();\n          }\n        });\n\n        var navItems = _toConsumableArray(this.navItems);\n\n        navItems.forEach(function (navItem) {\n          var dropdown = navItem.querySelector('[data-mega-menu-dropdown]');\n          var dropdownLinks = dropdown.querySelectorAll('[data-mega-menu-link]');\n          dropdownLinks = _toConsumableArray(dropdownLinks);\n          var navLink = navItem.querySelector('[data-mega-menu-primary-link]'); // Hover delay events\n\n          navLink.addEventListener('mouseenter', function () {\n            _this2.openDropdown(dropdown);\n\n            _this2.tabbableElements = dropdownLinks;\n          });\n          navLink.addEventListener('click', function (event) {\n            event.preventDefault();\n          });\n          navItem.addEventListener('mouseleave', function () {\n            _this2.closeDropdowns([dropdown]);\n          });\n          dropdown.addEventListener('mouseleave', function () {\n            if (dropdown === _this2.activeDropdown) {\n              return;\n            }\n\n            _this2.closeDropdowns();\n\n            _this2.tabbableElements = null;\n          }); // Keyboard control events\n\n          navLink.addEventListener('keydown', function (event) {\n            if ( // close dropdowns from main nav\n            dropdown === _this2.activeDropdown && (event.key === 'Enter' || event.key === 'ArrowUp' || event.key === ' ')) {\n              _this2.closeDropdowns([dropdown]);\n            } else if ( // open dropdowns from main nav\n            !_this2.isDropdownOpen && (event.key === 'Enter' || event.key === 'ArrowDown' || event.key === ' ')) {\n              _this2.openDropdown(dropdown, navItem);\n            } else if ( // enter into dropdown from main nav\n            _this2.isDropdownOpen && dropdown === _this2.activeDropdown && event.key === 'ArrowDown') {\n              _this2.stepNext(dropdownLinks);\n            } else if (event.key === 'ArrowRight') {\n              // navigate between main nav items\n              _this2.stepNext(_this2.primaryLinks);\n            } else if (event.key === 'ArrowLeft') {\n              _this2.stepPrev(_this2.primaryLinks);\n            } else if (event.keyCode >= 65 && event.keyCode <= 90) {\n              // jump to main nav items by char\n              _this2.focusChar(event, _this2.primaryLinks);\n            }\n          });\n          dropdownLinks.forEach(function (dropdownLink) {\n            var secondaryLinks = dropdown.querySelectorAll('[data-mega-menu-secondary-link]');\n            secondaryLinks = _toConsumableArray(secondaryLinks);\n            dropdownLink.addEventListener('keydown', function (event) {\n              // move between links within dropdown\n              if (_this2.isDropdownOpen && event.key === 'ArrowDown') {\n                _this2.stepNext(dropdownLinks);\n              } else if (_this2.isDropdownOpen && event.key === 'ArrowUp') {\n                _this2.stepPrev(dropdownLinks);\n              } else if (_this2.isDropdownOpen && event.key === 'ArrowRight' && !dropdownLink.hasAttribute('data-mega-menu-image')) {\n                _this2.stepNext(secondaryLinks, true);\n              } else if (_this2.isDropdownOpen && event.key === 'ArrowLeft' && !dropdownLink.hasAttribute('data-mega-menu-image')) {\n                _this2.stepPrev(secondaryLinks, true);\n              } else if (event.keyCode >= 65 && event.keyCode <= 90) {\n                // jump to main nav items by char\n                _this2.focusChar(event, secondaryLinks);\n              }\n\n              if ( // return to main nav from dropdown\n              _this2.isDropdownOpen && dropdownLinks.indexOf(document.activeElement) === 0 && event.key === 'ArrowUp') {\n                _this2.stepNext(_this2.primaryLinks);\n              }\n            });\n          });\n        });\n      }\n    }, {\n      key: \"closeDropdowns\",\n      value: function () {\n        var _closeDropdowns = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          var _this3 = this;\n\n          var targets,\n              _args = arguments;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  targets = _args.length > 0 && _args[0] !== undefined ? _args[0] : this.dropdowns;\n                  _context.next = 3;\n                  return new Promise(function (resolve) {\n                    return setTimeout(function () {\n                      return resolve(true);\n                    }, 300);\n                  });\n\n                case 3:\n                  targets.forEach(function (dropdown) {\n                    _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].close(dropdown);\n                    dropdown.classList.remove('open');\n                    dropdown.setAttribute('aria-hidden', 'true');\n                    _this3.isDropdownOpen = false;\n                    _this3.activeDropdown = null;\n                  });\n                  this.index = 0;\n                  this.secondaryIndex = 0;\n\n                case 6:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function closeDropdowns() {\n          return _closeDropdowns.apply(this, arguments);\n        }\n\n        return closeDropdowns;\n      }()\n    }, {\n      key: \"openDropdown\",\n      value: function () {\n        var _openDropdown = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dropdown) {\n          var navItem,\n              _args2 = arguments;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  navItem = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : null;\n                  _context2.next = 3;\n                  return this.closeDropdowns();\n\n                case 3:\n                  if (navItem) {\n                    _scripts_core_trap_focus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].open(navItem);\n                  }\n\n                  this.activeDropdown = dropdown;\n                  dropdown.classList.add('open');\n                  dropdown.setAttribute('aria-hidden', 'false');\n                  this.isDropdownOpen = true;\n\n                case 8:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function openDropdown(_x) {\n          return _openDropdown.apply(this, arguments);\n        }\n\n        return openDropdown;\n      }()\n    }, {\n      key: \"stepNext\",\n      value: function stepNext(linkList) {\n        var secondaryHeaders = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        var focusedElement = document.activeElement;\n        focusedElement = secondaryHeaders ? focusedElement.closest('[role=menu').querySelector('[data-mega-menu-secondary-link') : focusedElement;\n        var activeIndex = linkList.indexOf(focusedElement);\n\n        if (activeIndex + 1 < linkList.length) {\n          linkList[activeIndex + 1].focus();\n        }\n      }\n    }, {\n      key: \"stepPrev\",\n      value: function stepPrev(linkList) {\n        var secondaryHeaders = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        var focusedElement = document.activeElement;\n        focusedElement = secondaryHeaders ? focusedElement.closest('[role=menu').querySelector('[data-mega-menu-secondary-link') : focusedElement;\n        var activeIndex = linkList.indexOf(focusedElement);\n\n        if (activeIndex - 1 >= 0) {\n          linkList[activeIndex - 1].focus();\n        }\n      }\n    }, {\n      key: \"focusChar\",\n      value: function focusChar(event, linkList) {\n        // Find all elements where the first letter is the pressed key AND the active element\n        var relevantArray = _toConsumableArray(linkList).filter(function (child) {\n          return child.textContent.trim().toLowerCase().charAt(0) === event.key || child === document.activeElement;\n        }); // Get current active element index\n\n\n        var activeIndex = _toConsumableArray(relevantArray).findIndex(function (child) {\n          return child === document.activeElement;\n        }); // Offset the array by the current active element. Allows using the focus function to select the next/prev\n\n\n        var offsetArray = this.offsetArray(relevantArray, activeIndex); // Get only the relevant key items (removes active element if it does not match)\n\n        var characterArray = _toConsumableArray(offsetArray).filter(function (child) {\n          return child.textContent.trim().toLowerCase().charAt(0) === event.key;\n        });\n\n        if (!characterArray.length) {\n          return;\n        }\n\n        this.stepNext(characterArray);\n      }\n    }, {\n      key: \"offsetArray\",\n      value: function offsetArray(array, offset) {\n        return [].concat(_toConsumableArray(_toConsumableArray(array).slice(offset)), _toConsumableArray(_toConsumableArray(array).slice(0, offset)));\n      }\n    }]);\n\n    return MegaMenu;\n  }( /*#__PURE__*/_wrapNativeSuper(HTMLElement)));\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3Mvc2VjdGlvbnMvbWVnYS1tZW51L21lZ2EtbWVudS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92aWV3cy9zZWN0aW9ucy9tZWdhLW1lbnUvbWVnYS1tZW51LmpzP2Y0ODUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7IF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7IGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7IGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHsgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7IF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpOyB9IGZ1bmN0aW9uIFdyYXBwZXIoKSB7IHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7IH0gV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogV3JhcHBlciwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7IH07IHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTsgfVxuXG5mdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgeyBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7IH0gZWxzZSB7IF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgdmFyIGEgPSBbbnVsbF07IGEucHVzaC5hcHBseShhLCBhcmdzKTsgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsIGEpOyB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTsgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7IHJldHVybiBpbnN0YW5jZTsgfTsgfSByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikgeyByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuaW1wb3J0IHRyYXBGb2N1cyBmcm9tICdAc2NyaXB0cy9jb3JlL3RyYXAtZm9jdXMnO1xuXG4oZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQoJ21lZ2EtbWVudScpICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ21lZ2EtbWVudScsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7XG4gICAgX2luaGVyaXRzKE1lZ2FNZW51LCBfSFRNTEVsZW1lbnQpO1xuXG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihNZWdhTWVudSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24gTWVnYU1lbnUoKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZWdhTWVudSk7XG5cbiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICBfdGhpcy5uYXZJdGVtcyA9IF90aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lZ2EtbWVudS1uYXYtaXRlbV0nKTtcbiAgICAgIF90aGlzLmRyb3Bkb3ducyA9IF90aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lZ2EtbWVudS1kcm9wZG93bl0nKTtcbiAgICAgIF90aGlzLnByaW1hcnlMaW5rcyA9IF90aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lZ2EtbWVudS1wcmltYXJ5LWxpbmtdJyk7XG4gICAgICBfdGhpcy50YWJiYWJsZUVsZW1lbnRzID0gbnVsbDtcbiAgICAgIF90aGlzLnByaW1hcnlMaW5rcyA9IF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5wcmltYXJ5TGlua3MpO1xuICAgICAgX3RoaXMubWVudUVudGVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgIF90aGlzLm1lbnVMZWF2ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICBfdGhpcy5pc0Ryb3Bkb3duT3BlbiA9IGZhbHNlO1xuICAgICAgX3RoaXMuYWN0aXZlRHJvcGRvd24gPSBudWxsO1xuXG4gICAgICBfdGhpcy5pbml0KCk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTWVnYU1lbnUsIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgJiYgX3RoaXMyLmlzRHJvcGRvd25PcGVuKSB7XG4gICAgICAgICAgICBfdGhpczIuY2xvc2VEcm9wZG93bnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBuYXZJdGVtcyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLm5hdkl0ZW1zKTtcblxuICAgICAgICBuYXZJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChuYXZJdGVtKSB7XG4gICAgICAgICAgdmFyIGRyb3Bkb3duID0gbmF2SXRlbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWdhLW1lbnUtZHJvcGRvd25dJyk7XG4gICAgICAgICAgdmFyIGRyb3Bkb3duTGlua3MgPSBkcm9wZG93bi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tZWdhLW1lbnUtbGlua10nKTtcbiAgICAgICAgICBkcm9wZG93bkxpbmtzID0gX3RvQ29uc3VtYWJsZUFycmF5KGRyb3Bkb3duTGlua3MpO1xuICAgICAgICAgIHZhciBuYXZMaW5rID0gbmF2SXRlbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWdhLW1lbnUtcHJpbWFyeS1saW5rXScpOyAvLyBIb3ZlciBkZWxheSBldmVudHNcblxuICAgICAgICAgIG5hdkxpbmsuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMi5vcGVuRHJvcGRvd24oZHJvcGRvd24pO1xuXG4gICAgICAgICAgICBfdGhpczIudGFiYmFibGVFbGVtZW50cyA9IGRyb3Bkb3duTGlua3M7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbmF2TGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuYXZJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczIuY2xvc2VEcm9wZG93bnMoW2Ryb3Bkb3duXSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChkcm9wZG93biA9PT0gX3RoaXMyLmFjdGl2ZURyb3Bkb3duKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMyLmNsb3NlRHJvcGRvd25zKCk7XG5cbiAgICAgICAgICAgIF90aGlzMi50YWJiYWJsZUVsZW1lbnRzID0gbnVsbDtcbiAgICAgICAgICB9KTsgLy8gS2V5Ym9hcmQgY29udHJvbCBldmVudHNcblxuICAgICAgICAgIG5hdkxpbmsuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKCAvLyBjbG9zZSBkcm9wZG93bnMgZnJvbSBtYWluIG5hdlxuICAgICAgICAgICAgZHJvcGRvd24gPT09IF90aGlzMi5hY3RpdmVEcm9wZG93biAmJiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJ0Fycm93VXAnIHx8IGV2ZW50LmtleSA9PT0gJyAnKSkge1xuICAgICAgICAgICAgICBfdGhpczIuY2xvc2VEcm9wZG93bnMoW2Ryb3Bkb3duXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCAvLyBvcGVuIGRyb3Bkb3ducyBmcm9tIG1haW4gbmF2XG4gICAgICAgICAgICAhX3RoaXMyLmlzRHJvcGRvd25PcGVuICYmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnQXJyb3dEb3duJyB8fCBldmVudC5rZXkgPT09ICcgJykpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLm9wZW5Ecm9wZG93bihkcm9wZG93biwgbmF2SXRlbSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCAvLyBlbnRlciBpbnRvIGRyb3Bkb3duIGZyb20gbWFpbiBuYXZcbiAgICAgICAgICAgIF90aGlzMi5pc0Ryb3Bkb3duT3BlbiAmJiBkcm9wZG93biA9PT0gX3RoaXMyLmFjdGl2ZURyb3Bkb3duICYmIGV2ZW50LmtleSA9PT0gJ0Fycm93RG93bicpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLnN0ZXBOZXh0KGRyb3Bkb3duTGlua3MpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xuICAgICAgICAgICAgICAvLyBuYXZpZ2F0ZSBiZXR3ZWVuIG1haW4gbmF2IGl0ZW1zXG4gICAgICAgICAgICAgIF90aGlzMi5zdGVwTmV4dChfdGhpczIucHJpbWFyeUxpbmtzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSAnQXJyb3dMZWZ0Jykge1xuICAgICAgICAgICAgICBfdGhpczIuc3RlcFByZXYoX3RoaXMyLnByaW1hcnlMaW5rcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPj0gNjUgJiYgZXZlbnQua2V5Q29kZSA8PSA5MCkge1xuICAgICAgICAgICAgICAvLyBqdW1wIHRvIG1haW4gbmF2IGl0ZW1zIGJ5IGNoYXJcbiAgICAgICAgICAgICAgX3RoaXMyLmZvY3VzQ2hhcihldmVudCwgX3RoaXMyLnByaW1hcnlMaW5rcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZHJvcGRvd25MaW5rcy5mb3JFYWNoKGZ1bmN0aW9uIChkcm9wZG93bkxpbmspIHtcbiAgICAgICAgICAgIHZhciBzZWNvbmRhcnlMaW5rcyA9IGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1lZ2EtbWVudS1zZWNvbmRhcnktbGlua10nKTtcbiAgICAgICAgICAgIHNlY29uZGFyeUxpbmtzID0gX3RvQ29uc3VtYWJsZUFycmF5KHNlY29uZGFyeUxpbmtzKTtcbiAgICAgICAgICAgIGRyb3Bkb3duTGluay5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgIC8vIG1vdmUgYmV0d2VlbiBsaW5rcyB3aXRoaW4gZHJvcGRvd25cbiAgICAgICAgICAgICAgaWYgKF90aGlzMi5pc0Ryb3Bkb3duT3BlbiAmJiBldmVudC5rZXkgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLnN0ZXBOZXh0KGRyb3Bkb3duTGlua3MpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5pc0Ryb3Bkb3duT3BlbiAmJiBldmVudC5rZXkgPT09ICdBcnJvd1VwJykge1xuICAgICAgICAgICAgICAgIF90aGlzMi5zdGVwUHJldihkcm9wZG93bkxpbmtzKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuaXNEcm9wZG93bk9wZW4gJiYgZXZlbnQua2V5ID09PSAnQXJyb3dSaWdodCcgJiYgIWRyb3Bkb3duTGluay5oYXNBdHRyaWJ1dGUoJ2RhdGEtbWVnYS1tZW51LWltYWdlJykpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuc3RlcE5leHQoc2Vjb25kYXJ5TGlua3MsIHRydWUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5pc0Ryb3Bkb3duT3BlbiAmJiBldmVudC5rZXkgPT09ICdBcnJvd0xlZnQnICYmICFkcm9wZG93bkxpbmsuaGFzQXR0cmlidXRlKCdkYXRhLW1lZ2EtbWVudS1pbWFnZScpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLnN0ZXBQcmV2KHNlY29uZGFyeUxpbmtzLCB0cnVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID49IDY1ICYmIGV2ZW50LmtleUNvZGUgPD0gOTApIHtcbiAgICAgICAgICAgICAgICAvLyBqdW1wIHRvIG1haW4gbmF2IGl0ZW1zIGJ5IGNoYXJcbiAgICAgICAgICAgICAgICBfdGhpczIuZm9jdXNDaGFyKGV2ZW50LCBzZWNvbmRhcnlMaW5rcyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoIC8vIHJldHVybiB0byBtYWluIG5hdiBmcm9tIGRyb3Bkb3duXG4gICAgICAgICAgICAgIF90aGlzMi5pc0Ryb3Bkb3duT3BlbiAmJiBkcm9wZG93bkxpbmtzLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgPT09IDAgJiYgZXZlbnQua2V5ID09PSAnQXJyb3dVcCcpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuc3RlcE5leHQoX3RoaXMyLnByaW1hcnlMaW5rcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VEcm9wZG93bnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfY2xvc2VEcm9wZG93bnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICB2YXIgdGFyZ2V0cyxcbiAgICAgICAgICAgICAgX2FyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgdGFyZ2V0cyA9IF9hcmdzLmxlbmd0aCA+IDAgJiYgX2FyZ3NbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzBdIDogdGhpcy5kcm9wZG93bnM7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgIHRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiAoZHJvcGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhcEZvY3VzLmNsb3NlKGRyb3Bkb3duKTtcbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xuICAgICAgICAgICAgICAgICAgICBkcm9wZG93bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmlzRHJvcGRvd25PcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5hY3RpdmVEcm9wZG93biA9IG51bGw7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnlJbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2xvc2VEcm9wZG93bnMoKSB7XG4gICAgICAgICAgcmV0dXJuIF9jbG9zZURyb3Bkb3ducy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNsb3NlRHJvcGRvd25zO1xuICAgICAgfSgpXG4gICAgfSwge1xuICAgICAga2V5OiBcIm9wZW5Ecm9wZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9vcGVuRHJvcGRvd24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGRyb3Bkb3duKSB7XG4gICAgICAgICAgdmFyIG5hdkl0ZW0sXG4gICAgICAgICAgICAgIF9hcmdzMiA9IGFyZ3VtZW50cztcbiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgbmF2SXRlbSA9IF9hcmdzMi5sZW5ndGggPiAxICYmIF9hcmdzMlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyWzFdIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NlRHJvcGRvd25zKCk7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICBpZiAobmF2SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFwRm9jdXMub3BlbihuYXZJdGVtKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVEcm9wZG93biA9IGRyb3Bkb3duO1xuICAgICAgICAgICAgICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuICAgICAgICAgICAgICAgICAgZHJvcGRvd24uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5pc0Ryb3Bkb3duT3BlbiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7XG4gICAgICAgIH0pKTtcblxuICAgICAgICBmdW5jdGlvbiBvcGVuRHJvcGRvd24oX3gpIHtcbiAgICAgICAgICByZXR1cm4gX29wZW5Ecm9wZG93bi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wZW5Ecm9wZG93bjtcbiAgICAgIH0oKVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzdGVwTmV4dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN0ZXBOZXh0KGxpbmtMaXN0KSB7XG4gICAgICAgIHZhciBzZWNvbmRhcnlIZWFkZXJzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICAgICAgdmFyIGZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgZm9jdXNlZEVsZW1lbnQgPSBzZWNvbmRhcnlIZWFkZXJzID8gZm9jdXNlZEVsZW1lbnQuY2xvc2VzdCgnW3JvbGU9bWVudScpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1lZ2EtbWVudS1zZWNvbmRhcnktbGluaycpIDogZm9jdXNlZEVsZW1lbnQ7XG4gICAgICAgIHZhciBhY3RpdmVJbmRleCA9IGxpbmtMaXN0LmluZGV4T2YoZm9jdXNlZEVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChhY3RpdmVJbmRleCArIDEgPCBsaW5rTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICBsaW5rTGlzdFthY3RpdmVJbmRleCArIDFdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic3RlcFByZXZcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdGVwUHJldihsaW5rTGlzdCkge1xuICAgICAgICB2YXIgc2Vjb25kYXJ5SGVhZGVycyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICAgIHZhciBmb2N1c2VkRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGZvY3VzZWRFbGVtZW50ID0gc2Vjb25kYXJ5SGVhZGVycyA/IGZvY3VzZWRFbGVtZW50LmNsb3Nlc3QoJ1tyb2xlPW1lbnUnKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tZWdhLW1lbnUtc2Vjb25kYXJ5LWxpbmsnKSA6IGZvY3VzZWRFbGVtZW50O1xuICAgICAgICB2YXIgYWN0aXZlSW5kZXggPSBsaW5rTGlzdC5pbmRleE9mKGZvY3VzZWRFbGVtZW50KTtcblxuICAgICAgICBpZiAoYWN0aXZlSW5kZXggLSAxID49IDApIHtcbiAgICAgICAgICBsaW5rTGlzdFthY3RpdmVJbmRleCAtIDFdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZm9jdXNDaGFyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXNDaGFyKGV2ZW50LCBsaW5rTGlzdCkge1xuICAgICAgICAvLyBGaW5kIGFsbCBlbGVtZW50cyB3aGVyZSB0aGUgZmlyc3QgbGV0dGVyIGlzIHRoZSBwcmVzc2VkIGtleSBBTkQgdGhlIGFjdGl2ZSBlbGVtZW50XG4gICAgICAgIHZhciByZWxldmFudEFycmF5ID0gX3RvQ29uc3VtYWJsZUFycmF5KGxpbmtMaXN0KS5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkLnRleHRDb250ZW50LnRyaW0oKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKSA9PT0gZXZlbnQua2V5IHx8IGNoaWxkID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICB9KTsgLy8gR2V0IGN1cnJlbnQgYWN0aXZlIGVsZW1lbnQgaW5kZXhcblxuXG4gICAgICAgIHZhciBhY3RpdmVJbmRleCA9IF90b0NvbnN1bWFibGVBcnJheShyZWxldmFudEFycmF5KS5maW5kSW5kZXgoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICB9KTsgLy8gT2Zmc2V0IHRoZSBhcnJheSBieSB0aGUgY3VycmVudCBhY3RpdmUgZWxlbWVudC4gQWxsb3dzIHVzaW5nIHRoZSBmb2N1cyBmdW5jdGlvbiB0byBzZWxlY3QgdGhlIG5leHQvcHJldlxuXG5cbiAgICAgICAgdmFyIG9mZnNldEFycmF5ID0gdGhpcy5vZmZzZXRBcnJheShyZWxldmFudEFycmF5LCBhY3RpdmVJbmRleCk7IC8vIEdldCBvbmx5IHRoZSByZWxldmFudCBrZXkgaXRlbXMgKHJlbW92ZXMgYWN0aXZlIGVsZW1lbnQgaWYgaXQgZG9lcyBub3QgbWF0Y2gpXG5cbiAgICAgICAgdmFyIGNoYXJhY3RlckFycmF5ID0gX3RvQ29uc3VtYWJsZUFycmF5KG9mZnNldEFycmF5KS5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkLnRleHRDb250ZW50LnRyaW0oKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKSA9PT0gZXZlbnQua2V5O1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWNoYXJhY3RlckFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RlcE5leHQoY2hhcmFjdGVyQXJyYXkpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvZmZzZXRBcnJheVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9mZnNldEFycmF5KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RvQ29uc3VtYWJsZUFycmF5KGFycmF5KS5zbGljZShvZmZzZXQpKSwgX3RvQ29uc3VtYWJsZUFycmF5KF90b0NvbnN1bWFibGVBcnJheShhcnJheSkuc2xpY2UoMCwgb2Zmc2V0KSkpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNZWdhTWVudTtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKSk7XG59KSgpOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/sections/mega-menu/mega-menu.js\n");

/***/ })

/******/ });